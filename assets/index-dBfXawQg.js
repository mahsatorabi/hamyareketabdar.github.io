var Wg=t=>{throw TypeError(t)};var $d=(t,e,n)=>e.has(t)||Wg("Cannot "+n);var F=(t,e,n)=>($d(t,e,"read from private field"),n?n.call(t):e.get(t)),_e=(t,e,n)=>e.has(t)?Wg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),le=(t,e,n,r)=>($d(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),wt=(t,e,n)=>($d(t,e,"access private method"),n);var zl=(t,e,n,r)=>({set _(s){le(t,e,s,n)},get _(){return F(t,e,r)}});function dS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function r0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s0={exports:{}},Dc={},i0={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cl=Symbol.for("react.element"),hS=Symbol.for("react.portal"),fS=Symbol.for("react.fragment"),pS=Symbol.for("react.strict_mode"),mS=Symbol.for("react.profiler"),gS=Symbol.for("react.provider"),yS=Symbol.for("react.context"),vS=Symbol.for("react.forward_ref"),wS=Symbol.for("react.suspense"),_S=Symbol.for("react.memo"),ES=Symbol.for("react.lazy"),qg=Symbol.iterator;function xS(t){return t===null||typeof t!="object"?null:(t=qg&&t[qg]||t["@@iterator"],typeof t=="function"?t:null)}var o0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a0=Object.assign,l0={};function Ao(t,e,n){this.props=t,this.context=e,this.refs=l0,this.updater=n||o0}Ao.prototype.isReactComponent={};Ao.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ao.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function u0(){}u0.prototype=Ao.prototype;function hp(t,e,n){this.props=t,this.context=e,this.refs=l0,this.updater=n||o0}var fp=hp.prototype=new u0;fp.constructor=hp;a0(fp,Ao.prototype);fp.isPureReactComponent=!0;var Qg=Array.isArray,c0=Object.prototype.hasOwnProperty,pp={current:null},d0={key:!0,ref:!0,__self:!0,__source:!0};function h0(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)c0.call(e,r)&&!d0.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:cl,type:t,key:i,ref:o,props:s,_owner:pp.current}}function TS(t,e){return{$$typeof:cl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mp(t){return typeof t=="object"&&t!==null&&t.$$typeof===cl}function SS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Kg=/\/+/g;function Bd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SS(""+t.key):e.toString(36)}function gu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cl:case hS:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Bd(o,0):r,Qg(s)?(n="",t!=null&&(n=t.replace(Kg,"$&/")+"/"),gu(s,e,n,"",function(c){return c})):s!=null&&(mp(s)&&(s=TS(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Kg,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Qg(t))for(var l=0;l<t.length;l++){i=t[l];var u=r+Bd(i,l);o+=gu(i,e,n,u,s)}else if(u=xS(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=r+Bd(i,l++),o+=gu(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function $l(t,e,n){if(t==null)return t;var r=[],s=0;return gu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function CS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dt={current:null},yu={transition:null},AS={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:yu,ReactCurrentOwner:pp};function f0(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:$l,forEach:function(t,e,n){$l(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $l(t,function(){e++}),e},toArray:function(t){return $l(t,function(e){return e})||[]},only:function(t){if(!mp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=Ao;he.Fragment=fS;he.Profiler=mS;he.PureComponent=hp;he.StrictMode=pS;he.Suspense=wS;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AS;he.act=f0;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=a0({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=pp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)c0.call(e,u)&&!d0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:cl,type:t.type,key:s,ref:i,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:yS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gS,_context:t},t.Consumer=t};he.createElement=h0;he.createFactory=function(t){var e=h0.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:vS,render:t}};he.isValidElement=mp;he.lazy=function(t){return{$$typeof:ES,_payload:{_status:-1,_result:t},_init:CS}};he.memo=function(t,e){return{$$typeof:_S,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=yu.transition;yu.transition={};try{t()}finally{yu.transition=e}};he.unstable_act=f0;he.useCallback=function(t,e){return Dt.current.useCallback(t,e)};he.useContext=function(t){return Dt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Dt.current.useDeferredValue(t)};he.useEffect=function(t,e){return Dt.current.useEffect(t,e)};he.useId=function(){return Dt.current.useId()};he.useImperativeHandle=function(t,e,n){return Dt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Dt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Dt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Dt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Dt.current.useReducer(t,e,n)};he.useRef=function(t){return Dt.current.useRef(t)};he.useState=function(t){return Dt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Dt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Dt.current.useTransition()};he.version="18.3.1";i0.exports=he;var R=i0.exports;const Q=r0(R),p0=dS({__proto__:null,default:Q},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bS=R,IS=Symbol.for("react.element"),PS=Symbol.for("react.fragment"),RS=Object.prototype.hasOwnProperty,kS=bS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NS={key:!0,ref:!0,__self:!0,__source:!0};function m0(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)RS.call(e,r)&&!NS.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:IS,type:t,key:i,ref:o,props:s,_owner:kS.current}}Dc.Fragment=PS;Dc.jsx=m0;Dc.jsxs=m0;s0.exports=Dc;var E=s0.exports,g0={exports:{}},on={},y0={exports:{}},v0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,U){var W=j.length;j.push(U);e:for(;0<W;){var ee=W-1>>>1,X=j[ee];if(0<s(X,U))j[ee]=U,j[W]=X,W=ee;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var U=j[0],W=j.pop();if(W!==U){j[0]=W;e:for(var ee=0,X=j.length,Z=X>>>1;ee<Z;){var de=2*(ee+1)-1,be=j[de],tt=de+1,pe=j[tt];if(0>s(be,W))tt<X&&0>s(pe,be)?(j[ee]=pe,j[tt]=W,ee=tt):(j[ee]=be,j[de]=W,ee=de);else if(tt<X&&0>s(pe,W))j[ee]=pe,j[tt]=W,ee=tt;else break e}}return U}function s(j,U){var W=j.sortIndex-U.sortIndex;return W!==0?W:j.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,f=null,p=3,m=!1,S=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=j)r(c),U.sortIndex=U.expirationTime,e(u,U);else break;U=n(c)}}function D(j){if(w=!1,T(j),!S)if(n(u)!==null)S=!0,re(V);else{var U=n(c);U!==null&&$(D,U.startTime-j)}}function V(j,U){S=!1,w&&(w=!1,v(_),_=-1),m=!0;var W=p;try{for(T(U),f=n(u);f!==null&&(!(f.expirationTime>U)||j&&!k());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,p=f.priorityLevel;var X=ee(f.expirationTime<=U);U=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(u)&&r(u),T(U)}else r(u);f=n(u)}if(f!==null)var Z=!0;else{var de=n(c);de!==null&&$(D,de.startTime-U),Z=!1}return Z}finally{f=null,p=W,m=!1}}var L=!1,C=null,_=-1,b=5,I=-1;function k(){return!(t.unstable_now()-I<b)}function N(){if(C!==null){var j=t.unstable_now();I=j;var U=!0;try{U=C(!0,j)}finally{U?P():(L=!1,C=null)}}else L=!1}var P;if(typeof y=="function")P=function(){y(N)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ne=q.port2;q.port1.onmessage=N,P=function(){ne.postMessage(null)}}else P=function(){x(N,0)};function re(j){C=j,L||(L=!0,P())}function $(j,U){_=x(function(){j(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){S||m||(S=!0,re(V))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var W=p;p=U;try{return j()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var W=p;p=j;try{return U()}finally{p=W}},t.unstable_scheduleCallback=function(j,U,W){var ee=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ee+W:ee):W=ee,j){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=W+X,j={id:h++,callback:U,priorityLevel:j,startTime:W,expirationTime:X,sortIndex:-1},W>ee?(j.sortIndex=W,e(c,j),n(u)===null&&j===n(c)&&(w?(v(_),_=-1):w=!0,$(D,W-ee))):(j.sortIndex=X,e(u,j),S||m||(S=!0,re(V))),j},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(j){var U=p;return function(){var W=p;p=U;try{return j.apply(this,arguments)}finally{p=W}}}})(v0);y0.exports=v0;var DS=y0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VS=R,sn=DS;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w0=new Set,Na={};function di(t,e){co(t,e),co(t+"Capture",e)}function co(t,e){for(Na[t]=e,t=0;t<e.length;t++)w0.add(e[t])}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vh=Object.prototype.hasOwnProperty,OS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gg={},Yg={};function LS(t){return Vh.call(Yg,t)?!0:Vh.call(Gg,t)?!1:OS.test(t)?Yg[t]=!0:(Gg[t]=!0,!1)}function MS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jS(t,e,n,r){if(e===null||typeof e>"u"||MS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new Vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new Vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new Vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new Vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new Vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new Vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new Vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new Vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new Vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var gp=/[\-:]([a-z])/g;function yp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gp,yp);mt[e]=new Vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gp,yp);mt[e]=new Vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gp,yp);mt[e]=new Vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function vp(t,e,n,r){var s=mt.hasOwnProperty(e)?mt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jS(e,n,s,r)&&(n=null),r||s===null?LS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var br=VS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bl=Symbol.for("react.element"),Ri=Symbol.for("react.portal"),ki=Symbol.for("react.fragment"),wp=Symbol.for("react.strict_mode"),Oh=Symbol.for("react.profiler"),_0=Symbol.for("react.provider"),E0=Symbol.for("react.context"),_p=Symbol.for("react.forward_ref"),Lh=Symbol.for("react.suspense"),Mh=Symbol.for("react.suspense_list"),Ep=Symbol.for("react.memo"),Ur=Symbol.for("react.lazy"),x0=Symbol.for("react.offscreen"),Xg=Symbol.iterator;function Jo(t){return t===null||typeof t!="object"?null:(t=Xg&&t[Xg]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,Hd;function la(t){if(Hd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Hd=e&&e[1]||""}return`
`+Hd+t}var Wd=!1;function qd(t,e){if(!t||Wd)return"";Wd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Wd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?la(t):""}function FS(t){switch(t.tag){case 5:return la(t.type);case 16:return la("Lazy");case 13:return la("Suspense");case 19:return la("SuspenseList");case 0:case 2:case 15:return t=qd(t.type,!1),t;case 11:return t=qd(t.type.render,!1),t;case 1:return t=qd(t.type,!0),t;default:return""}}function jh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ki:return"Fragment";case Ri:return"Portal";case Oh:return"Profiler";case wp:return"StrictMode";case Lh:return"Suspense";case Mh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case E0:return(t.displayName||"Context")+".Consumer";case _0:return(t._context.displayName||"Context")+".Provider";case _p:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ep:return e=t.displayName||null,e!==null?e:jh(t.type)||"Memo";case Ur:e=t._payload,t=t._init;try{return jh(t(e))}catch{}}return null}function US(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jh(e);case 8:return e===wp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function T0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zS(t){var e=T0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hl(t){t._valueTracker||(t._valueTracker=zS(t))}function S0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=T0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ju(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fh(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Jg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function C0(t,e){e=e.checked,e!=null&&vp(t,"checked",e,!1)}function Uh(t,e){C0(t,e);var n=hs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zh(t,e.type,n):e.hasOwnProperty("defaultValue")&&zh(t,e.type,hs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Zg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zh(t,e,n){(e!=="number"||ju(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ua=Array.isArray;function $i(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function $h(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ey(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(ua(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hs(n)}}function A0(t,e){var n=hs(e.value),r=hs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ty(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function b0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?b0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wl,I0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wl=Wl||document.createElement("div"),Wl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Da(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ma={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$S=["Webkit","ms","Moz","O"];Object.keys(ma).forEach(function(t){$S.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ma[e]=ma[t]})});function P0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ma.hasOwnProperty(t)&&ma[t]?(""+e).trim():e+"px"}function R0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=P0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var BS=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hh(t,e){if(e){if(BS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Wh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qh=null;function xp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qh=null,Bi=null,Hi=null;function ny(t){if(t=fl(t)){if(typeof Qh!="function")throw Error(H(280));var e=t.stateNode;e&&(e=jc(e),Qh(t.stateNode,t.type,e))}}function k0(t){Bi?Hi?Hi.push(t):Hi=[t]:Bi=t}function N0(){if(Bi){var t=Bi,e=Hi;if(Hi=Bi=null,ny(t),e)for(t=0;t<e.length;t++)ny(e[t])}}function D0(t,e){return t(e)}function V0(){}var Qd=!1;function O0(t,e,n){if(Qd)return t(e,n);Qd=!0;try{return D0(t,e,n)}finally{Qd=!1,(Bi!==null||Hi!==null)&&(V0(),N0())}}function Va(t,e){var n=t.stateNode;if(n===null)return null;var r=jc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Kh=!1;if(vr)try{var Zo={};Object.defineProperty(Zo,"passive",{get:function(){Kh=!0}}),window.addEventListener("test",Zo,Zo),window.removeEventListener("test",Zo,Zo)}catch{Kh=!1}function HS(t,e,n,r,s,i,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var ga=!1,Fu=null,Uu=!1,Gh=null,WS={onError:function(t){ga=!0,Fu=t}};function qS(t,e,n,r,s,i,o,l,u){ga=!1,Fu=null,HS.apply(WS,arguments)}function QS(t,e,n,r,s,i,o,l,u){if(qS.apply(this,arguments),ga){if(ga){var c=Fu;ga=!1,Fu=null}else throw Error(H(198));Uu||(Uu=!0,Gh=c)}}function hi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function L0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ry(t){if(hi(t)!==t)throw Error(H(188))}function KS(t){var e=t.alternate;if(!e){if(e=hi(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ry(s),t;if(i===r)return ry(s),e;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function M0(t){return t=KS(t),t!==null?j0(t):null}function j0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=j0(t);if(e!==null)return e;t=t.sibling}return null}var F0=sn.unstable_scheduleCallback,sy=sn.unstable_cancelCallback,GS=sn.unstable_shouldYield,YS=sn.unstable_requestPaint,qe=sn.unstable_now,XS=sn.unstable_getCurrentPriorityLevel,Tp=sn.unstable_ImmediatePriority,U0=sn.unstable_UserBlockingPriority,zu=sn.unstable_NormalPriority,JS=sn.unstable_LowPriority,z0=sn.unstable_IdlePriority,Vc=null,Kn=null;function ZS(t){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(Vc,t,void 0,(t.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:nC,eC=Math.log,tC=Math.LN2;function nC(t){return t>>>=0,t===0?32:31-(eC(t)/tC|0)|0}var ql=64,Ql=4194304;function ca(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $u(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ca(l):(i&=o,i!==0&&(r=ca(i)))}else o=n&~s,o!==0?r=ca(o):i!==0&&(r=ca(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rn(e),s=1<<n,r|=t[n],e&=~s;return r}function rC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Rn(i),l=1<<o,u=s[o];u===-1?(!(l&n)||l&r)&&(s[o]=rC(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function Yh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $0(){var t=ql;return ql<<=1,!(ql&4194240)&&(ql=64),t}function Kd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function dl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rn(e),t[e]=n}function iC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Rn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Sp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Se=0;function B0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var H0,Cp,W0,q0,Q0,Xh=!1,Kl=[],Zr=null,es=null,ts=null,Oa=new Map,La=new Map,$r=[],oC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iy(t,e){switch(t){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":Oa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":La.delete(e.pointerId)}}function ea(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=fl(e),e!==null&&Cp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function aC(t,e,n,r,s){switch(e){case"focusin":return Zr=ea(Zr,t,e,n,r,s),!0;case"dragenter":return es=ea(es,t,e,n,r,s),!0;case"mouseover":return ts=ea(ts,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Oa.set(i,ea(Oa.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,La.set(i,ea(La.get(i)||null,t,e,n,r,s)),!0}return!1}function K0(t){var e=Bs(t.target);if(e!==null){var n=hi(e);if(n!==null){if(e=n.tag,e===13){if(e=L0(n),e!==null){t.blockedOn=e,Q0(t.priority,function(){W0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qh=r,n.target.dispatchEvent(r),qh=null}else return e=fl(n),e!==null&&Cp(e),t.blockedOn=n,!1;e.shift()}return!0}function oy(t,e,n){vu(t)&&n.delete(e)}function lC(){Xh=!1,Zr!==null&&vu(Zr)&&(Zr=null),es!==null&&vu(es)&&(es=null),ts!==null&&vu(ts)&&(ts=null),Oa.forEach(oy),La.forEach(oy)}function ta(t,e){t.blockedOn===e&&(t.blockedOn=null,Xh||(Xh=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,lC)))}function Ma(t){function e(s){return ta(s,t)}if(0<Kl.length){ta(Kl[0],t);for(var n=1;n<Kl.length;n++){var r=Kl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zr!==null&&ta(Zr,t),es!==null&&ta(es,t),ts!==null&&ta(ts,t),Oa.forEach(e),La.forEach(e),n=0;n<$r.length;n++)r=$r[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$r.length&&(n=$r[0],n.blockedOn===null);)K0(n),n.blockedOn===null&&$r.shift()}var Wi=br.ReactCurrentBatchConfig,Bu=!0;function uC(t,e,n,r){var s=Se,i=Wi.transition;Wi.transition=null;try{Se=1,Ap(t,e,n,r)}finally{Se=s,Wi.transition=i}}function cC(t,e,n,r){var s=Se,i=Wi.transition;Wi.transition=null;try{Se=4,Ap(t,e,n,r)}finally{Se=s,Wi.transition=i}}function Ap(t,e,n,r){if(Bu){var s=Jh(t,e,n,r);if(s===null)sh(t,e,r,Hu,n),iy(t,r);else if(aC(s,t,e,n,r))r.stopPropagation();else if(iy(t,r),e&4&&-1<oC.indexOf(t)){for(;s!==null;){var i=fl(s);if(i!==null&&H0(i),i=Jh(t,e,n,r),i===null&&sh(t,e,r,Hu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else sh(t,e,r,null,n)}}var Hu=null;function Jh(t,e,n,r){if(Hu=null,t=xp(r),t=Bs(t),t!==null)if(e=hi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=L0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hu=t,null}function G0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XS()){case Tp:return 1;case U0:return 4;case zu:case JS:return 16;case z0:return 536870912;default:return 16}default:return 16}}var Gr=null,bp=null,wu=null;function Y0(){if(wu)return wu;var t,e=bp,n=e.length,r,s="value"in Gr?Gr.value:Gr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return wu=s.slice(t,1<r?1-r:void 0)}function _u(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gl(){return!0}function ay(){return!1}function an(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Gl:ay,this.isPropagationStopped=ay,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),e}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ip=an(bo),hl=Fe({},bo,{view:0,detail:0}),dC=an(hl),Gd,Yd,na,Oc=Fe({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==na&&(na&&t.type==="mousemove"?(Gd=t.screenX-na.screenX,Yd=t.screenY-na.screenY):Yd=Gd=0,na=t),Gd)},movementY:function(t){return"movementY"in t?t.movementY:Yd}}),ly=an(Oc),hC=Fe({},Oc,{dataTransfer:0}),fC=an(hC),pC=Fe({},hl,{relatedTarget:0}),Xd=an(pC),mC=Fe({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),gC=an(mC),yC=Fe({},bo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vC=an(yC),wC=Fe({},bo,{data:0}),uy=an(wC),_C={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xC[t])?!!e[t]:!1}function Pp(){return TC}var SC=Fe({},hl,{key:function(t){if(t.key){var e=_C[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_u(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?EC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pp,charCode:function(t){return t.type==="keypress"?_u(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_u(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),CC=an(SC),AC=Fe({},Oc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cy=an(AC),bC=Fe({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pp}),IC=an(bC),PC=Fe({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),RC=an(PC),kC=Fe({},Oc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NC=an(kC),DC=[9,13,27,32],Rp=vr&&"CompositionEvent"in window,ya=null;vr&&"documentMode"in document&&(ya=document.documentMode);var VC=vr&&"TextEvent"in window&&!ya,X0=vr&&(!Rp||ya&&8<ya&&11>=ya),dy=" ",hy=!1;function J0(t,e){switch(t){case"keyup":return DC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ni=!1;function OC(t,e){switch(t){case"compositionend":return Z0(e);case"keypress":return e.which!==32?null:(hy=!0,dy);case"textInput":return t=e.data,t===dy&&hy?null:t;default:return null}}function LC(t,e){if(Ni)return t==="compositionend"||!Rp&&J0(t,e)?(t=Y0(),wu=bp=Gr=null,Ni=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return X0&&e.locale!=="ko"?null:e.data;default:return null}}var MC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!MC[t.type]:e==="textarea"}function e_(t,e,n,r){k0(r),e=Wu(e,"onChange"),0<e.length&&(n=new Ip("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var va=null,ja=null;function jC(t){d_(t,0)}function Lc(t){var e=Oi(t);if(S0(e))return t}function FC(t,e){if(t==="change")return e}var t_=!1;if(vr){var Jd;if(vr){var Zd="oninput"in document;if(!Zd){var py=document.createElement("div");py.setAttribute("oninput","return;"),Zd=typeof py.oninput=="function"}Jd=Zd}else Jd=!1;t_=Jd&&(!document.documentMode||9<document.documentMode)}function my(){va&&(va.detachEvent("onpropertychange",n_),ja=va=null)}function n_(t){if(t.propertyName==="value"&&Lc(ja)){var e=[];e_(e,ja,t,xp(t)),O0(jC,e)}}function UC(t,e,n){t==="focusin"?(my(),va=e,ja=n,va.attachEvent("onpropertychange",n_)):t==="focusout"&&my()}function zC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lc(ja)}function $C(t,e){if(t==="click")return Lc(e)}function BC(t,e){if(t==="input"||t==="change")return Lc(e)}function HC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dn=typeof Object.is=="function"?Object.is:HC;function Fa(t,e){if(Dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Vh.call(e,s)||!Dn(t[s],e[s]))return!1}return!0}function gy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yy(t,e){var n=gy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gy(n)}}function r_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?r_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function s_(){for(var t=window,e=ju();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ju(t.document)}return e}function kp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function WC(t){var e=s_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&r_(n.ownerDocument.documentElement,n)){if(r!==null&&kp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=yy(n,i);var o=yy(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qC=vr&&"documentMode"in document&&11>=document.documentMode,Di=null,Zh=null,wa=null,ef=!1;function vy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ef||Di==null||Di!==ju(r)||(r=Di,"selectionStart"in r&&kp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wa&&Fa(wa,r)||(wa=r,r=Wu(Zh,"onSelect"),0<r.length&&(e=new Ip("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Di)))}function Yl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vi={animationend:Yl("Animation","AnimationEnd"),animationiteration:Yl("Animation","AnimationIteration"),animationstart:Yl("Animation","AnimationStart"),transitionend:Yl("Transition","TransitionEnd")},eh={},i_={};vr&&(i_=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function Mc(t){if(eh[t])return eh[t];if(!Vi[t])return t;var e=Vi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in i_)return eh[t]=e[n];return t}var o_=Mc("animationend"),a_=Mc("animationiteration"),l_=Mc("animationstart"),u_=Mc("transitionend"),c_=new Map,wy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function As(t,e){c_.set(t,e),di(e,[t])}for(var th=0;th<wy.length;th++){var nh=wy[th],QC=nh.toLowerCase(),KC=nh[0].toUpperCase()+nh.slice(1);As(QC,"on"+KC)}As(o_,"onAnimationEnd");As(a_,"onAnimationIteration");As(l_,"onAnimationStart");As("dblclick","onDoubleClick");As("focusin","onFocus");As("focusout","onBlur");As(u_,"onTransitionEnd");co("onMouseEnter",["mouseout","mouseover"]);co("onMouseLeave",["mouseout","mouseover"]);co("onPointerEnter",["pointerout","pointerover"]);co("onPointerLeave",["pointerout","pointerover"]);di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));di("onBeforeInput",["compositionend","keypress","textInput","paste"]);di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GC=new Set("cancel close invalid load scroll toggle".split(" ").concat(da));function _y(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,QS(r,e,void 0,t),t.currentTarget=null}function d_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;_y(s,l,c),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;_y(s,l,c),i=u}}}if(Uu)throw t=Gh,Uu=!1,Gh=null,t}function ke(t,e){var n=e[of];n===void 0&&(n=e[of]=new Set);var r=t+"__bubble";n.has(r)||(h_(e,t,2,!1),n.add(r))}function rh(t,e,n){var r=0;e&&(r|=4),h_(n,t,r,e)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function Ua(t){if(!t[Xl]){t[Xl]=!0,w0.forEach(function(n){n!=="selectionchange"&&(GC.has(n)||rh(n,!1,t),rh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xl]||(e[Xl]=!0,rh("selectionchange",!1,e))}}function h_(t,e,n,r){switch(G0(e)){case 1:var s=uC;break;case 4:s=cC;break;default:s=Ap}n=s.bind(null,e,n,t),s=void 0,!Kh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function sh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Bs(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}O0(function(){var c=i,h=xp(n),f=[];e:{var p=c_.get(t);if(p!==void 0){var m=Ip,S=t;switch(t){case"keypress":if(_u(n)===0)break e;case"keydown":case"keyup":m=CC;break;case"focusin":S="focus",m=Xd;break;case"focusout":S="blur",m=Xd;break;case"beforeblur":case"afterblur":m=Xd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ly;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=fC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=IC;break;case o_:case a_:case l_:m=gC;break;case u_:m=RC;break;case"scroll":m=dC;break;case"wheel":m=NC;break;case"copy":case"cut":case"paste":m=vC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=cy}var w=(e&4)!==0,x=!w&&t==="scroll",v=w?p!==null?p+"Capture":null:p;w=[];for(var y=c,T;y!==null;){T=y;var D=T.stateNode;if(T.tag===5&&D!==null&&(T=D,v!==null&&(D=Va(y,v),D!=null&&w.push(za(y,D,T)))),x)break;y=y.return}0<w.length&&(p=new m(p,S,null,n,h),f.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==qh&&(S=n.relatedTarget||n.fromElement)&&(Bs(S)||S[wr]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(S=n.relatedTarget||n.toElement,m=c,S=S?Bs(S):null,S!==null&&(x=hi(S),S!==x||S.tag!==5&&S.tag!==6)&&(S=null)):(m=null,S=c),m!==S)){if(w=ly,D="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=cy,D="onPointerLeave",v="onPointerEnter",y="pointer"),x=m==null?p:Oi(m),T=S==null?p:Oi(S),p=new w(D,y+"leave",m,n,h),p.target=x,p.relatedTarget=T,D=null,Bs(h)===c&&(w=new w(v,y+"enter",S,n,h),w.target=T,w.relatedTarget=x,D=w),x=D,m&&S)t:{for(w=m,v=S,y=0,T=w;T;T=Ti(T))y++;for(T=0,D=v;D;D=Ti(D))T++;for(;0<y-T;)w=Ti(w),y--;for(;0<T-y;)v=Ti(v),T--;for(;y--;){if(w===v||v!==null&&w===v.alternate)break t;w=Ti(w),v=Ti(v)}w=null}else w=null;m!==null&&Ey(f,p,m,w,!1),S!==null&&x!==null&&Ey(f,x,S,w,!0)}}e:{if(p=c?Oi(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var V=FC;else if(fy(p))if(t_)V=BC;else{V=zC;var L=UC}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(V=$C);if(V&&(V=V(t,c))){e_(f,V,n,h);break e}L&&L(t,p,c),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&zh(p,"number",p.value)}switch(L=c?Oi(c):window,t){case"focusin":(fy(L)||L.contentEditable==="true")&&(Di=L,Zh=c,wa=null);break;case"focusout":wa=Zh=Di=null;break;case"mousedown":ef=!0;break;case"contextmenu":case"mouseup":case"dragend":ef=!1,vy(f,n,h);break;case"selectionchange":if(qC)break;case"keydown":case"keyup":vy(f,n,h)}var C;if(Rp)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Ni?J0(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(X0&&n.locale!=="ko"&&(Ni||_!=="onCompositionStart"?_==="onCompositionEnd"&&Ni&&(C=Y0()):(Gr=h,bp="value"in Gr?Gr.value:Gr.textContent,Ni=!0)),L=Wu(c,_),0<L.length&&(_=new uy(_,t,null,n,h),f.push({event:_,listeners:L}),C?_.data=C:(C=Z0(n),C!==null&&(_.data=C)))),(C=VC?OC(t,n):LC(t,n))&&(c=Wu(c,"onBeforeInput"),0<c.length&&(h=new uy("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=C))}d_(f,e)})}function za(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Va(t,n),i!=null&&r.unshift(za(t,i,s)),i=Va(t,e),i!=null&&r.push(za(t,i,s))),t=t.return}return r}function Ti(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ey(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,s?(u=Va(n,i),u!=null&&o.unshift(za(n,u,l))):s||(u=Va(n,i),u!=null&&o.push(za(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var YC=/\r\n?/g,XC=/\u0000|\uFFFD/g;function xy(t){return(typeof t=="string"?t:""+t).replace(YC,`
`).replace(XC,"")}function Jl(t,e,n){if(e=xy(e),xy(t)!==e&&n)throw Error(H(425))}function qu(){}var tf=null,nf=null;function rf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sf=typeof setTimeout=="function"?setTimeout:void 0,JC=typeof clearTimeout=="function"?clearTimeout:void 0,Ty=typeof Promise=="function"?Promise:void 0,ZC=typeof queueMicrotask=="function"?queueMicrotask:typeof Ty<"u"?function(t){return Ty.resolve(null).then(t).catch(eA)}:sf;function eA(t){setTimeout(function(){throw t})}function ih(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ma(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ma(e)}function ns(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Sy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Io=Math.random().toString(36).slice(2),qn="__reactFiber$"+Io,$a="__reactProps$"+Io,wr="__reactContainer$"+Io,of="__reactEvents$"+Io,tA="__reactListeners$"+Io,nA="__reactHandles$"+Io;function Bs(t){var e=t[qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wr]||n[qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Sy(t);t!==null;){if(n=t[qn])return n;t=Sy(t)}return e}t=n,n=t.parentNode}return null}function fl(t){return t=t[qn]||t[wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Oi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function jc(t){return t[$a]||null}var af=[],Li=-1;function bs(t){return{current:t}}function Ve(t){0>Li||(t.current=af[Li],af[Li]=null,Li--)}function Ie(t,e){Li++,af[Li]=t.current,t.current=e}var fs={},bt=bs(fs),Ht=bs(!1),ni=fs;function ho(t,e){var n=t.type.contextTypes;if(!n)return fs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Wt(t){return t=t.childContextTypes,t!=null}function Qu(){Ve(Ht),Ve(bt)}function Cy(t,e,n){if(bt.current!==fs)throw Error(H(168));Ie(bt,e),Ie(Ht,n)}function f_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,US(t)||"Unknown",s));return Fe({},n,r)}function Ku(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fs,ni=bt.current,Ie(bt,t),Ie(Ht,Ht.current),!0}function Ay(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=f_(t,e,ni),r.__reactInternalMemoizedMergedChildContext=t,Ve(Ht),Ve(bt),Ie(bt,t)):Ve(Ht),Ie(Ht,n)}var fr=null,Fc=!1,oh=!1;function p_(t){fr===null?fr=[t]:fr.push(t)}function rA(t){Fc=!0,p_(t)}function Is(){if(!oh&&fr!==null){oh=!0;var t=0,e=Se;try{var n=fr;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fr=null,Fc=!1}catch(s){throw fr!==null&&(fr=fr.slice(t+1)),F0(Tp,Is),s}finally{Se=e,oh=!1}}return null}var Mi=[],ji=0,Gu=null,Yu=0,hn=[],fn=0,ri=null,mr=1,gr="";function Us(t,e){Mi[ji++]=Yu,Mi[ji++]=Gu,Gu=t,Yu=e}function m_(t,e,n){hn[fn++]=mr,hn[fn++]=gr,hn[fn++]=ri,ri=t;var r=mr;t=gr;var s=32-Rn(r)-1;r&=~(1<<s),n+=1;var i=32-Rn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,mr=1<<32-Rn(e)+s|n<<s|r,gr=i+t}else mr=1<<i|n<<s|r,gr=t}function Np(t){t.return!==null&&(Us(t,1),m_(t,1,0))}function Dp(t){for(;t===Gu;)Gu=Mi[--ji],Mi[ji]=null,Yu=Mi[--ji],Mi[ji]=null;for(;t===ri;)ri=hn[--fn],hn[fn]=null,gr=hn[--fn],hn[fn]=null,mr=hn[--fn],hn[fn]=null}var nn=null,en=null,Le=!1,Pn=null;function g_(t,e){var n=mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function by(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nn=t,en=ns(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nn=t,en=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ri!==null?{id:mr,overflow:gr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nn=t,en=null,!0):!1;default:return!1}}function lf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function uf(t){if(Le){var e=en;if(e){var n=e;if(!by(t,e)){if(lf(t))throw Error(H(418));e=ns(n.nextSibling);var r=nn;e&&by(t,e)?g_(r,n):(t.flags=t.flags&-4097|2,Le=!1,nn=t)}}else{if(lf(t))throw Error(H(418));t.flags=t.flags&-4097|2,Le=!1,nn=t}}}function Iy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nn=t}function Zl(t){if(t!==nn)return!1;if(!Le)return Iy(t),Le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rf(t.type,t.memoizedProps)),e&&(e=en)){if(lf(t))throw y_(),Error(H(418));for(;e;)g_(t,e),e=ns(e.nextSibling)}if(Iy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){en=ns(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}en=null}}else en=nn?ns(t.stateNode.nextSibling):null;return!0}function y_(){for(var t=en;t;)t=ns(t.nextSibling)}function fo(){en=nn=null,Le=!1}function Vp(t){Pn===null?Pn=[t]:Pn.push(t)}var sA=br.ReactCurrentBatchConfig;function ra(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function eu(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Py(t){var e=t._init;return e(t._payload)}function v_(t){function e(v,y){if(t){var T=v.deletions;T===null?(v.deletions=[y],v.flags|=16):T.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=os(v,y),v.index=0,v.sibling=null,v}function i(v,y,T){return v.index=T,t?(T=v.alternate,T!==null?(T=T.index,T<y?(v.flags|=2,y):T):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,y,T,D){return y===null||y.tag!==6?(y=fh(T,v.mode,D),y.return=v,y):(y=s(y,T),y.return=v,y)}function u(v,y,T,D){var V=T.type;return V===ki?h(v,y,T.props.children,D,T.key):y!==null&&(y.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Ur&&Py(V)===y.type)?(D=s(y,T.props),D.ref=ra(v,y,T),D.return=v,D):(D=bu(T.type,T.key,T.props,null,v.mode,D),D.ref=ra(v,y,T),D.return=v,D)}function c(v,y,T,D){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=ph(T,v.mode,D),y.return=v,y):(y=s(y,T.children||[]),y.return=v,y)}function h(v,y,T,D,V){return y===null||y.tag!==7?(y=ti(T,v.mode,D,V),y.return=v,y):(y=s(y,T),y.return=v,y)}function f(v,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return y=fh(""+y,v.mode,T),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Bl:return T=bu(y.type,y.key,y.props,null,v.mode,T),T.ref=ra(v,null,y),T.return=v,T;case Ri:return y=ph(y,v.mode,T),y.return=v,y;case Ur:var D=y._init;return f(v,D(y._payload),T)}if(ua(y)||Jo(y))return y=ti(y,v.mode,T,null),y.return=v,y;eu(v,y)}return null}function p(v,y,T,D){var V=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return V!==null?null:l(v,y,""+T,D);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Bl:return T.key===V?u(v,y,T,D):null;case Ri:return T.key===V?c(v,y,T,D):null;case Ur:return V=T._init,p(v,y,V(T._payload),D)}if(ua(T)||Jo(T))return V!==null?null:h(v,y,T,D,null);eu(v,T)}return null}function m(v,y,T,D,V){if(typeof D=="string"&&D!==""||typeof D=="number")return v=v.get(T)||null,l(y,v,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Bl:return v=v.get(D.key===null?T:D.key)||null,u(y,v,D,V);case Ri:return v=v.get(D.key===null?T:D.key)||null,c(y,v,D,V);case Ur:var L=D._init;return m(v,y,T,L(D._payload),V)}if(ua(D)||Jo(D))return v=v.get(T)||null,h(y,v,D,V,null);eu(y,D)}return null}function S(v,y,T,D){for(var V=null,L=null,C=y,_=y=0,b=null;C!==null&&_<T.length;_++){C.index>_?(b=C,C=null):b=C.sibling;var I=p(v,C,T[_],D);if(I===null){C===null&&(C=b);break}t&&C&&I.alternate===null&&e(v,C),y=i(I,y,_),L===null?V=I:L.sibling=I,L=I,C=b}if(_===T.length)return n(v,C),Le&&Us(v,_),V;if(C===null){for(;_<T.length;_++)C=f(v,T[_],D),C!==null&&(y=i(C,y,_),L===null?V=C:L.sibling=C,L=C);return Le&&Us(v,_),V}for(C=r(v,C);_<T.length;_++)b=m(C,v,_,T[_],D),b!==null&&(t&&b.alternate!==null&&C.delete(b.key===null?_:b.key),y=i(b,y,_),L===null?V=b:L.sibling=b,L=b);return t&&C.forEach(function(k){return e(v,k)}),Le&&Us(v,_),V}function w(v,y,T,D){var V=Jo(T);if(typeof V!="function")throw Error(H(150));if(T=V.call(T),T==null)throw Error(H(151));for(var L=V=null,C=y,_=y=0,b=null,I=T.next();C!==null&&!I.done;_++,I=T.next()){C.index>_?(b=C,C=null):b=C.sibling;var k=p(v,C,I.value,D);if(k===null){C===null&&(C=b);break}t&&C&&k.alternate===null&&e(v,C),y=i(k,y,_),L===null?V=k:L.sibling=k,L=k,C=b}if(I.done)return n(v,C),Le&&Us(v,_),V;if(C===null){for(;!I.done;_++,I=T.next())I=f(v,I.value,D),I!==null&&(y=i(I,y,_),L===null?V=I:L.sibling=I,L=I);return Le&&Us(v,_),V}for(C=r(v,C);!I.done;_++,I=T.next())I=m(C,v,_,I.value,D),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?_:I.key),y=i(I,y,_),L===null?V=I:L.sibling=I,L=I);return t&&C.forEach(function(N){return e(v,N)}),Le&&Us(v,_),V}function x(v,y,T,D){if(typeof T=="object"&&T!==null&&T.type===ki&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Bl:e:{for(var V=T.key,L=y;L!==null;){if(L.key===V){if(V=T.type,V===ki){if(L.tag===7){n(v,L.sibling),y=s(L,T.props.children),y.return=v,v=y;break e}}else if(L.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Ur&&Py(V)===L.type){n(v,L.sibling),y=s(L,T.props),y.ref=ra(v,L,T),y.return=v,v=y;break e}n(v,L);break}else e(v,L);L=L.sibling}T.type===ki?(y=ti(T.props.children,v.mode,D,T.key),y.return=v,v=y):(D=bu(T.type,T.key,T.props,null,v.mode,D),D.ref=ra(v,y,T),D.return=v,v=D)}return o(v);case Ri:e:{for(L=T.key;y!==null;){if(y.key===L)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(v,y.sibling),y=s(y,T.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=ph(T,v.mode,D),y.return=v,v=y}return o(v);case Ur:return L=T._init,x(v,y,L(T._payload),D)}if(ua(T))return S(v,y,T,D);if(Jo(T))return w(v,y,T,D);eu(v,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,T),y.return=v,v=y):(n(v,y),y=fh(T,v.mode,D),y.return=v,v=y),o(v)):n(v,y)}return x}var po=v_(!0),w_=v_(!1),Xu=bs(null),Ju=null,Fi=null,Op=null;function Lp(){Op=Fi=Ju=null}function Mp(t){var e=Xu.current;Ve(Xu),t._currentValue=e}function cf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qi(t,e){Ju=t,Op=Fi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function yn(t){var e=t._currentValue;if(Op!==t)if(t={context:t,memoizedValue:e,next:null},Fi===null){if(Ju===null)throw Error(H(308));Fi=t,Ju.dependencies={lanes:0,firstContext:t}}else Fi=Fi.next=t;return e}var Hs=null;function jp(t){Hs===null?Hs=[t]:Hs.push(t)}function __(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,jp(e)):(n.next=s.next,s.next=n),e.interleaved=n,_r(t,r)}function _r(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var zr=!1;function Fp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,_r(t,n)}return s=r.interleaved,s===null?(e.next=e,jp(r)):(e.next=s.next,s.next=e),r.interleaved=e,_r(t,n)}function Eu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sp(t,n)}}function Ry(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zu(t,e,n,r){var s=t.updateQueue;zr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,h=c=u=null,l=i;do{var p=l.lane,m=l.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=t,w=l;switch(p=e,m=n,w.tag){case 1:if(S=w.payload,typeof S=="function"){f=S.call(m,f,p);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=w.payload,p=typeof S=="function"?S.call(m,f,p):S,p==null)break e;f=Fe({},f,p);break e;case 2:zr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=m,u=f):h=h.next=m,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ii|=o,t.lanes=o,t.memoizedState=f}}function ky(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var pl={},Gn=bs(pl),Ba=bs(pl),Ha=bs(pl);function Ws(t){if(t===pl)throw Error(H(174));return t}function Up(t,e){switch(Ie(Ha,e),Ie(Ba,t),Ie(Gn,pl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bh(e,t)}Ve(Gn),Ie(Gn,e)}function mo(){Ve(Gn),Ve(Ba),Ve(Ha)}function x_(t){Ws(Ha.current);var e=Ws(Gn.current),n=Bh(e,t.type);e!==n&&(Ie(Ba,t),Ie(Gn,n))}function zp(t){Ba.current===t&&(Ve(Gn),Ve(Ba))}var Me=bs(0);function ec(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ah=[];function $p(){for(var t=0;t<ah.length;t++)ah[t]._workInProgressVersionPrimary=null;ah.length=0}var xu=br.ReactCurrentDispatcher,lh=br.ReactCurrentBatchConfig,si=0,je=null,Ye=null,rt=null,tc=!1,_a=!1,Wa=0,iA=0;function _t(){throw Error(H(321))}function Bp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dn(t[n],e[n]))return!1;return!0}function Hp(t,e,n,r,s,i){if(si=i,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xu.current=t===null||t.memoizedState===null?uA:cA,t=n(r,s),_a){i=0;do{if(_a=!1,Wa=0,25<=i)throw Error(H(301));i+=1,rt=Ye=null,e.updateQueue=null,xu.current=dA,t=n(r,s)}while(_a)}if(xu.current=nc,e=Ye!==null&&Ye.next!==null,si=0,rt=Ye=je=null,tc=!1,e)throw Error(H(300));return t}function Wp(){var t=Wa!==0;return Wa=0,t}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?je.memoizedState=rt=t:rt=rt.next=t,rt}function vn(){if(Ye===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var e=rt===null?je.memoizedState:rt.next;if(e!==null)rt=e,Ye=t;else{if(t===null)throw Error(H(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},rt===null?je.memoizedState=rt=t:rt=rt.next=t}return rt}function qa(t,e){return typeof e=="function"?e(t):e}function uh(t){var e=vn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=Ye,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,c=i;do{var h=c.lane;if((si&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,o=r):u=u.next=f,je.lanes|=h,ii|=h}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=l,Dn(r,e.memoizedState)||(Bt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,je.lanes|=i,ii|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ch(t){var e=vn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Dn(i,e.memoizedState)||(Bt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function T_(){}function S_(t,e){var n=je,r=vn(),s=e(),i=!Dn(r.memoizedState,s);if(i&&(r.memoizedState=s,Bt=!0),r=r.queue,qp(b_.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,Qa(9,A_.bind(null,n,r,s,e),void 0,null),it===null)throw Error(H(349));si&30||C_(n,e,s)}return s}function C_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function A_(t,e,n,r){e.value=n,e.getSnapshot=r,I_(e)&&P_(t)}function b_(t,e,n){return n(function(){I_(e)&&P_(t)})}function I_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dn(t,n)}catch{return!0}}function P_(t){var e=_r(t,1);e!==null&&kn(e,t,1,-1)}function Ny(t){var e=zn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:t},e.queue=t,t=t.dispatch=lA.bind(null,je,t),[e.memoizedState,t]}function Qa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function R_(){return vn().memoizedState}function Tu(t,e,n,r){var s=zn();je.flags|=t,s.memoizedState=Qa(1|e,n,void 0,r===void 0?null:r)}function Uc(t,e,n,r){var s=vn();r=r===void 0?null:r;var i=void 0;if(Ye!==null){var o=Ye.memoizedState;if(i=o.destroy,r!==null&&Bp(r,o.deps)){s.memoizedState=Qa(e,n,i,r);return}}je.flags|=t,s.memoizedState=Qa(1|e,n,i,r)}function Dy(t,e){return Tu(8390656,8,t,e)}function qp(t,e){return Uc(2048,8,t,e)}function k_(t,e){return Uc(4,2,t,e)}function N_(t,e){return Uc(4,4,t,e)}function D_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function V_(t,e,n){return n=n!=null?n.concat([t]):null,Uc(4,4,D_.bind(null,e,t),n)}function Qp(){}function O_(t,e){var n=vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function L_(t,e){var n=vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function M_(t,e,n){return si&21?(Dn(n,e)||(n=$0(),je.lanes|=n,ii|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function oA(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=lh.transition;lh.transition={};try{t(!1),e()}finally{Se=n,lh.transition=r}}function j_(){return vn().memoizedState}function aA(t,e,n){var r=is(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},F_(t))U_(e,n);else if(n=__(t,e,n,r),n!==null){var s=Nt();kn(n,t,r,s),z_(n,e,r)}}function lA(t,e,n){var r=is(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(F_(t))U_(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Dn(l,o)){var u=e.interleaved;u===null?(s.next=s,jp(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=__(t,e,s,r),n!==null&&(s=Nt(),kn(n,t,r,s),z_(n,e,r))}}function F_(t){var e=t.alternate;return t===je||e!==null&&e===je}function U_(t,e){_a=tc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function z_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sp(t,n)}}var nc={readContext:yn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},uA={readContext:yn,useCallback:function(t,e){return zn().memoizedState=[t,e===void 0?null:e],t},useContext:yn,useEffect:Dy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Tu(4194308,4,D_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Tu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tu(4,2,t,e)},useMemo:function(t,e){var n=zn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=aA.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var e=zn();return t={current:t},e.memoizedState=t},useState:Ny,useDebugValue:Qp,useDeferredValue:function(t){return zn().memoizedState=t},useTransition:function(){var t=Ny(!1),e=t[0];return t=oA.bind(null,t[1]),zn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=je,s=zn();if(Le){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),it===null)throw Error(H(349));si&30||C_(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Dy(b_.bind(null,r,i,t),[t]),r.flags|=2048,Qa(9,A_.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=zn(),e=it.identifierPrefix;if(Le){var n=gr,r=mr;n=(r&~(1<<32-Rn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=iA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cA={readContext:yn,useCallback:O_,useContext:yn,useEffect:qp,useImperativeHandle:V_,useInsertionEffect:k_,useLayoutEffect:N_,useMemo:L_,useReducer:uh,useRef:R_,useState:function(){return uh(qa)},useDebugValue:Qp,useDeferredValue:function(t){var e=vn();return M_(e,Ye.memoizedState,t)},useTransition:function(){var t=uh(qa)[0],e=vn().memoizedState;return[t,e]},useMutableSource:T_,useSyncExternalStore:S_,useId:j_,unstable_isNewReconciler:!1},dA={readContext:yn,useCallback:O_,useContext:yn,useEffect:qp,useImperativeHandle:V_,useInsertionEffect:k_,useLayoutEffect:N_,useMemo:L_,useReducer:ch,useRef:R_,useState:function(){return ch(qa)},useDebugValue:Qp,useDeferredValue:function(t){var e=vn();return Ye===null?e.memoizedState=t:M_(e,Ye.memoizedState,t)},useTransition:function(){var t=ch(qa)[0],e=vn().memoizedState;return[t,e]},useMutableSource:T_,useSyncExternalStore:S_,useId:j_,unstable_isNewReconciler:!1};function Sn(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function df(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zc={isMounted:function(t){return(t=t._reactInternals)?hi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nt(),s=is(t),i=yr(r,s);i.payload=e,n!=null&&(i.callback=n),e=rs(t,i,s),e!==null&&(kn(e,t,s,r),Eu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nt(),s=is(t),i=yr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=rs(t,i,s),e!==null&&(kn(e,t,s,r),Eu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nt(),r=is(t),s=yr(n,r);s.tag=2,e!=null&&(s.callback=e),e=rs(t,s,r),e!==null&&(kn(e,t,r,n),Eu(e,t,r))}};function Vy(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Fa(n,r)||!Fa(s,i):!0}function $_(t,e,n){var r=!1,s=fs,i=e.contextType;return typeof i=="object"&&i!==null?i=yn(i):(s=Wt(e)?ni:bt.current,r=e.contextTypes,i=(r=r!=null)?ho(t,s):fs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Oy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zc.enqueueReplaceState(e,e.state,null)}function hf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Fp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=yn(i):(i=Wt(e)?ni:bt.current,s.context=ho(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(df(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&zc.enqueueReplaceState(s,s.state,null),Zu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function go(t,e){try{var n="",r=e;do n+=FS(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function dh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ff(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var hA=typeof WeakMap=="function"?WeakMap:Map;function B_(t,e,n){n=yr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){sc||(sc=!0,Tf=r),ff(t,e)},n}function H_(t,e,n){n=yr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ff(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ff(t,e),typeof r!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ly(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new hA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=AA.bind(null,t,e,n),e.then(t,t))}function My(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jy(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yr(-1,1),e.tag=2,rs(n,e,1))),n.lanes|=1),t)}var fA=br.ReactCurrentOwner,Bt=!1;function Pt(t,e,n,r){e.child=t===null?w_(e,null,n,r):po(e,t.child,n,r)}function Fy(t,e,n,r,s){n=n.render;var i=e.ref;return qi(e,s),r=Hp(t,e,n,r,i,s),n=Wp(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Er(t,e,s)):(Le&&n&&Np(e),e.flags|=1,Pt(t,e,r,s),e.child)}function Uy(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!tm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,W_(t,e,i,r,s)):(t=bu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Fa,n(o,r)&&t.ref===e.ref)return Er(t,e,s)}return e.flags|=1,t=os(i,r),t.ref=e.ref,t.return=e,e.child=t}function W_(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Fa(i,r)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,Er(t,e,s)}return pf(t,e,n,r,s)}function q_(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(zi,Yt),Yt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(zi,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ie(zi,Yt),Yt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ie(zi,Yt),Yt|=r;return Pt(t,e,s,n),e.child}function Q_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pf(t,e,n,r,s){var i=Wt(n)?ni:bt.current;return i=ho(e,i),qi(e,s),n=Hp(t,e,n,r,i,s),r=Wp(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Er(t,e,s)):(Le&&r&&Np(e),e.flags|=1,Pt(t,e,n,s),e.child)}function zy(t,e,n,r,s){if(Wt(n)){var i=!0;Ku(e)}else i=!1;if(qi(e,s),e.stateNode===null)Su(t,e),$_(e,n,r),hf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=yn(c):(c=Wt(n)?ni:bt.current,c=ho(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Oy(e,o,r,c),zr=!1;var p=e.memoizedState;o.state=p,Zu(e,r,o,s),u=e.memoizedState,l!==r||p!==u||Ht.current||zr?(typeof h=="function"&&(df(e,n,h,r),u=e.memoizedState),(l=zr||Vy(e,n,l,r,p,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,E_(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Sn(e.type,l),o.props=c,f=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=yn(u):(u=Wt(n)?ni:bt.current,u=ho(e,u));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==u)&&Oy(e,o,r,u),zr=!1,p=e.memoizedState,o.state=p,Zu(e,r,o,s);var S=e.memoizedState;l!==f||p!==S||Ht.current||zr?(typeof m=="function"&&(df(e,n,m,r),S=e.memoizedState),(c=zr||Vy(e,n,c,r,p,S,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return mf(t,e,n,r,i,s)}function mf(t,e,n,r,s,i){Q_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Ay(e,n,!1),Er(t,e,i);r=e.stateNode,fA.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=po(e,t.child,null,i),e.child=po(e,null,l,i)):Pt(t,e,l,i),e.memoizedState=r.state,s&&Ay(e,n,!0),e.child}function K_(t){var e=t.stateNode;e.pendingContext?Cy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Cy(t,e.context,!1),Up(t,e.containerInfo)}function $y(t,e,n,r,s){return fo(),Vp(s),e.flags|=256,Pt(t,e,n,r),e.child}var gf={dehydrated:null,treeContext:null,retryLane:0};function yf(t){return{baseLanes:t,cachePool:null,transitions:null}}function G_(t,e,n){var r=e.pendingProps,s=Me.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ie(Me,s&1),t===null)return uf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Hc(o,r,0,null),t=ti(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=yf(n),e.memoizedState=gf,t):Kp(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return pA(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=os(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=os(l,i):(i=ti(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?yf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=gf,r}return i=t.child,t=i.sibling,r=os(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Kp(t,e){return e=Hc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function tu(t,e,n,r){return r!==null&&Vp(r),po(e,t.child,null,n),t=Kp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pA(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=dh(Error(H(422))),tu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Hc({mode:"visible",children:r.children},s,0,null),i=ti(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&po(e,t.child,null,o),e.child.memoizedState=yf(o),e.memoizedState=gf,i);if(!(e.mode&1))return tu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(H(419)),r=dh(i,r,void 0),tu(t,e,o,r)}if(l=(o&t.childLanes)!==0,Bt||l){if(r=it,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,_r(t,s),kn(r,t,s,-1))}return em(),r=dh(Error(H(421))),tu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=bA.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,en=ns(s.nextSibling),nn=e,Le=!0,Pn=null,t!==null&&(hn[fn++]=mr,hn[fn++]=gr,hn[fn++]=ri,mr=t.id,gr=t.overflow,ri=e),e=Kp(e,r.children),e.flags|=4096,e)}function By(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cf(t.return,e,n)}function hh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Y_(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Pt(t,e,r.children,n),r=Me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&By(t,n,e);else if(t.tag===19)By(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ie(Me,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ec(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),hh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ec(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}hh(e,!0,n,null,i);break;case"together":hh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Su(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Er(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ii|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=os(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=os(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function mA(t,e,n){switch(e.tag){case 3:K_(e),fo();break;case 5:x_(e);break;case 1:Wt(e.type)&&Ku(e);break;case 4:Up(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ie(Xu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ie(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?G_(t,e,n):(Ie(Me,Me.current&1),t=Er(t,e,n),t!==null?t.sibling:null);Ie(Me,Me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Y_(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ie(Me,Me.current),r)break;return null;case 22:case 23:return e.lanes=0,q_(t,e,n)}return Er(t,e,n)}var X_,vf,J_,Z_;X_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vf=function(){};J_=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ws(Gn.current);var i=null;switch(n){case"input":s=Fh(t,s),r=Fh(t,r),i=[];break;case"select":s=Fe({},s,{value:void 0}),r=Fe({},r,{value:void 0}),i=[];break;case"textarea":s=$h(t,s),r=$h(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qu)}Hh(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Na.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Na.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ke("scroll",t),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Z_=function(t,e,n,r){n!==r&&(e.flags|=4)};function sa(t,e){if(!Le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function gA(t,e,n){var r=e.pendingProps;switch(Dp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return Wt(e.type)&&Qu(),Et(e),null;case 3:return r=e.stateNode,mo(),Ve(Ht),Ve(bt),$p(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pn!==null&&(Af(Pn),Pn=null))),vf(t,e),Et(e),null;case 5:zp(e);var s=Ws(Ha.current);if(n=e.type,t!==null&&e.stateNode!=null)J_(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Et(e),null}if(t=Ws(Gn.current),Zl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[qn]=e,r[$a]=i,t=(e.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(s=0;s<da.length;s++)ke(da[s],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":Jg(r,i),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ke("invalid",r);break;case"textarea":ey(r,i),ke("invalid",r)}Hh(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Jl(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Jl(r.textContent,l,t),s=["children",""+l]):Na.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ke("scroll",r)}switch(n){case"input":Hl(r),Zg(r,i,!0);break;case"textarea":Hl(r),ty(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=qu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=b0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qn]=e,t[$a]=r,X_(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wh(n,r),n){case"dialog":ke("cancel",t),ke("close",t),s=r;break;case"iframe":case"object":case"embed":ke("load",t),s=r;break;case"video":case"audio":for(s=0;s<da.length;s++)ke(da[s],t);s=r;break;case"source":ke("error",t),s=r;break;case"img":case"image":case"link":ke("error",t),ke("load",t),s=r;break;case"details":ke("toggle",t),s=r;break;case"input":Jg(t,r),s=Fh(t,r),ke("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Fe({},r,{value:void 0}),ke("invalid",t);break;case"textarea":ey(t,r),s=$h(t,r),ke("invalid",t);break;default:s=r}Hh(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?R0(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&I0(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Da(t,u):typeof u=="number"&&Da(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Na.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ke("scroll",t):u!=null&&vp(t,i,u,o))}switch(n){case"input":Hl(t),Zg(t,r,!1);break;case"textarea":Hl(t),ty(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?$i(t,!!r.multiple,i,!1):r.defaultValue!=null&&$i(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=qu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Et(e),null;case 6:if(t&&e.stateNode!=null)Z_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Ws(Ha.current),Ws(Gn.current),Zl(e)){if(r=e.stateNode,n=e.memoizedProps,r[qn]=e,(i=r.nodeValue!==n)&&(t=nn,t!==null))switch(t.tag){case 3:Jl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qn]=e,e.stateNode=r}return Et(e),null;case 13:if(Ve(Me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Le&&en!==null&&e.mode&1&&!(e.flags&128))y_(),fo(),e.flags|=98560,i=!1;else if(i=Zl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[qn]=e}else fo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),i=!1}else Pn!==null&&(Af(Pn),Pn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?Ze===0&&(Ze=3):em())),e.updateQueue!==null&&(e.flags|=4),Et(e),null);case 4:return mo(),vf(t,e),t===null&&Ua(e.stateNode.containerInfo),Et(e),null;case 10:return Mp(e.type._context),Et(e),null;case 17:return Wt(e.type)&&Qu(),Et(e),null;case 19:if(Ve(Me),i=e.memoizedState,i===null)return Et(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)sa(i,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ec(t),o!==null){for(e.flags|=128,sa(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(Me,Me.current&1|2),e.child}t=t.sibling}i.tail!==null&&qe()>yo&&(e.flags|=128,r=!0,sa(i,!1),e.lanes=4194304)}else{if(!r)if(t=ec(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),sa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Le)return Et(e),null}else 2*qe()-i.renderingStartTime>yo&&n!==1073741824&&(e.flags|=128,r=!0,sa(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=qe(),e.sibling=null,n=Me.current,Ie(Me,r?n&1|2:n&1),e):(Et(e),null);case 22:case 23:return Zp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function yA(t,e){switch(Dp(e),e.tag){case 1:return Wt(e.type)&&Qu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mo(),Ve(Ht),Ve(bt),$p(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zp(e),null;case 13:if(Ve(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));fo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve(Me),null;case 4:return mo(),null;case 10:return Mp(e.type._context),null;case 22:case 23:return Zp(),null;case 24:return null;default:return null}}var nu=!1,Ct=!1,vA=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ui(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function wf(t,e,n){try{n()}catch(r){He(t,e,r)}}var Hy=!1;function wA(t,e){if(tf=Bu,t=s_(),kp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++c===s&&(l=o),p===i&&++h===r&&(u=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(nf={focusedElem:t,selectionRange:n},Bu=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var w=S.memoizedProps,x=S.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:Sn(e.type,w),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(D){He(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return S=Hy,Hy=!1,S}function Ea(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&wf(e,n,i)}s=s.next}while(s!==r)}}function $c(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _f(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function eE(t){var e=t.alternate;e!==null&&(t.alternate=null,eE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qn],delete e[$a],delete e[of],delete e[tA],delete e[nA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tE(t){return t.tag===5||t.tag===3||t.tag===4}function Wy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ef(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qu));else if(r!==4&&(t=t.child,t!==null))for(Ef(t,e,n),t=t.sibling;t!==null;)Ef(t,e,n),t=t.sibling}function xf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(xf(t,e,n),t=t.sibling;t!==null;)xf(t,e,n),t=t.sibling}var ct=null,In=!1;function Lr(t,e,n){for(n=n.child;n!==null;)nE(t,e,n),n=n.sibling}function nE(t,e,n){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(Vc,n)}catch{}switch(n.tag){case 5:Ct||Ui(n,e);case 6:var r=ct,s=In;ct=null,Lr(t,e,n),ct=r,In=s,ct!==null&&(In?(t=ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(In?(t=ct,n=n.stateNode,t.nodeType===8?ih(t.parentNode,n):t.nodeType===1&&ih(t,n),Ma(t)):ih(ct,n.stateNode));break;case 4:r=ct,s=In,ct=n.stateNode.containerInfo,In=!0,Lr(t,e,n),ct=r,In=s;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&wf(n,e,o),s=s.next}while(s!==r)}Lr(t,e,n);break;case 1:if(!Ct&&(Ui(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){He(n,e,l)}Lr(t,e,n);break;case 21:Lr(t,e,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,Lr(t,e,n),Ct=r):Lr(t,e,n);break;default:Lr(t,e,n)}}function qy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new vA),e.forEach(function(r){var s=IA.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function En(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ct=l.stateNode,In=!1;break e;case 3:ct=l.stateNode.containerInfo,In=!0;break e;case 4:ct=l.stateNode.containerInfo,In=!0;break e}l=l.return}if(ct===null)throw Error(H(160));nE(i,o,s),ct=null,In=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){He(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rE(e,t),e=e.sibling}function rE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(En(e,t),Un(t),r&4){try{Ea(3,t,t.return),$c(3,t)}catch(w){He(t,t.return,w)}try{Ea(5,t,t.return)}catch(w){He(t,t.return,w)}}break;case 1:En(e,t),Un(t),r&512&&n!==null&&Ui(n,n.return);break;case 5:if(En(e,t),Un(t),r&512&&n!==null&&Ui(n,n.return),t.flags&32){var s=t.stateNode;try{Da(s,"")}catch(w){He(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&C0(s,i),Wh(l,o);var c=Wh(l,i);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?R0(s,f):h==="dangerouslySetInnerHTML"?I0(s,f):h==="children"?Da(s,f):vp(s,h,f,c)}switch(l){case"input":Uh(s,i);break;case"textarea":A0(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?$i(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?$i(s,!!i.multiple,i.defaultValue,!0):$i(s,!!i.multiple,i.multiple?[]:"",!1))}s[$a]=i}catch(w){He(t,t.return,w)}}break;case 6:if(En(e,t),Un(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){He(t,t.return,w)}}break;case 3:if(En(e,t),Un(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ma(e.containerInfo)}catch(w){He(t,t.return,w)}break;case 4:En(e,t),Un(t);break;case 13:En(e,t),Un(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Xp=qe())),r&4&&qy(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(c=Ct)||h,En(e,t),Ct=c):En(e,t),Un(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Y=t,h=t.child;h!==null;){for(f=Y=h;Y!==null;){switch(p=Y,m=p.child,p.tag){case 0:case 11:case 14:case 15:Ea(4,p,p.return);break;case 1:Ui(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(w){He(r,n,w)}}break;case 5:Ui(p,p.return);break;case 22:if(p.memoizedState!==null){Ky(f);continue}}m!==null?(m.return=p,Y=m):Ky(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=P0("display",o))}catch(w){He(t,t.return,w)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){He(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:En(e,t),Un(t),r&4&&qy(t);break;case 21:break;default:En(e,t),Un(t)}}function Un(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(tE(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Da(s,""),r.flags&=-33);var i=Wy(t);xf(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Wy(t);Ef(t,l,o);break;default:throw Error(H(161))}}catch(u){He(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _A(t,e,n){Y=t,sE(t)}function sE(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var s=Y,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||nu;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Ct;l=nu;var c=Ct;if(nu=o,(Ct=u)&&!c)for(Y=s;Y!==null;)o=Y,u=o.child,o.tag===22&&o.memoizedState!==null?Gy(s):u!==null?(u.return=o,Y=u):Gy(s);for(;i!==null;)Y=i,sE(i),i=i.sibling;Y=s,nu=l,Ct=c}Qy(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Y=i):Qy(t)}}function Qy(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||$c(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Sn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ky(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ky(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Ma(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ct||e.flags&512&&_f(e)}catch(p){He(e,e.return,p)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Ky(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Gy(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$c(4,e)}catch(u){He(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){He(e,s,u)}}var i=e.return;try{_f(e)}catch(u){He(e,i,u)}break;case 5:var o=e.return;try{_f(e)}catch(u){He(e,o,u)}}}catch(u){He(e,e.return,u)}if(e===t){Y=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Y=l;break}Y=e.return}}var EA=Math.ceil,rc=br.ReactCurrentDispatcher,Gp=br.ReactCurrentOwner,gn=br.ReactCurrentBatchConfig,ve=0,it=null,Ke=null,pt=0,Yt=0,zi=bs(0),Ze=0,Ka=null,ii=0,Bc=0,Yp=0,xa=null,zt=null,Xp=0,yo=1/0,hr=null,sc=!1,Tf=null,ss=null,ru=!1,Yr=null,ic=0,Ta=0,Sf=null,Cu=-1,Au=0;function Nt(){return ve&6?qe():Cu!==-1?Cu:Cu=qe()}function is(t){return t.mode&1?ve&2&&pt!==0?pt&-pt:sA.transition!==null?(Au===0&&(Au=$0()),Au):(t=Se,t!==0||(t=window.event,t=t===void 0?16:G0(t.type)),t):1}function kn(t,e,n,r){if(50<Ta)throw Ta=0,Sf=null,Error(H(185));dl(t,n,r),(!(ve&2)||t!==it)&&(t===it&&(!(ve&2)&&(Bc|=n),Ze===4&&Br(t,pt)),qt(t,r),n===1&&ve===0&&!(e.mode&1)&&(yo=qe()+500,Fc&&Is()))}function qt(t,e){var n=t.callbackNode;sC(t,e);var r=$u(t,t===it?pt:0);if(r===0)n!==null&&sy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&sy(n),e===1)t.tag===0?rA(Yy.bind(null,t)):p_(Yy.bind(null,t)),ZC(function(){!(ve&6)&&Is()}),n=null;else{switch(B0(r)){case 1:n=Tp;break;case 4:n=U0;break;case 16:n=zu;break;case 536870912:n=z0;break;default:n=zu}n=hE(n,iE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iE(t,e){if(Cu=-1,Au=0,ve&6)throw Error(H(327));var n=t.callbackNode;if(Qi()&&t.callbackNode!==n)return null;var r=$u(t,t===it?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=oc(t,r);else{e=r;var s=ve;ve|=2;var i=aE();(it!==t||pt!==e)&&(hr=null,yo=qe()+500,ei(t,e));do try{SA();break}catch(l){oE(t,l)}while(!0);Lp(),rc.current=i,ve=s,Ke!==null?e=0:(it=null,pt=0,e=Ze)}if(e!==0){if(e===2&&(s=Yh(t),s!==0&&(r=s,e=Cf(t,s))),e===1)throw n=Ka,ei(t,0),Br(t,r),qt(t,qe()),n;if(e===6)Br(t,r);else{if(s=t.current.alternate,!(r&30)&&!xA(s)&&(e=oc(t,r),e===2&&(i=Yh(t),i!==0&&(r=i,e=Cf(t,i))),e===1))throw n=Ka,ei(t,0),Br(t,r),qt(t,qe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:zs(t,zt,hr);break;case 3:if(Br(t,r),(r&130023424)===r&&(e=Xp+500-qe(),10<e)){if($u(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Nt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=sf(zs.bind(null,t,zt,hr),e);break}zs(t,zt,hr);break;case 4:if(Br(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Rn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*EA(r/1960))-r,10<r){t.timeoutHandle=sf(zs.bind(null,t,zt,hr),r);break}zs(t,zt,hr);break;case 5:zs(t,zt,hr);break;default:throw Error(H(329))}}}return qt(t,qe()),t.callbackNode===n?iE.bind(null,t):null}function Cf(t,e){var n=xa;return t.current.memoizedState.isDehydrated&&(ei(t,e).flags|=256),t=oc(t,e),t!==2&&(e=zt,zt=n,e!==null&&Af(e)),t}function Af(t){zt===null?zt=t:zt.push.apply(zt,t)}function xA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Dn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Br(t,e){for(e&=~Yp,e&=~Bc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rn(e),r=1<<n;t[n]=-1,e&=~r}}function Yy(t){if(ve&6)throw Error(H(327));Qi();var e=$u(t,0);if(!(e&1))return qt(t,qe()),null;var n=oc(t,e);if(t.tag!==0&&n===2){var r=Yh(t);r!==0&&(e=r,n=Cf(t,r))}if(n===1)throw n=Ka,ei(t,0),Br(t,e),qt(t,qe()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zs(t,zt,hr),qt(t,qe()),null}function Jp(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(yo=qe()+500,Fc&&Is())}}function oi(t){Yr!==null&&Yr.tag===0&&!(ve&6)&&Qi();var e=ve;ve|=1;var n=gn.transition,r=Se;try{if(gn.transition=null,Se=1,t)return t()}finally{Se=r,gn.transition=n,ve=e,!(ve&6)&&Is()}}function Zp(){Yt=zi.current,Ve(zi)}function ei(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,JC(n)),Ke!==null)for(n=Ke.return;n!==null;){var r=n;switch(Dp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qu();break;case 3:mo(),Ve(Ht),Ve(bt),$p();break;case 5:zp(r);break;case 4:mo();break;case 13:Ve(Me);break;case 19:Ve(Me);break;case 10:Mp(r.type._context);break;case 22:case 23:Zp()}n=n.return}if(it=t,Ke=t=os(t.current,null),pt=Yt=e,Ze=0,Ka=null,Yp=Bc=ii=0,zt=xa=null,Hs!==null){for(e=0;e<Hs.length;e++)if(n=Hs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Hs=null}return t}function oE(t,e){do{var n=Ke;try{if(Lp(),xu.current=nc,tc){for(var r=je.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}tc=!1}if(si=0,rt=Ye=je=null,_a=!1,Wa=0,Gp.current=null,n===null||n.return===null){Ze=1,Ka=e,Ke=null;break}e:{var i=t,o=n.return,l=n,u=e;if(e=pt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=My(o);if(m!==null){m.flags&=-257,jy(m,o,l,i,e),m.mode&1&&Ly(i,c,e),e=m,u=c;var S=e.updateQueue;if(S===null){var w=new Set;w.add(u),e.updateQueue=w}else S.add(u);break e}else{if(!(e&1)){Ly(i,c,e),em();break e}u=Error(H(426))}}else if(Le&&l.mode&1){var x=My(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),jy(x,o,l,i,e),Vp(go(u,l));break e}}i=u=go(u,l),Ze!==4&&(Ze=2),xa===null?xa=[i]:xa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=B_(i,u,e);Ry(i,v);break e;case 1:l=u;var y=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ss===null||!ss.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=H_(i,l,e);Ry(i,D);break e}}i=i.return}while(i!==null)}uE(n)}catch(V){e=V,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(!0)}function aE(){var t=rc.current;return rc.current=nc,t===null?nc:t}function em(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),it===null||!(ii&268435455)&&!(Bc&268435455)||Br(it,pt)}function oc(t,e){var n=ve;ve|=2;var r=aE();(it!==t||pt!==e)&&(hr=null,ei(t,e));do try{TA();break}catch(s){oE(t,s)}while(!0);if(Lp(),ve=n,rc.current=r,Ke!==null)throw Error(H(261));return it=null,pt=0,Ze}function TA(){for(;Ke!==null;)lE(Ke)}function SA(){for(;Ke!==null&&!GS();)lE(Ke)}function lE(t){var e=dE(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?uE(t):Ke=e,Gp.current=null}function uE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=yA(n,e),n!==null){n.flags&=32767,Ke=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,Ke=null;return}}else if(n=gA(n,e,Yt),n!==null){Ke=n;return}if(e=e.sibling,e!==null){Ke=e;return}Ke=e=t}while(e!==null);Ze===0&&(Ze=5)}function zs(t,e,n){var r=Se,s=gn.transition;try{gn.transition=null,Se=1,CA(t,e,n,r)}finally{gn.transition=s,Se=r}return null}function CA(t,e,n,r){do Qi();while(Yr!==null);if(ve&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(iC(t,i),t===it&&(Ke=it=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ru||(ru=!0,hE(zu,function(){return Qi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=gn.transition,gn.transition=null;var o=Se;Se=1;var l=ve;ve|=4,Gp.current=null,wA(t,n),rE(n,t),WC(nf),Bu=!!tf,nf=tf=null,t.current=n,_A(n),YS(),ve=l,Se=o,gn.transition=i}else t.current=n;if(ru&&(ru=!1,Yr=t,ic=s),i=t.pendingLanes,i===0&&(ss=null),ZS(n.stateNode),qt(t,qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(sc)throw sc=!1,t=Tf,Tf=null,t;return ic&1&&t.tag!==0&&Qi(),i=t.pendingLanes,i&1?t===Sf?Ta++:(Ta=0,Sf=t):Ta=0,Is(),null}function Qi(){if(Yr!==null){var t=B0(ic),e=gn.transition,n=Se;try{if(gn.transition=null,Se=16>t?16:t,Yr===null)var r=!1;else{if(t=Yr,Yr=null,ic=0,ve&6)throw Error(H(331));var s=ve;for(ve|=4,Y=t.current;Y!==null;){var i=Y,o=i.child;if(Y.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(Y=c;Y!==null;){var h=Y;switch(h.tag){case 0:case 11:case 15:Ea(8,h,i)}var f=h.child;if(f!==null)f.return=h,Y=f;else for(;Y!==null;){h=Y;var p=h.sibling,m=h.return;if(eE(h),h===c){Y=null;break}if(p!==null){p.return=m,Y=p;break}Y=m}}}var S=i.alternate;if(S!==null){var w=S.child;if(w!==null){S.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}Y=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Y=o;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ea(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Y=v;break e}Y=i.return}}var y=t.current;for(Y=y;Y!==null;){o=Y;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Y=T;else e:for(o=y;Y!==null;){if(l=Y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$c(9,l)}}catch(V){He(l,l.return,V)}if(l===o){Y=null;break e}var D=l.sibling;if(D!==null){D.return=l.return,Y=D;break e}Y=l.return}}if(ve=s,Is(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(Vc,t)}catch{}r=!0}return r}finally{Se=n,gn.transition=e}}return!1}function Xy(t,e,n){e=go(n,e),e=B_(t,e,1),t=rs(t,e,1),e=Nt(),t!==null&&(dl(t,1,e),qt(t,e))}function He(t,e,n){if(t.tag===3)Xy(t,t,n);else for(;e!==null;){if(e.tag===3){Xy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ss===null||!ss.has(r))){t=go(n,t),t=H_(e,t,1),e=rs(e,t,1),t=Nt(),e!==null&&(dl(e,1,t),qt(e,t));break}}e=e.return}}function AA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nt(),t.pingedLanes|=t.suspendedLanes&n,it===t&&(pt&n)===n&&(Ze===4||Ze===3&&(pt&130023424)===pt&&500>qe()-Xp?ei(t,0):Yp|=n),qt(t,e)}function cE(t,e){e===0&&(t.mode&1?(e=Ql,Ql<<=1,!(Ql&130023424)&&(Ql=4194304)):e=1);var n=Nt();t=_r(t,e),t!==null&&(dl(t,e,n),qt(t,n))}function bA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cE(t,n)}function IA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),cE(t,n)}var dE;dE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ht.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,mA(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,Le&&e.flags&1048576&&m_(e,Yu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Su(t,e),t=e.pendingProps;var s=ho(e,bt.current);qi(e,n),s=Hp(null,e,r,t,s,n);var i=Wp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wt(r)?(i=!0,Ku(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fp(e),s.updater=zc,e.stateNode=s,s._reactInternals=e,hf(e,r,t,n),e=mf(null,e,r,!0,i,n)):(e.tag=0,Le&&i&&Np(e),Pt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Su(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=RA(r),t=Sn(r,t),s){case 0:e=pf(null,e,r,t,n);break e;case 1:e=zy(null,e,r,t,n);break e;case 11:e=Fy(null,e,r,t,n);break e;case 14:e=Uy(null,e,r,Sn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sn(r,s),pf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sn(r,s),zy(t,e,r,s,n);case 3:e:{if(K_(e),t===null)throw Error(H(387));r=e.pendingProps,i=e.memoizedState,s=i.element,E_(t,e),Zu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=go(Error(H(423)),e),e=$y(t,e,r,n,s);break e}else if(r!==s){s=go(Error(H(424)),e),e=$y(t,e,r,n,s);break e}else for(en=ns(e.stateNode.containerInfo.firstChild),nn=e,Le=!0,Pn=null,n=w_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fo(),r===s){e=Er(t,e,n);break e}Pt(t,e,r,n)}e=e.child}return e;case 5:return x_(e),t===null&&uf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,rf(r,s)?o=null:i!==null&&rf(r,i)&&(e.flags|=32),Q_(t,e),Pt(t,e,o,n),e.child;case 6:return t===null&&uf(e),null;case 13:return G_(t,e,n);case 4:return Up(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=po(e,null,r,n):Pt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sn(r,s),Fy(t,e,r,s,n);case 7:return Pt(t,e,e.pendingProps,n),e.child;case 8:return Pt(t,e,e.pendingProps.children,n),e.child;case 12:return Pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ie(Xu,r._currentValue),r._currentValue=o,i!==null)if(Dn(i.value,o)){if(i.children===s.children&&!Ht.current){e=Er(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=yr(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),cf(i.return,n,e),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),cf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Pt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,qi(e,n),s=yn(s),r=r(s),e.flags|=1,Pt(t,e,r,n),e.child;case 14:return r=e.type,s=Sn(r,e.pendingProps),s=Sn(r.type,s),Uy(t,e,r,s,n);case 15:return W_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sn(r,s),Su(t,e),e.tag=1,Wt(r)?(t=!0,Ku(e)):t=!1,qi(e,n),$_(e,r,s),hf(e,r,s,n),mf(null,e,r,!0,t,n);case 19:return Y_(t,e,n);case 22:return q_(t,e,n)}throw Error(H(156,e.tag))};function hE(t,e){return F0(t,e)}function PA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,e,n,r){return new PA(t,e,n,r)}function tm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function RA(t){if(typeof t=="function")return tm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_p)return 11;if(t===Ep)return 14}return 2}function os(t,e){var n=t.alternate;return n===null?(n=mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")tm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ki:return ti(n.children,s,i,e);case wp:o=8,s|=8;break;case Oh:return t=mn(12,n,e,s|2),t.elementType=Oh,t.lanes=i,t;case Lh:return t=mn(13,n,e,s),t.elementType=Lh,t.lanes=i,t;case Mh:return t=mn(19,n,e,s),t.elementType=Mh,t.lanes=i,t;case x0:return Hc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _0:o=10;break e;case E0:o=9;break e;case _p:o=11;break e;case Ep:o=14;break e;case Ur:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=mn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ti(t,e,n,r){return t=mn(7,t,r,e),t.lanes=n,t}function Hc(t,e,n,r){return t=mn(22,t,r,e),t.elementType=x0,t.lanes=n,t.stateNode={isHidden:!1},t}function fh(t,e,n){return t=mn(6,t,null,e),t.lanes=n,t}function ph(t,e,n){return e=mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kA(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kd(0),this.expirationTimes=Kd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function nm(t,e,n,r,s,i,o,l,u){return t=new kA(t,e,n,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=mn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fp(i),t}function NA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ri,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function fE(t){if(!t)return fs;t=t._reactInternals;e:{if(hi(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(Wt(n))return f_(t,n,e)}return e}function pE(t,e,n,r,s,i,o,l,u){return t=nm(n,r,!0,t,s,i,o,l,u),t.context=fE(null),n=t.current,r=Nt(),s=is(n),i=yr(r,s),i.callback=e??null,rs(n,i,s),t.current.lanes=s,dl(t,s,r),qt(t,r),t}function Wc(t,e,n,r){var s=e.current,i=Nt(),o=is(s);return n=fE(n),e.context===null?e.context=n:e.pendingContext=n,e=yr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=rs(s,e,o),t!==null&&(kn(t,s,o,i),Eu(t,s,o)),o}function ac(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rm(t,e){Jy(t,e),(t=t.alternate)&&Jy(t,e)}function DA(){return null}var mE=typeof reportError=="function"?reportError:function(t){console.error(t)};function sm(t){this._internalRoot=t}qc.prototype.render=sm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Wc(t,e,null,null)};qc.prototype.unmount=sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oi(function(){Wc(null,t,null,null)}),e[wr]=null}};function qc(t){this._internalRoot=t}qc.prototype.unstable_scheduleHydration=function(t){if(t){var e=q0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$r.length&&e!==0&&e<$r[n].priority;n++);$r.splice(n,0,t),n===0&&K0(t)}};function im(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zy(){}function VA(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ac(o);i.call(c)}}var o=pE(e,r,t,0,null,!1,!1,"",Zy);return t._reactRootContainer=o,t[wr]=o.current,Ua(t.nodeType===8?t.parentNode:t),oi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=ac(u);l.call(c)}}var u=nm(t,0,!1,null,null,!1,!1,"",Zy);return t._reactRootContainer=u,t[wr]=u.current,Ua(t.nodeType===8?t.parentNode:t),oi(function(){Wc(e,u,n,r)}),u}function Kc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=ac(o);l.call(u)}}Wc(e,o,t,s)}else o=VA(n,e,t,s,r);return ac(o)}H0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ca(e.pendingLanes);n!==0&&(Sp(e,n|1),qt(e,qe()),!(ve&6)&&(yo=qe()+500,Is()))}break;case 13:oi(function(){var r=_r(t,1);if(r!==null){var s=Nt();kn(r,t,1,s)}}),rm(t,1)}};Cp=function(t){if(t.tag===13){var e=_r(t,134217728);if(e!==null){var n=Nt();kn(e,t,134217728,n)}rm(t,134217728)}};W0=function(t){if(t.tag===13){var e=is(t),n=_r(t,e);if(n!==null){var r=Nt();kn(n,t,e,r)}rm(t,e)}};q0=function(){return Se};Q0=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};Qh=function(t,e,n){switch(e){case"input":if(Uh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=jc(r);if(!s)throw Error(H(90));S0(r),Uh(r,s)}}}break;case"textarea":A0(t,n);break;case"select":e=n.value,e!=null&&$i(t,!!n.multiple,e,!1)}};D0=Jp;V0=oi;var OA={usingClientEntryPoint:!1,Events:[fl,Oi,jc,k0,N0,Jp]},ia={findFiberByHostInstance:Bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LA={bundleType:ia.bundleType,version:ia.version,rendererPackageName:ia.rendererPackageName,rendererConfig:ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=M0(t),t===null?null:t.stateNode},findFiberByHostInstance:ia.findFiberByHostInstance||DA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{Vc=su.inject(LA),Kn=su}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OA;on.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!im(e))throw Error(H(200));return NA(t,e,null,n)};on.createRoot=function(t,e){if(!im(t))throw Error(H(299));var n=!1,r="",s=mE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=nm(t,1,!1,null,null,n,!1,r,s),t[wr]=e.current,Ua(t.nodeType===8?t.parentNode:t),new sm(e)};on.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=M0(e),t=t===null?null:t.stateNode,t};on.flushSync=function(t){return oi(t)};on.hydrate=function(t,e,n){if(!Qc(e))throw Error(H(200));return Kc(null,t,e,!0,n)};on.hydrateRoot=function(t,e,n){if(!im(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=mE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=pE(e,null,t,1,n??null,s,!1,i,o),t[wr]=e.current,Ua(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new qc(e)};on.render=function(t,e,n){if(!Qc(e))throw Error(H(200));return Kc(null,t,e,!1,n)};on.unmountComponentAtNode=function(t){if(!Qc(t))throw Error(H(40));return t._reactRootContainer?(oi(function(){Kc(null,null,t,!1,function(){t._reactRootContainer=null,t[wr]=null})}),!0):!1};on.unstable_batchedUpdates=Jp;on.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qc(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Kc(t,e,n,!1,r)};on.version="18.3.1-next-f1338f8080-20240426";function gE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gE)}catch(t){console.error(t)}}gE(),g0.exports=on;var ml=g0.exports;const yE=r0(ml);var vE,ev=ml;vE=ev.createRoot,ev.hydrateRoot;const MA=1,jA=1e6;let mh=0;function FA(){return mh=(mh+1)%Number.MAX_SAFE_INTEGER,mh.toString()}const gh=new Map,tv=t=>{if(gh.has(t))return;const e=setTimeout(()=>{gh.delete(t),Sa({type:"REMOVE_TOAST",toastId:t})},jA);gh.set(t,e)},UA=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,MA)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?tv(n):t.toasts.forEach(r=>{tv(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Iu=[];let Pu={toasts:[]};function Sa(t){Pu=UA(Pu,t),Iu.forEach(e=>{e(Pu)})}function zA({...t}){const e=FA(),n=s=>Sa({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Sa({type:"DISMISS_TOAST",toastId:e});return Sa({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Gc(){const[t,e]=R.useState(Pu);return R.useEffect(()=>(Iu.push(e),()=>{const n=Iu.indexOf(e);n>-1&&Iu.splice(n,1)}),[t]),{...t,toast:zA,dismiss:n=>Sa({type:"DISMISS_TOAST",toastId:n})}}function Xe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function nv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function wE(...t){return e=>{let n=!1;const r=t.map(s=>{const i=nv(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():nv(t[s],null)}}}}function Vn(...t){return R.useCallback(wE(...t),t)}function Yc(t,e=[]){let n=[];function r(i,o){const l=R.createContext(o),u=n.length;n=[...n,o];const c=f=>{var v;const{scope:p,children:m,...S}=f,w=((v=p==null?void 0:p[t])==null?void 0:v[u])||l,x=R.useMemo(()=>S,Object.values(S));return E.jsx(w.Provider,{value:x,children:m})};c.displayName=i+"Provider";function h(f,p){var w;const m=((w=p==null?void 0:p[t])==null?void 0:w[u])||l,S=R.useContext(m);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,h]}const s=()=>{const i=n.map(o=>R.createContext(o));return function(l){const u=(l==null?void 0:l[t])||i;return R.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return s.scopeName=t,[r,$A(s,...e)]}function $A(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:u,scopeName:c})=>{const f=u(i)[`__scope${c}`];return{...l,...f}},{});return R.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function lc(t){const e=HA(t),n=R.forwardRef((r,s)=>{const{children:i,...o}=r,l=R.Children.toArray(i),u=l.find(qA);if(u){const c=u.props.children,h=l.map(f=>f===u?R.Children.count(c)>1?R.Children.only(null):R.isValidElement(c)?c.props.children:null:f);return E.jsx(e,{...o,ref:s,children:R.isValidElement(c)?R.cloneElement(c,void 0,h):null})}return E.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var BA=lc("Slot");function HA(t){const e=R.forwardRef((n,r)=>{const{children:s,...i}=n;if(R.isValidElement(s)){const o=KA(s),l=QA(i,s.props);return s.type!==R.Fragment&&(l.ref=r?wE(r,o):o),R.cloneElement(s,l)}return R.Children.count(s)>1?R.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _E=Symbol("radix.slottable");function WA(t){const e=({children:n})=>E.jsx(E.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=_E,e}function qA(t){return R.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_E}function QA(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const u=i(...l);return s(...l),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function KA(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function GA(t){const e=t+"CollectionProvider",[n,r]=Yc(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:x,children:v}=w,y=Q.useRef(null),T=Q.useRef(new Map).current;return E.jsx(s,{scope:x,itemMap:T,collectionRef:y,children:v})};o.displayName=e;const l=t+"CollectionSlot",u=lc(l),c=Q.forwardRef((w,x)=>{const{scope:v,children:y}=w,T=i(l,v),D=Vn(x,T.collectionRef);return E.jsx(u,{ref:D,children:y})});c.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=lc(h),m=Q.forwardRef((w,x)=>{const{scope:v,children:y,...T}=w,D=Q.useRef(null),V=Vn(x,D),L=i(h,v);return Q.useEffect(()=>(L.itemMap.set(D,{ref:D,...T}),()=>void L.itemMap.delete(D))),E.jsx(p,{[f]:"",ref:V,children:y})});m.displayName=h;function S(w){const x=i(t+"CollectionConsumer",w);return Q.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const T=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((L,C)=>T.indexOf(L.ref.current)-T.indexOf(C.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},S,r]}var YA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ot=YA.reduce((t,e)=>{const n=lc(`Primitive.${e}`),r=R.forwardRef((s,i)=>{const{asChild:o,...l}=s,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(u,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function EE(t,e){t&&ml.flushSync(()=>t.dispatchEvent(e))}function ps(t){const e=R.useRef(t);return R.useEffect(()=>{e.current=t}),R.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function XA(t,e=globalThis==null?void 0:globalThis.document){const n=ps(t);R.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var JA="DismissableLayer",bf="dismissableLayer.update",ZA="dismissableLayer.pointerDownOutside",eb="dismissableLayer.focusOutside",rv,xE=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),om=R.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=t,c=R.useContext(xE),[h,f]=R.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=R.useState({}),S=Vn(e,C=>f(C)),w=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=w.indexOf(x),y=h?w.indexOf(h):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,D=y>=v,V=nb(C=>{const _=C.target,b=[...c.branches].some(I=>I.contains(_));!D||b||(s==null||s(C),o==null||o(C),C.defaultPrevented||l==null||l())},p),L=rb(C=>{const _=C.target;[...c.branches].some(I=>I.contains(_))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},p);return XA(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},p),R.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(rv=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),sv(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=rv)}},[h,p,n,c]),R.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),sv())},[h,c]),R.useEffect(()=>{const C=()=>m({});return document.addEventListener(bf,C),()=>document.removeEventListener(bf,C)},[]),E.jsx(Ot.div,{...u,ref:S,style:{pointerEvents:T?D?"auto":"none":void 0,...t.style},onFocusCapture:Xe(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Xe(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Xe(t.onPointerDownCapture,V.onPointerDownCapture)})});om.displayName=JA;var tb="DismissableLayerBranch",TE=R.forwardRef((t,e)=>{const n=R.useContext(xE),r=R.useRef(null),s=Vn(e,r);return R.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),E.jsx(Ot.div,{...t,ref:s})});TE.displayName=tb;function nb(t,e=globalThis==null?void 0:globalThis.document){const n=ps(t),r=R.useRef(!1),s=R.useRef(()=>{});return R.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let u=function(){SE(ZA,n,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function rb(t,e=globalThis==null?void 0:globalThis.document){const n=ps(t),r=R.useRef(!1);return R.useEffect(()=>{const s=i=>{i.target&&!r.current&&SE(eb,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function sv(){const t=new CustomEvent(bf);document.dispatchEvent(t)}function SE(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?EE(s,i):s.dispatchEvent(i)}var sb=om,ib=TE,ms=globalThis!=null&&globalThis.document?R.useLayoutEffect:()=>{},ob="Portal",CE=R.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=R.useState(!1);ms(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?yE.createPortal(E.jsx(Ot.div,{...r,ref:e}),o):null});CE.displayName=ob;function ab(t,e){return R.useReducer((n,r)=>e[n][r]??n,t)}var am=t=>{const{present:e,children:n}=t,r=lb(e),s=typeof n=="function"?n({present:r.isPresent}):R.Children.only(n),i=Vn(r.ref,ub(s));return typeof n=="function"||r.isPresent?R.cloneElement(s,{ref:i}):null};am.displayName="Presence";function lb(t){const[e,n]=R.useState(),r=R.useRef(null),s=R.useRef(t),i=R.useRef("none"),o=t?"mounted":"unmounted",[l,u]=ab(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const c=iu(r.current);i.current=l==="mounted"?c:"none"},[l]),ms(()=>{const c=r.current,h=s.current;if(h!==t){const p=i.current,m=iu(c);t?u("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(h&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),ms(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,f=m=>{const w=iu(r.current).includes(m.animationName);if(m.target===e&&w&&(u("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=m=>{m.target===e&&(i.current=iu(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:R.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function iu(t){return(t==null?void 0:t.animationName)||"none"}function ub(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var cb=p0[" useInsertionEffect ".trim().toString()]||ms;function db({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=hb({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:s;{const h=R.useRef(t!==void 0);R.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const c=R.useCallback(h=>{var f;if(l){const p=fb(h)?h(t):h;p!==t&&((f=o.current)==null||f.call(o,p))}else i(h)},[l,t,i,o]);return[u,c]}function hb({defaultProp:t,onChange:e}){const[n,r]=R.useState(t),s=R.useRef(n),i=R.useRef(e);return cb(()=>{i.current=e},[e]),R.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function fb(t){return typeof t=="function"}var pb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),mb="VisuallyHidden",Xc=R.forwardRef((t,e)=>E.jsx(Ot.span,{...t,ref:e,style:{...pb,...t.style}}));Xc.displayName=mb;var gb=Xc,lm="ToastProvider",[um,yb,vb]=GA("Toast"),[AE,OO]=Yc("Toast",[vb]),[wb,Jc]=AE(lm),bE=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[l,u]=R.useState(null),[c,h]=R.useState(0),f=R.useRef(!1),p=R.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${lm}\`. Expected non-empty \`string\`.`),E.jsx(um.Provider,{scope:e,children:E.jsx(wb,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:l,onViewportChange:u,onToastAdd:R.useCallback(()=>h(m=>m+1),[]),onToastRemove:R.useCallback(()=>h(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};bE.displayName=lm;var IE="ToastViewport",_b=["F8"],If="toast.viewportPause",Pf="toast.viewportResume",PE=R.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=_b,label:s="Notifications ({hotkey})",...i}=t,o=Jc(IE,n),l=yb(n),u=R.useRef(null),c=R.useRef(null),h=R.useRef(null),f=R.useRef(null),p=Vn(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=o.toastCount>0;R.useEffect(()=>{const x=v=>{var T;r.length!==0&&r.every(D=>v[D]||v.code===D)&&((T=f.current)==null||T.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),R.useEffect(()=>{const x=u.current,v=f.current;if(S&&x&&v){const y=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(If);v.dispatchEvent(L),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(Pf);v.dispatchEvent(L),o.isClosePausedRef.current=!1}},D=L=>{!x.contains(L.relatedTarget)&&T()},V=()=>{x.contains(document.activeElement)||T()};return x.addEventListener("focusin",y),x.addEventListener("focusout",D),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",V),window.addEventListener("blur",y),window.addEventListener("focus",T),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",D),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",V),window.removeEventListener("blur",y),window.removeEventListener("focus",T)}}},[S,o.isClosePausedRef]);const w=R.useCallback(({tabbingDirection:x})=>{const y=l().map(T=>{const D=T.ref.current,V=[D,...Db(D)];return x==="forwards"?V:V.reverse()});return(x==="forwards"?y.reverse():y).flat()},[l]);return R.useEffect(()=>{const x=f.current;if(x){const v=y=>{var V,L,C;const T=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!T){const _=document.activeElement,b=y.shiftKey;if(y.target===x&&b){(V=c.current)==null||V.focus();return}const N=w({tabbingDirection:b?"backwards":"forwards"}),P=N.findIndex(q=>q===_);yh(N.slice(P+1))?y.preventDefault():b?(L=c.current)==null||L.focus():(C=h.current)==null||C.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[l,w]),E.jsxs(ib,{ref:u,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&E.jsx(Rf,{ref:c,onFocusFromOutsideViewport:()=>{const x=w({tabbingDirection:"forwards"});yh(x)}}),E.jsx(um.Slot,{scope:n,children:E.jsx(Ot.ol,{tabIndex:-1,...i,ref:p})}),S&&E.jsx(Rf,{ref:h,onFocusFromOutsideViewport:()=>{const x=w({tabbingDirection:"backwards"});yh(x)}})]})});PE.displayName=IE;var RE="ToastFocusProxy",Rf=R.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Jc(RE,n);return E.jsx(Xc,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const l=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(l))&&r()}})});Rf.displayName=RE;var gl="Toast",Eb="toast.swipeStart",xb="toast.swipeMove",Tb="toast.swipeCancel",Sb="toast.swipeEnd",kE=R.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[l,u]=db({prop:r,defaultProp:s??!0,onChange:i,caller:gl});return E.jsx(am,{present:n||l,children:E.jsx(bb,{open:l,...o,ref:e,onClose:()=>u(!1),onPause:ps(t.onPause),onResume:ps(t.onResume),onSwipeStart:Xe(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Xe(t.onSwipeMove,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Xe(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Xe(t.onSwipeEnd,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),u(!1)})})})});kE.displayName=gl;var[Cb,Ab]=AE(gl,{onClose(){}}),bb=R.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:u,onResume:c,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m,...S}=t,w=Jc(gl,n),[x,v]=R.useState(null),y=Vn(e,q=>v(q)),T=R.useRef(null),D=R.useRef(null),V=s||w.duration,L=R.useRef(0),C=R.useRef(V),_=R.useRef(0),{onToastAdd:b,onToastRemove:I}=w,k=ps(()=>{var ne;(x==null?void 0:x.contains(document.activeElement))&&((ne=w.viewport)==null||ne.focus()),o()}),N=R.useCallback(q=>{!q||q===1/0||(window.clearTimeout(_.current),L.current=new Date().getTime(),_.current=window.setTimeout(k,q))},[k]);R.useEffect(()=>{const q=w.viewport;if(q){const ne=()=>{N(C.current),c==null||c()},re=()=>{const $=new Date().getTime()-L.current;C.current=C.current-$,window.clearTimeout(_.current),u==null||u()};return q.addEventListener(If,re),q.addEventListener(Pf,ne),()=>{q.removeEventListener(If,re),q.removeEventListener(Pf,ne)}}},[w.viewport,V,u,c,N]),R.useEffect(()=>{i&&!w.isClosePausedRef.current&&N(V)},[i,V,w.isClosePausedRef,N]),R.useEffect(()=>(b(),()=>I()),[b,I]);const P=R.useMemo(()=>x?jE(x):null,[x]);return w.viewport?E.jsxs(E.Fragment,{children:[P&&E.jsx(Ib,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),E.jsx(Cb,{scope:n,onClose:k,children:ml.createPortal(E.jsx(um.ItemSlot,{scope:n,children:E.jsx(sb,{asChild:!0,onEscapeKeyDown:Xe(l,()=>{w.isFocusedToastEscapeKeyDownRef.current||k(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:E.jsx(Ot.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...S,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Xe(t.onKeyDown,q=>{q.key==="Escape"&&(l==null||l(q.nativeEvent),q.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Xe(t.onPointerDown,q=>{q.button===0&&(T.current={x:q.clientX,y:q.clientY})}),onPointerMove:Xe(t.onPointerMove,q=>{if(!T.current)return;const ne=q.clientX-T.current.x,re=q.clientY-T.current.y,$=!!D.current,j=["left","right"].includes(w.swipeDirection),U=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,W=j?U(0,ne):0,ee=j?0:U(0,re),X=q.pointerType==="touch"?10:2,Z={x:W,y:ee},de={originalEvent:q,delta:Z};$?(D.current=Z,ou(xb,f,de,{discrete:!1})):iv(Z,w.swipeDirection,X)?(D.current=Z,ou(Eb,h,de,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(ne)>X||Math.abs(re)>X)&&(T.current=null)}),onPointerUp:Xe(t.onPointerUp,q=>{const ne=D.current,re=q.target;if(re.hasPointerCapture(q.pointerId)&&re.releasePointerCapture(q.pointerId),D.current=null,T.current=null,ne){const $=q.currentTarget,j={originalEvent:q,delta:ne};iv(ne,w.swipeDirection,w.swipeThreshold)?ou(Sb,m,j,{discrete:!0}):ou(Tb,p,j,{discrete:!0}),$.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),Ib=t=>{const{__scopeToast:e,children:n,...r}=t,s=Jc(gl,e),[i,o]=R.useState(!1),[l,u]=R.useState(!1);return kb(()=>o(!0)),R.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),l?null:E.jsx(CE,{asChild:!0,children:E.jsx(Xc,{...r,children:i&&E.jsxs(E.Fragment,{children:[s.label," ",n]})})})},Pb="ToastTitle",NE=R.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return E.jsx(Ot.div,{...r,ref:e})});NE.displayName=Pb;var Rb="ToastDescription",DE=R.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return E.jsx(Ot.div,{...r,ref:e})});DE.displayName=Rb;var VE="ToastAction",OE=R.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?E.jsx(ME,{altText:n,asChild:!0,children:E.jsx(cm,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${VE}\`. Expected non-empty \`string\`.`),null)});OE.displayName=VE;var LE="ToastClose",cm=R.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=Ab(LE,n);return E.jsx(ME,{asChild:!0,children:E.jsx(Ot.button,{type:"button",...r,ref:e,onClick:Xe(t.onClick,s.onClose)})})});cm.displayName=LE;var ME=R.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return E.jsx(Ot.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function jE(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Nb(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...jE(r))}}),e}function ou(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?EE(s,i):s.dispatchEvent(i)}var iv=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function kb(t=()=>{}){const e=ps(t);ms(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Nb(t){return t.nodeType===t.ELEMENT_NODE}function Db(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function yh(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Vb=bE,FE=PE,UE=kE,zE=NE,$E=DE,BE=OE,HE=cm;function WE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=WE(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function qE(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=WE(t))&&(r&&(r+=" "),r+=e);return r}const ov=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,av=qE,Zc=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return av(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const h=n==null?void 0:n[c],f=i==null?void 0:i[c];if(h===null)return null;const p=ov(h)||ov(f);return s[c][p]}),l=n&&Object.entries(n).reduce((c,h)=>{let[f,p]=h;return p===void 0||(c[f]=p),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:f,className:p,...m}=h;return Object.entries(m).every(S=>{let[w,x]=S;return Array.isArray(x)?x.includes({...i,...l}[w]):{...i,...l}[w]===x})?[...c,f,p]:c},[]);return av(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QE=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},u)=>R.createElement("svg",{ref:u,...Lb,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:QE("lucide",s),...l},[...o.map(([c,h])=>R.createElement(c,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=(t,e)=>{const n=R.forwardRef(({className:r,...s},i)=>R.createElement(Mb,{ref:i,iconNode:e,className:QE(`lucide-${Ob(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=Lt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=Lt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=Lt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=Lt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=Lt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=Lt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=Lt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=Lt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=Lt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=Lt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=Lt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=Lt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=Lt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=Lt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=Lt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dm="-",Wb=t=>{const e=Qb(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(dm);return l[0]===""&&l.length!==1&&l.shift(),JE(l,e)||qb(o)},getConflictingClassGroupIds:(o,l)=>{const u=n[o]||[];return l&&r[o]?[...u,...r[o]]:u}}},JE=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?JE(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(dm);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},lv=/^\[(.+)\]$/,qb=t=>{if(lv.test(t)){const e=lv.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Qb=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Gb(Object.entries(t.classGroups),n).forEach(([i,o])=>{kf(o,r,i,e)}),r},kf=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:uv(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Kb(s)){kf(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{kf(o,uv(e,i),n,r)})})},uv=(t,e)=>{let n=t;return e.split(dm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Kb=t=>t.isThemeGetter,Gb=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[n,s]}):t,Yb=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},ZE="!",Xb=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=l=>{const u=[];let c=0,h=0,f;for(let x=0;x<l.length;x++){let v=l[x];if(c===0){if(v===s&&(r||l.slice(x,x+i)===e)){u.push(l.slice(h,x)),h=x+i;continue}if(v==="/"){f=x;continue}}v==="["?c++:v==="]"&&c--}const p=u.length===0?l:l.substring(h),m=p.startsWith(ZE),S=m?p.substring(1):p,w=f&&f>h?f-h:void 0;return{modifiers:u,hasImportantModifier:m,baseClassName:S,maybePostfixModifierPosition:w}};return n?l=>n({className:l,parseClassName:o}):o},Jb=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Zb=t=>({cache:Yb(t.cacheSize),parseClassName:Xb(t),...Wb(t)}),eI=/\s+/,tI=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(eI);let l="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let S=!!m,w=r(S?p.substring(0,m):p);if(!w){if(!S){l=c+(l.length>0?" "+l:l);continue}if(w=r(p),!w){l=c+(l.length>0?" "+l:l);continue}S=!1}const x=Jb(h).join(":"),v=f?x+ZE:x,y=v+w;if(i.includes(y))continue;i.push(y);const T=s(w,S);for(let D=0;D<T.length;++D){const V=T[D];i.push(v+V)}l=c+(l.length>0?" "+l:l)}return l};function nI(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=e1(e))&&(r&&(r+=" "),r+=n);return r}const e1=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=e1(t[r]))&&(n&&(n+=" "),n+=e);return n};function rI(t,...e){let n,r,s,i=o;function o(u){const c=e.reduce((h,f)=>f(h),t());return n=Zb(c),r=n.cache.get,s=n.cache.set,i=l,l(u)}function l(u){const c=r(u);if(c)return c;const h=tI(u,n);return s(u,h),h}return function(){return i(nI.apply(null,arguments))}}const Re=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},t1=/^\[(?:([a-z-]+):)?(.+)\]$/i,sI=/^\d+\/\d+$/,iI=new Set(["px","full","screen"]),oI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,uI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cr=t=>Ki(t)||iI.has(t)||sI.test(t),Mr=t=>Po(t,"length",vI),Ki=t=>!!t&&!Number.isNaN(Number(t)),vh=t=>Po(t,"number",Ki),oa=t=>!!t&&Number.isInteger(Number(t)),dI=t=>t.endsWith("%")&&Ki(t.slice(0,-1)),ue=t=>t1.test(t),jr=t=>oI.test(t),hI=new Set(["length","size","percentage"]),fI=t=>Po(t,hI,n1),pI=t=>Po(t,"position",n1),mI=new Set(["image","url"]),gI=t=>Po(t,mI,_I),yI=t=>Po(t,"",wI),aa=()=>!0,Po=(t,e,n)=>{const r=t1.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},vI=t=>aI.test(t)&&!lI.test(t),n1=()=>!1,wI=t=>uI.test(t),_I=t=>cI.test(t),EI=()=>{const t=Re("colors"),e=Re("spacing"),n=Re("blur"),r=Re("brightness"),s=Re("borderColor"),i=Re("borderRadius"),o=Re("borderSpacing"),l=Re("borderWidth"),u=Re("contrast"),c=Re("grayscale"),h=Re("hueRotate"),f=Re("invert"),p=Re("gap"),m=Re("gradientColorStops"),S=Re("gradientColorStopPositions"),w=Re("inset"),x=Re("margin"),v=Re("opacity"),y=Re("padding"),T=Re("saturate"),D=Re("scale"),V=Re("sepia"),L=Re("skew"),C=Re("space"),_=Re("translate"),b=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",ue,e],N=()=>[ue,e],P=()=>["",cr,Mr],q=()=>["auto",Ki,ue],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],re=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",ue],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Ki,ue];return{cacheSize:500,separator:":",theme:{colors:[aa],spacing:[cr,Mr],blur:["none","",jr,ue],brightness:ee(),borderColor:[t],borderRadius:["none","","full",jr,ue],borderSpacing:N(),borderWidth:P(),contrast:ee(),grayscale:U(),hueRotate:ee(),invert:U(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[dI,Mr],inset:k(),margin:k(),opacity:ee(),padding:N(),saturate:ee(),scale:ee(),sepia:U(),skew:ee(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[jr]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),ue]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:b()}],"overscroll-x":[{"overscroll-x":b()}],"overscroll-y":[{"overscroll-y":b()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",oa,ue]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",oa,ue]}],"grid-cols":[{"grid-cols":[aa]}],"col-start-end":[{col:["auto",{span:["full",oa,ue]},ue]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[aa]}],"row-start-end":[{row:["auto",{span:[oa,ue]},ue]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,e]}],"min-w":[{"min-w":[ue,e,"min","max","fit"]}],"max-w":[{"max-w":[ue,e,"none","full","min","max","fit","prose",{screen:[jr]},jr]}],h:[{h:[ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",jr,Mr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vh]}],"font-family":[{font:[aa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",Ki,vh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",cr,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",cr,Mr]}],"underline-offset":[{"underline-offset":["auto",cr,ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),pI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gI]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...re(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:re()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...re()]}],"outline-offset":[{"outline-offset":[cr,ue]}],"outline-w":[{outline:[cr,Mr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[cr,Mr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",jr,yI]}],"shadow-color":[{shadow:[aa]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",jr,ue]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[V]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[oa,ue]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[cr,Mr,vh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xI=rI(EI);function ot(...t){return xI(qE(t))}const TI=Vb,r1=R.forwardRef(({className:t,...e},n)=>E.jsx(FE,{ref:n,className:ot("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));r1.displayName=FE.displayName;const SI=Zc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),s1=R.forwardRef(({className:t,variant:e,...n},r)=>E.jsx(UE,{ref:r,className:ot(SI({variant:e}),t),...n}));s1.displayName=UE.displayName;const CI=R.forwardRef(({className:t,...e},n)=>E.jsx(BE,{ref:n,className:ot("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));CI.displayName=BE.displayName;const i1=R.forwardRef(({className:t,...e},n)=>E.jsx(HE,{ref:n,className:ot("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:E.jsx(Ga,{className:"h-4 w-4"})}));i1.displayName=HE.displayName;const o1=R.forwardRef(({className:t,...e},n)=>E.jsx(zE,{ref:n,className:ot("text-sm font-semibold",t),...e}));o1.displayName=zE.displayName;const a1=R.forwardRef(({className:t,...e},n)=>E.jsx($E,{ref:n,className:ot("text-sm opacity-90",t),...e}));a1.displayName=$E.displayName;function AI(){const{toasts:t}=Gc();return E.jsxs(TI,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return E.jsxs(s1,{...i,children:[E.jsxs("div",{className:"grid gap-1",children:[n&&E.jsx(o1,{children:n}),r&&E.jsx(a1,{children:r})]}),s,E.jsx(i1,{})]},e)}),E.jsx(r1,{})]})}var cv=["light","dark"],bI="(prefers-color-scheme: dark)",II=R.createContext(void 0),PI={setTheme:t=>{},themes:[]},RI=()=>{var t;return(t=R.useContext(II))!=null?t:PI};R.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:u})=>{let c=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(S=>`'${S}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?cv.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(S,w=!1,x=!0)=>{let v=o?o[S]:S,y=w?S+"|| ''":`'${v}'`,T="";return s&&x&&!w&&cv.includes(S)&&(T+=`d.style.colorScheme = '${S}';`),n==="class"?w||v?T+=`c.add(${y})`:T+="null":v&&(T+=`d[s](n,${y})`),T},m=t?`!function(){${h}${p(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${bI}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return R.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:m}})});var kI=t=>{switch(t){case"success":return VI;case"info":return LI;case"warning":return OI;case"error":return MI;default:return null}},NI=Array(12).fill(0),DI=({visible:t,className:e})=>Q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Q.createElement("div",{className:"sonner-spinner"},NI.map((n,r)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),VI=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),OI=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),LI=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),MI=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),jI=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),FI=()=>{let[t,e]=Q.useState(document.hidden);return Q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Nf=1,UI=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Nf++,o=this.toasts.find(u=>u.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...e,id:i,title:r}),{...u,...e,id:i,dismissible:l,title:r}):u):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,l=s.then(async c=>{if(o=["resolve",c],Q.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if($I(c)&&!c.ok){i=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:h,description:f})}else if(n.success!==void 0){i=!1;let h=typeof n.success=="function"?await n.success(c):n.success,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:h,description:f})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){i=!1;let h=typeof n.error=="function"?await n.error(c):n.error,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:h,description:f})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),u=()=>new Promise((c,h)=>l.then(()=>o[0]==="reject"?h(o[1]):c(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Nf++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ft=new UI,zI=(t,e)=>{let n=(e==null?void 0:e.id)||Nf++;return Ft.addToast({title:t,...e,id:n}),n},$I=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",BI=zI,HI=()=>Ft.toasts,WI=()=>Ft.getActiveToasts(),wh=Object.assign(BI,{success:Ft.success,info:Ft.info,warning:Ft.warning,error:Ft.error,custom:Ft.custom,message:Ft.message,promise:Ft.promise,dismiss:Ft.dismiss,loading:Ft.loading},{getHistory:HI,getToasts:WI});function qI(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}qI(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function au(t){return t.label!==void 0}var QI=3,KI="32px",GI="16px",dv=4e3,YI=356,XI=14,JI=20,ZI=200;function xn(...t){return t.filter(Boolean).join(" ")}function eP(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var tP=t=>{var e,n,r,s,i,o,l,u,c,h,f;let{invert:p,toast:m,unstyled:S,interacting:w,setHeights:x,visibleToasts:v,heights:y,index:T,toasts:D,expanded:V,removeToast:L,defaultRichColors:C,closeButton:_,style:b,cancelButtonStyle:I,actionButtonStyle:k,className:N="",descriptionClassName:P="",duration:q,position:ne,gap:re,loadingIcon:$,expandByDefault:j,classNames:U,icons:W,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:X}=t,[Z,de]=Q.useState(null),[be,tt]=Q.useState(null),[pe,Ir]=Q.useState(!1),[Mn,ln]=Q.useState(!1),[Kt,jn]=Q.useState(!1),[un,Pr]=Q.useState(!1),[ks,Ns]=Q.useState(!1),[Fo,Ds]=Q.useState(0),[ir,mi]=Q.useState(0),Rr=Q.useRef(m.duration||q||dv),Sl=Q.useRef(null),wn=Q.useRef(null),Uo=T===0,Cl=T+1<=v,Te=m.type,ze=m.dismissible!==!1,gi=m.className||"",Al=m.descriptionClassName||"",Vs=Q.useMemo(()=>y.findIndex(ie=>ie.toastId===m.id)||0,[y,m.id]),Id=Q.useMemo(()=>{var ie;return(ie=m.closeButton)!=null?ie:_},[m.closeButton,_]),kr=Q.useMemo(()=>m.duration||q||dv,[m.duration,q]),yi=Q.useRef(0),or=Q.useRef(0),vi=Q.useRef(0),Nr=Q.useRef(null),[Pd,zo]=ne.split("-"),$o=Q.useMemo(()=>y.reduce((ie,ye,Ce)=>Ce>=Vs?ie:ie+ye.height,0),[y,Vs]),Bo=FI(),Os=m.invert||p,Ls=Te==="loading";or.current=Q.useMemo(()=>Vs*re+$o,[Vs,$o]),Q.useEffect(()=>{Rr.current=kr},[kr]),Q.useEffect(()=>{Ir(!0)},[]),Q.useEffect(()=>{let ie=wn.current;if(ie){let ye=ie.getBoundingClientRect().height;return mi(ye),x(Ce=>[{toastId:m.id,height:ye,position:m.position},...Ce]),()=>x(Ce=>Ce.filter(at=>at.toastId!==m.id))}},[x,m.id]),Q.useLayoutEffect(()=>{if(!pe)return;let ie=wn.current,ye=ie.style.height;ie.style.height="auto";let Ce=ie.getBoundingClientRect().height;ie.style.height=ye,mi(Ce),x(at=>at.find(Mt=>Mt.toastId===m.id)?at.map(Mt=>Mt.toastId===m.id?{...Mt,height:Ce}:Mt):[{toastId:m.id,height:Ce,position:m.position},...at])},[pe,m.title,m.description,x,m.id]);let cn=Q.useCallback(()=>{ln(!0),Ds(or.current),x(ie=>ie.filter(ye=>ye.toastId!==m.id)),setTimeout(()=>{L(m)},ZI)},[m,L,x,or]);Q.useEffect(()=>{if(m.promise&&Te==="loading"||m.duration===1/0||m.type==="loading")return;let ie;return V||w||X&&Bo?(()=>{if(vi.current<yi.current){let ye=new Date().getTime()-yi.current;Rr.current=Rr.current-ye}vi.current=new Date().getTime()})():Rr.current!==1/0&&(yi.current=new Date().getTime(),ie=setTimeout(()=>{var ye;(ye=m.onAutoClose)==null||ye.call(m,m),cn()},Rr.current)),()=>clearTimeout(ie)},[V,w,m,Te,X,Bo,cn]),Q.useEffect(()=>{m.delete&&cn()},[cn,m.delete]);function ar(){var ie,ye,Ce;return W!=null&&W.loading?Q.createElement("div",{className:xn(U==null?void 0:U.loader,(ie=m==null?void 0:m.classNames)==null?void 0:ie.loader,"sonner-loader"),"data-visible":Te==="loading"},W.loading):$?Q.createElement("div",{className:xn(U==null?void 0:U.loader,(ye=m==null?void 0:m.classNames)==null?void 0:ye.loader,"sonner-loader"),"data-visible":Te==="loading"},$):Q.createElement(DI,{className:xn(U==null?void 0:U.loader,(Ce=m==null?void 0:m.classNames)==null?void 0:Ce.loader),visible:Te==="loading"})}return Q.createElement("li",{tabIndex:0,ref:wn,className:xn(N,gi,U==null?void 0:U.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[Te],(n=m==null?void 0:m.classNames)==null?void 0:n[Te]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:C,"data-styled":!(m.jsx||m.unstyled||S),"data-mounted":pe,"data-promise":!!m.promise,"data-swiped":ks,"data-removed":Mn,"data-visible":Cl,"data-y-position":Pd,"data-x-position":zo,"data-index":T,"data-front":Uo,"data-swiping":Kt,"data-dismissible":ze,"data-type":Te,"data-invert":Os,"data-swipe-out":un,"data-swipe-direction":be,"data-expanded":!!(V||j&&pe),style:{"--index":T,"--toasts-before":T,"--z-index":D.length-T,"--offset":`${Mn?Fo:or.current}px`,"--initial-height":j?"auto":`${ir}px`,...b,...m.style},onDragEnd:()=>{jn(!1),de(null),Nr.current=null},onPointerDown:ie=>{Ls||!ze||(Sl.current=new Date,Ds(or.current),ie.target.setPointerCapture(ie.pointerId),ie.target.tagName!=="BUTTON"&&(jn(!0),Nr.current={x:ie.clientX,y:ie.clientY}))},onPointerUp:()=>{var ie,ye,Ce,at;if(un||!ze)return;Nr.current=null;let Mt=Number(((ie=wn.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Oe=Number(((ye=wn.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Fn=new Date().getTime()-((Ce=Sl.current)==null?void 0:Ce.getTime()),lt=Z==="x"?Mt:Oe,jt=Math.abs(lt)/Fn;if(Math.abs(lt)>=JI||jt>.11){Ds(or.current),(at=m.onDismiss)==null||at.call(m,m),tt(Z==="x"?Mt>0?"right":"left":Oe>0?"down":"up"),cn(),Pr(!0),Ns(!1);return}jn(!1),de(null)},onPointerMove:ie=>{var ye,Ce,at,Mt;if(!Nr.current||!ze||((ye=window.getSelection())==null?void 0:ye.toString().length)>0)return;let Oe=ie.clientY-Nr.current.y,Fn=ie.clientX-Nr.current.x,lt=(Ce=t.swipeDirections)!=null?Ce:eP(ne);!Z&&(Math.abs(Fn)>1||Math.abs(Oe)>1)&&de(Math.abs(Fn)>Math.abs(Oe)?"x":"y");let jt={x:0,y:0};Z==="y"?(lt.includes("top")||lt.includes("bottom"))&&(lt.includes("top")&&Oe<0||lt.includes("bottom")&&Oe>0)&&(jt.y=Oe):Z==="x"&&(lt.includes("left")||lt.includes("right"))&&(lt.includes("left")&&Fn<0||lt.includes("right")&&Fn>0)&&(jt.x=Fn),(Math.abs(jt.x)>0||Math.abs(jt.y)>0)&&Ns(!0),(at=wn.current)==null||at.style.setProperty("--swipe-amount-x",`${jt.x}px`),(Mt=wn.current)==null||Mt.style.setProperty("--swipe-amount-y",`${jt.y}px`)}},Id&&!m.jsx?Q.createElement("button",{"aria-label":ee,"data-disabled":Ls,"data-close-button":!0,onClick:Ls||!ze?()=>{}:()=>{var ie;cn(),(ie=m.onDismiss)==null||ie.call(m,m)},className:xn(U==null?void 0:U.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=W==null?void 0:W.close)!=null?i:jI):null,m.jsx||R.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:Q.createElement(Q.Fragment,null,Te||m.icon||m.promise?Q.createElement("div",{"data-icon":"",className:xn(U==null?void 0:U.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ar():null,m.type!=="loading"?m.icon||(W==null?void 0:W[Te])||kI(Te):null):null,Q.createElement("div",{"data-content":"",className:xn(U==null?void 0:U.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},Q.createElement("div",{"data-title":"",className:xn(U==null?void 0:U.title,(u=m==null?void 0:m.classNames)==null?void 0:u.title)},typeof m.title=="function"?m.title():m.title),m.description?Q.createElement("div",{"data-description":"",className:xn(P,Al,U==null?void 0:U.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),R.isValidElement(m.cancel)?m.cancel:m.cancel&&au(m.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||I,onClick:ie=>{var ye,Ce;au(m.cancel)&&ze&&((Ce=(ye=m.cancel).onClick)==null||Ce.call(ye,ie),cn())},className:xn(U==null?void 0:U.cancelButton,(h=m==null?void 0:m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,R.isValidElement(m.action)?m.action:m.action&&au(m.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||k,onClick:ie=>{var ye,Ce;au(m.action)&&((Ce=(ye=m.action).onClick)==null||Ce.call(ye,ie),!ie.defaultPrevented&&cn())},className:xn(U==null?void 0:U.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function hv(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function nP(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?GI:KI;function u(c){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=l:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):u(l)}),n}var rP=R.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:u,mobileOffset:c,theme:h="light",richColors:f,duration:p,style:m,visibleToasts:S=QI,toastOptions:w,dir:x=hv(),gap:v=XI,loadingIcon:y,icons:T,containerAriaLabel:D="Notifications",pauseWhenPageIsHidden:V}=t,[L,C]=Q.useState([]),_=Q.useMemo(()=>Array.from(new Set([r].concat(L.filter(X=>X.position).map(X=>X.position)))),[L,r]),[b,I]=Q.useState([]),[k,N]=Q.useState(!1),[P,q]=Q.useState(!1),[ne,re]=Q.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=Q.useRef(null),j=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=Q.useRef(null),W=Q.useRef(!1),ee=Q.useCallback(X=>{C(Z=>{var de;return(de=Z.find(be=>be.id===X.id))!=null&&de.delete||Ft.dismiss(X.id),Z.filter(({id:be})=>be!==X.id)})},[]);return Q.useEffect(()=>Ft.subscribe(X=>{if(X.dismiss){C(Z=>Z.map(de=>de.id===X.id?{...de,delete:!0}:de));return}setTimeout(()=>{yE.flushSync(()=>{C(Z=>{let de=Z.findIndex(be=>be.id===X.id);return de!==-1?[...Z.slice(0,de),{...Z[de],...X},...Z.slice(de+1)]:[X,...Z]})})})}),[]),Q.useEffect(()=>{if(h!=="system"){re(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:Z})=>{re(Z?"dark":"light")})}catch{X.addListener(({matches:de})=>{try{re(de?"dark":"light")}catch(be){console.error(be)}})}},[h]),Q.useEffect(()=>{L.length<=1&&N(!1)},[L]),Q.useEffect(()=>{let X=Z=>{var de,be;s.every(tt=>Z[tt]||Z.code===tt)&&(N(!0),(de=$.current)==null||de.focus()),Z.code==="Escape"&&(document.activeElement===$.current||(be=$.current)!=null&&be.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),Q.useEffect(()=>{if($.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,W.current=!1)}},[$.current]),Q.createElement("section",{ref:e,"aria-label":`${D} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((X,Z)=>{var de;let[be,tt]=X.split("-");return L.length?Q.createElement("ol",{key:X,dir:x==="auto"?hv():x,tabIndex:-1,ref:$,className:l,"data-sonner-toaster":!0,"data-theme":ne,"data-y-position":be,"data-lifted":k&&L.length>1&&!i,"data-x-position":tt,style:{"--front-toast-height":`${((de=b[0])==null?void 0:de.height)||0}px`,"--width":`${YI}px`,"--gap":`${v}px`,...m,...nP(u,c)},onBlur:pe=>{W.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(W.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||W.current||(W.current=!0,U.current=pe.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{P||N(!1)},onDragEnd:()=>N(!1),onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},L.filter(pe=>!pe.position&&Z===0||pe.position===X).map((pe,Ir)=>{var Mn,ln;return Q.createElement(tP,{key:pe.id,icons:T,index:Ir,toast:pe,defaultRichColors:f,duration:(Mn=w==null?void 0:w.duration)!=null?Mn:p,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:n,visibleToasts:S,closeButton:(ln=w==null?void 0:w.closeButton)!=null?ln:o,interacting:P,position:X,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:ee,toasts:L.filter(Kt=>Kt.position==pe.position),heights:b.filter(Kt=>Kt.position==pe.position),setHeights:I,expandByDefault:i,gap:v,loadingIcon:y,expanded:k,pauseWhenPageIsHidden:V,swipeDirections:t.swipeDirections})})):null}))});const sP=({...t})=>{const{theme:e="system"}=RI();return E.jsx(rP,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},iP=["top","right","bottom","left"],gs=Math.min,Xt=Math.max,cc=Math.round,lu=Math.floor,Yn=t=>({x:t,y:t}),oP={left:"right",right:"left",bottom:"top",top:"bottom"},aP={start:"end",end:"start"};function Df(t,e,n){return Xt(t,gs(e,n))}function xr(t,e){return typeof t=="function"?t(e):t}function Tr(t){return t.split("-")[0]}function Ro(t){return t.split("-")[1]}function hm(t){return t==="x"?"y":"x"}function fm(t){return t==="y"?"height":"width"}const lP=new Set(["top","bottom"]);function Qn(t){return lP.has(Tr(t))?"y":"x"}function pm(t){return hm(Qn(t))}function uP(t,e,n){n===void 0&&(n=!1);const r=Ro(t),s=pm(t),i=fm(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=dc(o)),[o,dc(o)]}function cP(t){const e=dc(t);return[Vf(t),e,Vf(e)]}function Vf(t){return t.replace(/start|end/g,e=>aP[e])}const fv=["left","right"],pv=["right","left"],dP=["top","bottom"],hP=["bottom","top"];function fP(t,e,n){switch(t){case"top":case"bottom":return n?e?pv:fv:e?fv:pv;case"left":case"right":return e?dP:hP;default:return[]}}function pP(t,e,n,r){const s=Ro(t);let i=fP(Tr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Vf)))),i}function dc(t){return t.replace(/left|right|bottom|top/g,e=>oP[e])}function mP(t){return{top:0,right:0,bottom:0,left:0,...t}}function l1(t){return typeof t!="number"?mP(t):{top:t,right:t,bottom:t,left:t}}function hc(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function mv(t,e,n){let{reference:r,floating:s}=t;const i=Qn(e),o=pm(e),l=fm(o),u=Tr(e),c=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[l]/2-s[l]/2;let m;switch(u){case"top":m={x:h,y:r.y-s.height};break;case"bottom":m={x:h,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Ro(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const gP=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=mv(c,r,u),p=r,m={},S=0;for(let w=0;w<l.length;w++){const{name:x,fn:v}=l[w],{x:y,y:T,data:D,reset:V}=await v({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});h=y??h,f=T??f,m={...m,[x]:{...m[x],...D}},V&&S<=50&&(S++,typeof V=="object"&&(V.placement&&(p=V.placement),V.rects&&(c=V.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):V.rects),{x:h,y:f}=mv(c,p,u)),w=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:m}};async function Ya(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=xr(e,t),S=l1(m),x=l[p?f==="floating"?"reference":"floating":f],v=hc(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:c,rootBoundary:h,strategy:u})),y=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),D=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},V=hc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:T,strategy:u}):y);return{top:(v.top-V.top+S.top)/D.y,bottom:(V.bottom-v.bottom+S.bottom)/D.y,left:(v.left-V.left+S.left)/D.x,right:(V.right-v.right+S.right)/D.x}}const yP=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:u}=e,{element:c,padding:h=0}=xr(t,e)||{};if(c==null)return{};const f=l1(h),p={x:n,y:r},m=pm(s),S=fm(m),w=await o.getDimensions(c),x=m==="y",v=x?"top":"left",y=x?"bottom":"right",T=x?"clientHeight":"clientWidth",D=i.reference[S]+i.reference[m]-p[m]-i.floating[S],V=p[m]-i.reference[m],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=L?L[T]:0;(!C||!await(o.isElement==null?void 0:o.isElement(L)))&&(C=l.floating[T]||i.floating[S]);const _=D/2-V/2,b=C/2-w[S]/2-1,I=gs(f[v],b),k=gs(f[y],b),N=I,P=C-w[S]-k,q=C/2-w[S]/2+_,ne=Df(N,q,P),re=!u.arrow&&Ro(s)!=null&&q!==ne&&i.reference[S]/2-(q<N?I:k)-w[S]/2<0,$=re?q<N?q-N:q-P:0;return{[m]:p[m]+$,data:{[m]:ne,centerOffset:q-ne-$,...re&&{alignmentOffset:$}},reset:re}}}),vP=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:u,elements:c}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:w=!0,...x}=xr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Tr(s),y=Qn(l),T=Tr(l)===l,D=await(u.isRTL==null?void 0:u.isRTL(c.floating)),V=p||(T||!w?[dc(l)]:cP(l)),L=S!=="none";!p&&L&&V.push(...pP(l,w,S,D));const C=[l,...V],_=await Ya(e,x),b=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&b.push(_[v]),f){const q=uP(s,o,D);b.push(_[q[0]],_[q[1]])}if(I=[...I,{placement:s,overflows:b}],!b.every(q=>q<=0)){var k,N;const q=(((k=i.flip)==null?void 0:k.index)||0)+1,ne=C[q];if(ne&&(!(f==="alignment"?y!==Qn(ne):!1)||I.every(j=>j.overflows[0]>0&&Qn(j.placement)===y)))return{data:{index:q,overflows:I},reset:{placement:ne}};let re=(N=I.filter($=>$.overflows[0]<=0).sort(($,j)=>$.overflows[1]-j.overflows[1])[0])==null?void 0:N.placement;if(!re)switch(m){case"bestFit":{var P;const $=(P=I.filter(j=>{if(L){const U=Qn(j.placement);return U===y||U==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(U=>U>0).reduce((U,W)=>U+W,0)]).sort((j,U)=>j[1]-U[1])[0])==null?void 0:P[0];$&&(re=$);break}case"initialPlacement":re=l;break}if(s!==re)return{reset:{placement:re}}}return{}}}};function gv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function yv(t){return iP.some(e=>t[e]>=0)}const wP=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=xr(t,e);switch(r){case"referenceHidden":{const i=await Ya(e,{...s,elementContext:"reference"}),o=gv(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:yv(o)}}}case"escaped":{const i=await Ya(e,{...s,altBoundary:!0}),o=gv(i,n.floating);return{data:{escapedOffsets:o,escaped:yv(o)}}}default:return{}}}}},u1=new Set(["left","top"]);async function _P(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Tr(n),l=Ro(n),u=Qn(n)==="y",c=u1.has(o)?-1:1,h=i&&u?-1:1,f=xr(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:S}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof S=="number"&&(m=l==="end"?S*-1:S),u?{x:m*h,y:p*c}:{x:p*c,y:m*h}}const EP=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,u=await _P(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},xP=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:v,y}=x;return{x:v,y}}},...u}=xr(t,e),c={x:n,y:r},h=await Ya(e,u),f=Qn(Tr(s)),p=hm(f);let m=c[p],S=c[f];if(i){const x=p==="y"?"top":"left",v=p==="y"?"bottom":"right",y=m+h[x],T=m-h[v];m=Df(y,m,T)}if(o){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=S+h[x],T=S-h[v];S=Df(y,S,T)}const w=l.fn({...e,[p]:m,[f]:S});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:i,[f]:o}}}}}},TP=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:u=!0,crossAxis:c=!0}=xr(t,e),h={x:n,y:r},f=Qn(s),p=hm(f);let m=h[p],S=h[f];const w=xr(l,e),x=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(u){const T=p==="y"?"height":"width",D=i.reference[p]-i.floating[T]+x.mainAxis,V=i.reference[p]+i.reference[T]-x.mainAxis;m<D?m=D:m>V&&(m=V)}if(c){var v,y;const T=p==="y"?"width":"height",D=u1.has(Tr(s)),V=i.reference[f]-i.floating[T]+(D&&((v=o.offset)==null?void 0:v[f])||0)+(D?0:x.crossAxis),L=i.reference[f]+i.reference[T]+(D?0:((y=o.offset)==null?void 0:y[f])||0)-(D?x.crossAxis:0);S<V?S=V:S>L&&(S=L)}return{[p]:m,[f]:S}}}},SP=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:u=()=>{},...c}=xr(t,e),h=await Ya(e,c),f=Tr(s),p=Ro(s),m=Qn(s)==="y",{width:S,height:w}=i.floating;let x,v;f==="top"||f==="bottom"?(x=f,v=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,x=p==="end"?"top":"bottom");const y=w-h.top-h.bottom,T=S-h.left-h.right,D=gs(w-h[x],y),V=gs(S-h[v],T),L=!e.middlewareData.shift;let C=D,_=V;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(_=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=y),L&&!p){const I=Xt(h.left,0),k=Xt(h.right,0),N=Xt(h.top,0),P=Xt(h.bottom,0);m?_=S-2*(I!==0||k!==0?I+k:Xt(h.left,h.right)):C=w-2*(N!==0||P!==0?N+P:Xt(h.top,h.bottom))}await u({...e,availableWidth:_,availableHeight:C});const b=await o.getDimensions(l.floating);return S!==b.width||w!==b.height?{reset:{rects:!0}}:{}}}};function td(){return typeof window<"u"}function ko(t){return c1(t)?(t.nodeName||"").toLowerCase():"#document"}function rn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function sr(t){var e;return(e=(c1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function c1(t){return td()?t instanceof Node||t instanceof rn(t).Node:!1}function On(t){return td()?t instanceof Element||t instanceof rn(t).Element:!1}function tr(t){return td()?t instanceof HTMLElement||t instanceof rn(t).HTMLElement:!1}function vv(t){return!td()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof rn(t).ShadowRoot}const CP=new Set(["inline","contents"]);function yl(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ln(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!CP.has(s)}const AP=new Set(["table","td","th"]);function bP(t){return AP.has(ko(t))}const IP=[":popover-open",":modal"];function nd(t){return IP.some(e=>{try{return t.matches(e)}catch{return!1}})}const PP=["transform","translate","scale","rotate","perspective"],RP=["transform","translate","scale","rotate","perspective","filter"],kP=["paint","layout","strict","content"];function mm(t){const e=gm(),n=On(t)?Ln(t):t;return PP.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||RP.some(r=>(n.willChange||"").includes(r))||kP.some(r=>(n.contain||"").includes(r))}function NP(t){let e=ys(t);for(;tr(e)&&!vo(e);){if(mm(e))return e;if(nd(e))return null;e=ys(e)}return null}function gm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const DP=new Set(["html","body","#document"]);function vo(t){return DP.has(ko(t))}function Ln(t){return rn(t).getComputedStyle(t)}function rd(t){return On(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ys(t){if(ko(t)==="html")return t;const e=t.assignedSlot||t.parentNode||vv(t)&&t.host||sr(t);return vv(e)?e.host:e}function d1(t){const e=ys(t);return vo(e)?t.ownerDocument?t.ownerDocument.body:t.body:tr(e)&&yl(e)?e:d1(e)}function Xa(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=d1(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=rn(s);if(i){const l=Of(o);return e.concat(o,o.visualViewport||[],yl(s)?s:[],l&&n?Xa(l):[])}return e.concat(s,Xa(s,[],n))}function Of(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function h1(t){const e=Ln(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=tr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=cc(n)!==i||cc(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function ym(t){return On(t)?t:t.contextElement}function Gi(t){const e=ym(t);if(!tr(e))return Yn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=h1(e);let o=(i?cc(n.width):n.width)/r,l=(i?cc(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const VP=Yn(0);function f1(t){const e=rn(t);return!gm()||!e.visualViewport?VP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function OP(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==rn(t)?!1:e}function ai(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=ym(t);let o=Yn(1);e&&(r?On(r)&&(o=Gi(r)):o=Gi(t));const l=OP(i,n,r)?f1(i):Yn(0);let u=(s.left+l.x)/o.x,c=(s.top+l.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const p=rn(i),m=r&&On(r)?rn(r):r;let S=p,w=Of(S);for(;w&&r&&m!==S;){const x=Gi(w),v=w.getBoundingClientRect(),y=Ln(w),T=v.left+(w.clientLeft+parseFloat(y.paddingLeft))*x.x,D=v.top+(w.clientTop+parseFloat(y.paddingTop))*x.y;u*=x.x,c*=x.y,h*=x.x,f*=x.y,u+=T,c+=D,S=rn(w),w=Of(S)}}return hc({width:h,height:f,x:u,y:c})}function vm(t,e){const n=rd(t).scrollLeft;return e?e.left+n:ai(sr(t)).left+n}function p1(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:vm(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function LP(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=sr(r),l=e?nd(e.floating):!1;if(r===o||l&&i)return n;let u={scrollLeft:0,scrollTop:0},c=Yn(1);const h=Yn(0),f=tr(r);if((f||!f&&!i)&&((ko(r)!=="body"||yl(o))&&(u=rd(r)),tr(r))){const m=ai(r);c=Gi(r),h.x=m.x+r.clientLeft,h.y=m.y+r.clientTop}const p=o&&!f&&!i?p1(o,u,!0):Yn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+h.x+p.x,y:n.y*c.y-u.scrollTop*c.y+h.y+p.y}}function MP(t){return Array.from(t.getClientRects())}function jP(t){const e=sr(t),n=rd(t),r=t.ownerDocument.body,s=Xt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Xt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+vm(t);const l=-n.scrollTop;return Ln(r).direction==="rtl"&&(o+=Xt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function FP(t,e){const n=rn(t),r=sr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,u=0;if(s){i=s.width,o=s.height;const c=gm();(!c||c&&e==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:l,y:u}}const UP=new Set(["absolute","fixed"]);function zP(t,e){const n=ai(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=tr(t)?Gi(t):Yn(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,u=s*i.x,c=r*i.y;return{width:o,height:l,x:u,y:c}}function wv(t,e,n){let r;if(e==="viewport")r=FP(t,n);else if(e==="document")r=jP(sr(t));else if(On(e))r=zP(e,n);else{const s=f1(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return hc(r)}function m1(t,e){const n=ys(t);return n===e||!On(n)||vo(n)?!1:Ln(n).position==="fixed"||m1(n,e)}function $P(t,e){const n=e.get(t);if(n)return n;let r=Xa(t,[],!1).filter(l=>On(l)&&ko(l)!=="body"),s=null;const i=Ln(t).position==="fixed";let o=i?ys(t):t;for(;On(o)&&!vo(o);){const l=Ln(o),u=mm(o);!u&&l.position==="fixed"&&(s=null),(i?!u&&!s:!u&&l.position==="static"&&!!s&&UP.has(s.position)||yl(o)&&!u&&m1(t,o))?r=r.filter(h=>h!==o):s=l,o=ys(o)}return e.set(t,r),r}function BP(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?nd(e)?[]:$P(e,this._c):[].concat(n),r],l=o[0],u=o.reduce((c,h)=>{const f=wv(e,h,s);return c.top=Xt(f.top,c.top),c.right=gs(f.right,c.right),c.bottom=gs(f.bottom,c.bottom),c.left=Xt(f.left,c.left),c},wv(e,l,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function HP(t){const{width:e,height:n}=h1(t);return{width:e,height:n}}function WP(t,e,n){const r=tr(e),s=sr(e),i=n==="fixed",o=ai(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const u=Yn(0);function c(){u.x=vm(s)}if(r||!r&&!i)if((ko(e)!=="body"||yl(s))&&(l=rd(e)),r){const m=ai(e,!0,i,e);u.x=m.x+e.clientLeft,u.y=m.y+e.clientTop}else s&&c();i&&!r&&s&&c();const h=s&&!r&&!i?p1(s,l):Yn(0),f=o.left+l.scrollLeft-u.x-h.x,p=o.top+l.scrollTop-u.y-h.y;return{x:f,y:p,width:o.width,height:o.height}}function _h(t){return Ln(t).position==="static"}function _v(t,e){if(!tr(t)||Ln(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return sr(t)===n&&(n=n.ownerDocument.body),n}function g1(t,e){const n=rn(t);if(nd(t))return n;if(!tr(t)){let s=ys(t);for(;s&&!vo(s);){if(On(s)&&!_h(s))return s;s=ys(s)}return n}let r=_v(t,e);for(;r&&bP(r)&&_h(r);)r=_v(r,e);return r&&vo(r)&&_h(r)&&!mm(r)?n:r||NP(t)||n}const qP=async function(t){const e=this.getOffsetParent||g1,n=this.getDimensions,r=await n(t.floating);return{reference:WP(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function QP(t){return Ln(t).direction==="rtl"}const KP={convertOffsetParentRelativeRectToViewportRelativeRect:LP,getDocumentElement:sr,getClippingRect:BP,getOffsetParent:g1,getElementRects:qP,getClientRects:MP,getDimensions:HP,getScale:Gi,isElement:On,isRTL:QP};function y1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function GP(t,e){let n=null,r;const s=sr(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const c=t.getBoundingClientRect(),{left:h,top:f,width:p,height:m}=c;if(l||e(),!p||!m)return;const S=lu(f),w=lu(s.clientWidth-(h+p)),x=lu(s.clientHeight-(f+m)),v=lu(h),T={rootMargin:-S+"px "+-w+"px "+-x+"px "+-v+"px",threshold:Xt(0,gs(1,u))||1};let D=!0;function V(L){const C=L[0].intersectionRatio;if(C!==u){if(!D)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!y1(c,t.getBoundingClientRect())&&o(),D=!1}try{n=new IntersectionObserver(V,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(V,T)}n.observe(t)}return o(!0),i}function YP(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=ym(t),h=s||i?[...c?Xa(c):[],...Xa(e)]:[];h.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const f=c&&l?GP(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=m)==null||T.observe(e)})),n()}),c&&!u&&m.observe(c),m.observe(e));let S,w=u?ai(t):null;u&&x();function x(){const v=ai(t);w&&!y1(w,v)&&n(),w=v,S=requestAnimationFrame(x)}return n(),()=>{var v;h.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(v=m)==null||v.disconnect(),m=null,u&&cancelAnimationFrame(S)}}const XP=EP,JP=xP,ZP=vP,eR=SP,tR=wP,Ev=yP,nR=TP,rR=(t,e,n)=>{const r=new Map,s={platform:KP,...n},i={...s.platform,_c:r};return gP(t,e,{...s,platform:i})};var sR=typeof document<"u",iR=function(){},ku=sR?R.useLayoutEffect:iR;function fc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!fc(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!fc(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function v1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function xv(t,e){const n=v1(t);return Math.round(e*n)/n}function Eh(t){const e=R.useRef(t);return ku(()=>{e.current=t}),e}function oR(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:u,open:c}=t,[h,f]=R.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=R.useState(r);fc(p,r)||m(r);const[S,w]=R.useState(null),[x,v]=R.useState(null),y=R.useCallback(j=>{j!==L.current&&(L.current=j,w(j))},[]),T=R.useCallback(j=>{j!==C.current&&(C.current=j,v(j))},[]),D=i||S,V=o||x,L=R.useRef(null),C=R.useRef(null),_=R.useRef(h),b=u!=null,I=Eh(u),k=Eh(s),N=Eh(c),P=R.useCallback(()=>{if(!L.current||!C.current)return;const j={placement:e,strategy:n,middleware:p};k.current&&(j.platform=k.current),rR(L.current,C.current,j).then(U=>{const W={...U,isPositioned:N.current!==!1};q.current&&!fc(_.current,W)&&(_.current=W,ml.flushSync(()=>{f(W)}))})},[p,e,n,k,N]);ku(()=>{c===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[c]);const q=R.useRef(!1);ku(()=>(q.current=!0,()=>{q.current=!1}),[]),ku(()=>{if(D&&(L.current=D),V&&(C.current=V),D&&V){if(I.current)return I.current(D,V,P);P()}},[D,V,P,I,b]);const ne=R.useMemo(()=>({reference:L,floating:C,setReference:y,setFloating:T}),[y,T]),re=R.useMemo(()=>({reference:D,floating:V}),[D,V]),$=R.useMemo(()=>{const j={position:n,left:0,top:0};if(!re.floating)return j;const U=xv(re.floating,h.x),W=xv(re.floating,h.y);return l?{...j,transform:"translate("+U+"px, "+W+"px)",...v1(re.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:W}},[n,l,re.floating,h.x,h.y]);return R.useMemo(()=>({...h,update:P,refs:ne,elements:re,floatingStyles:$}),[h,P,ne,re,$])}const aR=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Ev({element:r.current,padding:s}).fn(n):{}:r?Ev({element:r,padding:s}).fn(n):{}}}},lR=(t,e)=>({...XP(t),options:[t,e]}),uR=(t,e)=>({...JP(t),options:[t,e]}),cR=(t,e)=>({...nR(t),options:[t,e]}),dR=(t,e)=>({...ZP(t),options:[t,e]}),hR=(t,e)=>({...eR(t),options:[t,e]}),fR=(t,e)=>({...tR(t),options:[t,e]}),pR=(t,e)=>({...aR(t),options:[t,e]});var mR="Arrow",w1=R.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return E.jsx(Ot.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});w1.displayName=mR;var gR=w1;function yR(t){const[e,n]=R.useState(void 0);return ms(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const u=i.borderBoxSize,c=Array.isArray(u)?u[0]:u;o=c.inlineSize,l=c.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var _1="Popper",[E1,x1]=Yc(_1),[MO,T1]=E1(_1),S1="PopperAnchor",C1=R.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=T1(S1,n),o=R.useRef(null),l=Vn(e,o);return R.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:E.jsx(Ot.div,{...s,ref:l})});C1.displayName=S1;var wm="PopperContent",[vR,wR]=E1(wm),A1=R.forwardRef((t,e)=>{var pe,Ir,Mn,ln,Kt,jn;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:S,...w}=t,x=T1(wm,n),[v,y]=R.useState(null),T=Vn(e,un=>y(un)),[D,V]=R.useState(null),L=yR(D),C=(L==null?void 0:L.width)??0,_=(L==null?void 0:L.height)??0,b=r+(i!=="center"?"-"+i:""),I=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},k=Array.isArray(c)?c:[c],N=k.length>0,P={padding:I,boundary:k.filter(ER),altBoundary:N},{refs:q,floatingStyles:ne,placement:re,isPositioned:$,middlewareData:j}=oR({strategy:"fixed",placement:b,whileElementsMounted:(...un)=>YP(...un,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[lR({mainAxis:s+_,alignmentAxis:o}),u&&uR({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?cR():void 0,...P}),u&&dR({...P}),hR({...P,apply:({elements:un,rects:Pr,availableWidth:ks,availableHeight:Ns})=>{const{width:Fo,height:Ds}=Pr.reference,ir=un.floating.style;ir.setProperty("--radix-popper-available-width",`${ks}px`),ir.setProperty("--radix-popper-available-height",`${Ns}px`),ir.setProperty("--radix-popper-anchor-width",`${Fo}px`),ir.setProperty("--radix-popper-anchor-height",`${Ds}px`)}}),D&&pR({element:D,padding:l}),xR({arrowWidth:C,arrowHeight:_}),p&&fR({strategy:"referenceHidden",...P})]}),[U,W]=P1(re),ee=ps(S);ms(()=>{$&&(ee==null||ee())},[$,ee]);const X=(pe=j.arrow)==null?void 0:pe.x,Z=(Ir=j.arrow)==null?void 0:Ir.y,de=((Mn=j.arrow)==null?void 0:Mn.centerOffset)!==0,[be,tt]=R.useState();return ms(()=>{v&&tt(window.getComputedStyle(v).zIndex)},[v]),E.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:$?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(ln=j.transformOrigin)==null?void 0:ln.x,(Kt=j.transformOrigin)==null?void 0:Kt.y].join(" "),...((jn=j.hide)==null?void 0:jn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:E.jsx(vR,{scope:n,placedSide:U,onArrowChange:V,arrowX:X,arrowY:Z,shouldHideArrow:de,children:E.jsx(Ot.div,{"data-side":U,"data-align":W,...w,ref:T,style:{...w.style,animation:$?void 0:"none"}})})})});A1.displayName=wm;var b1="PopperArrow",_R={top:"bottom",right:"left",bottom:"top",left:"right"},I1=R.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=wR(b1,r),o=_R[i.placedSide];return E.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:E.jsx(gR,{...s,ref:n,style:{...s.style,display:"block"}})})});I1.displayName=b1;function ER(t){return t!==null}var xR=t=>({name:"transformOrigin",options:t,fn(e){var x,v,y;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[c,h]=P1(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,m=(((y=s.arrow)==null?void 0:y.y)??0)+u/2;let S="",w="";return c==="bottom"?(S=o?f:`${p}px`,w=`${-u}px`):c==="top"?(S=o?f:`${p}px`,w=`${r.floating.height+u}px`):c==="right"?(S=`${-u}px`,w=o?f:`${m}px`):c==="left"&&(S=`${r.floating.width+u}px`,w=o?f:`${m}px`),{data:{x:S,y:w}}}});function P1(t){const[e,n="center"]=t.split("-");return[e,n]}var TR=C1,SR=A1,CR=I1,[sd,jO]=Yc("Tooltip",[x1]),_m=x1(),R1="TooltipProvider",AR=700,Tv="tooltip.open",[bR,k1]=sd(R1),N1=t=>{const{__scopeTooltip:e,delayDuration:n=AR,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=R.useRef(!0),l=R.useRef(!1),u=R.useRef(0);return R.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),E.jsx(bR,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:R.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:R.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:R.useCallback(c=>{l.current=c},[]),disableHoverableContent:s,children:i})};N1.displayName=R1;var D1="Tooltip",[FO,id]=sd(D1),Lf="TooltipTrigger",IR=R.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=id(Lf,n),i=k1(Lf,n),o=_m(n),l=R.useRef(null),u=Vn(e,l,s.onTriggerChange),c=R.useRef(!1),h=R.useRef(!1),f=R.useCallback(()=>c.current=!1,[]);return R.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),E.jsx(TR,{asChild:!0,...o,children:E.jsx(Ot.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:Xe(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Xe(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Xe(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Xe(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Xe(t.onBlur,s.onClose),onClick:Xe(t.onClick,s.onClose)})})});IR.displayName=Lf;var PR="TooltipPortal",[UO,RR]=sd(PR,{forceMount:void 0}),wo="TooltipContent",V1=R.forwardRef((t,e)=>{const n=RR(wo,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=id(wo,t.__scopeTooltip);return E.jsx(am,{present:r||o.open,children:o.disableHoverableContent?E.jsx(O1,{side:s,...i,ref:e}):E.jsx(kR,{side:s,...i,ref:e})})}),kR=R.forwardRef((t,e)=>{const n=id(wo,t.__scopeTooltip),r=k1(wo,t.__scopeTooltip),s=R.useRef(null),i=Vn(e,s),[o,l]=R.useState(null),{trigger:u,onClose:c}=n,h=s.current,{onPointerInTransitChange:f}=r,p=R.useCallback(()=>{l(null),f(!1)},[f]),m=R.useCallback((S,w)=>{const x=S.currentTarget,v={x:S.clientX,y:S.clientY},y=LR(v,x.getBoundingClientRect()),T=MR(v,y),D=jR(w.getBoundingClientRect()),V=UR([...T,...D]);l(V),f(!0)},[f]);return R.useEffect(()=>()=>p(),[p]),R.useEffect(()=>{if(u&&h){const S=x=>m(x,h),w=x=>m(x,u);return u.addEventListener("pointerleave",S),h.addEventListener("pointerleave",w),()=>{u.removeEventListener("pointerleave",S),h.removeEventListener("pointerleave",w)}}},[u,h,m,p]),R.useEffect(()=>{if(o){const S=w=>{const x=w.target,v={x:w.clientX,y:w.clientY},y=(u==null?void 0:u.contains(x))||(h==null?void 0:h.contains(x)),T=!FR(v,o);y?p():T&&(p(),c())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[u,h,o,c,p]),E.jsx(O1,{...t,ref:i})}),[NR,DR]=sd(D1,{isInside:!1}),VR=WA("TooltipContent"),O1=R.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,u=id(wo,n),c=_m(n),{onClose:h}=u;return R.useEffect(()=>(document.addEventListener(Tv,h),()=>document.removeEventListener(Tv,h)),[h]),R.useEffect(()=>{if(u.trigger){const f=p=>{const m=p.target;m!=null&&m.contains(u.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[u.trigger,h]),E.jsx(om,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:E.jsxs(SR,{"data-state":u.stateAttribute,...c,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[E.jsx(VR,{children:r}),E.jsx(NR,{scope:n,isInside:!0,children:E.jsx(gb,{id:u.contentId,role:"tooltip",children:s||r})})]})})});V1.displayName=wo;var L1="TooltipArrow",OR=R.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=_m(n);return DR(L1,n).isInside?null:E.jsx(CR,{...s,...r,ref:e})});OR.displayName=L1;function LR(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function MR(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function jR(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function FR(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],u=e[o],c=l.x,h=l.y,f=u.x,p=u.y;h>r!=p>r&&n<(f-c)*(r-h)/(p-h)+c&&(s=!s)}return s}function UR(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),zR(e)}function zR(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var $R=N1,M1=V1;const BR=$R,HR=R.forwardRef(({className:t,sideOffset:e=4,...n},r)=>E.jsx(M1,{ref:r,sideOffset:e,className:ot("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));HR.displayName=M1.displayName;var od=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ad=typeof window>"u"||"Deno"in globalThis;function Cn(){}function WR(t,e){return typeof t=="function"?t(e):t}function qR(t){return typeof t=="number"&&t>=0&&t!==1/0}function QR(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Mf(t,e){return typeof t=="function"?t(e):t}function KR(t,e){return typeof t=="function"?t(e):t}function Sv(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==Em(o,e.options))return!1}else if(!Za(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function Cv(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ja(e.options.mutationKey)!==Ja(i))return!1}else if(!Za(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Em(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ja)(t)}function Ja(t){return JSON.stringify(t,(e,n)=>jf(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Za(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Za(t[n],e[n])):!1}function j1(t,e){if(t===e)return t;const n=Av(t)&&Av(e);if(n||jf(t)&&jf(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,l=n?[]:{},u=new Set(r);let c=0;for(let h=0;h<o;h++){const f=n?h:i[h];(!n&&u.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,c++):(l[f]=j1(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&c++)}return s===o&&c===s?t:l}return e}function Av(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function jf(t){if(!bv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!bv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function bv(t){return Object.prototype.toString.call(t)==="[object Object]"}function GR(t){return new Promise(e=>{setTimeout(e,t)})}function YR(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?j1(t,e):e}function XR(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function JR(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var xm=Symbol();function F1(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===xm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ks,Hr,no,Gw,ZR=(Gw=class extends od{constructor(){super();_e(this,Ks);_e(this,Hr);_e(this,no);le(this,no,e=>{if(!ad&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,Hr)||this.setEventListener(F(this,no))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Hr))==null||e.call(this),le(this,Hr,void 0))}setEventListener(e){var n;le(this,no,e),(n=F(this,Hr))==null||n.call(this),le(this,Hr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){F(this,Ks)!==e&&(le(this,Ks,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,Ks)=="boolean"?F(this,Ks):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ks=new WeakMap,Hr=new WeakMap,no=new WeakMap,Gw),U1=new ZR,ro,Wr,so,Yw,e2=(Yw=class extends od{constructor(){super();_e(this,ro,!0);_e(this,Wr);_e(this,so);le(this,so,e=>{if(!ad&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,Wr)||this.setEventListener(F(this,so))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Wr))==null||e.call(this),le(this,Wr,void 0))}setEventListener(e){var n;le(this,so,e),(n=F(this,Wr))==null||n.call(this),le(this,Wr,e(this.setOnline.bind(this)))}setOnline(e){F(this,ro)!==e&&(le(this,ro,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return F(this,ro)}},ro=new WeakMap,Wr=new WeakMap,so=new WeakMap,Yw),pc=new e2;function t2(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function n2(t){return Math.min(1e3*2**t,3e4)}function z1(t){return(t??"online")==="online"?pc.isOnline():!0}var $1=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function xh(t){return t instanceof $1}function B1(t){let e=!1,n=0,r=!1,s;const i=t2(),o=w=>{var x;r||(p(new $1(w)),(x=t.abort)==null||x.call(t))},l=()=>{e=!0},u=()=>{e=!1},c=()=>U1.isFocused()&&(t.networkMode==="always"||pc.isOnline())&&t.canRun(),h=()=>z1(t.networkMode)&&t.canRun(),f=w=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,w),s==null||s(),i.resolve(w))},p=w=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,w),s==null||s(),i.reject(w))},m=()=>new Promise(w=>{var x;s=v=>{(r||c())&&w(v)},(x=t.onPause)==null||x.call(t)}).then(()=>{var w;s=void 0,r||(w=t.onContinue)==null||w.call(t)}),S=()=>{if(r)return;let w;const x=n===0?t.initialPromise:void 0;try{w=x??t.fn()}catch(v){w=Promise.reject(v)}Promise.resolve(w).then(f).catch(v=>{var L;if(r)return;const y=t.retry??(ad?0:3),T=t.retryDelay??n2,D=typeof T=="function"?T(n,v):T,V=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(e||!V){p(v);return}n++,(L=t.onFail)==null||L.call(t,n,v),GR(D).then(()=>c()?void 0:m()).then(()=>{e?p(v):S()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:u,canStart:h,start:()=>(h()?S():m().then(S),i)}}var r2=t=>setTimeout(t,0);function s2(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=r2;const i=l=>{e?t.push(l):s(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||o()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Rt=s2(),Gs,Xw,H1=(Xw=class{constructor(){_e(this,Gs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),qR(this.gcTime)&&le(this,Gs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ad?1/0:5*60*1e3))}clearGcTimeout(){F(this,Gs)&&(clearTimeout(F(this,Gs)),le(this,Gs,void 0))}},Gs=new WeakMap,Xw),io,Ys,dn,Xs,Tt,ll,Js,An,dr,Jw,i2=(Jw=class extends H1{constructor(n){super();_e(this,An);_e(this,io);_e(this,Ys);_e(this,dn);_e(this,Xs);_e(this,Tt);_e(this,ll);_e(this,Js);le(this,Js,!1),le(this,ll,n.defaultOptions),this.setOptions(n.options),this.observers=[],le(this,Xs,n.client),le(this,dn,F(this,Xs).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,le(this,io,a2(this.options)),this.state=n.state??F(this,io),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=F(this,Tt))==null?void 0:n.promise}setOptions(n){this.options={...F(this,ll),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,dn).remove(this)}setData(n,r){const s=YR(this.state.data,n,this.options);return wt(this,An,dr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){wt(this,An,dr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=F(this,Tt))==null?void 0:s.promise;return(i=F(this,Tt))==null||i.cancel(n),r?r.then(Cn).catch(Cn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,io))}isActive(){return this.observers.some(n=>KR(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Mf(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!QR(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,Tt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,Tt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),F(this,dn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(F(this,Tt)&&(F(this,Js)?F(this,Tt).cancel({revert:!0}):F(this,Tt).cancelRetry()),this.scheduleGc()),F(this,dn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||wt(this,An,dr).call(this,{type:"invalidate"})}fetch(n,r){var h,f,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,Tt))return F(this,Tt).continueRetry(),F(this,Tt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(S=>S.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(le(this,Js,!0),s.signal)})},o=()=>{const m=F1(this.options,r),w=(()=>{const x={client:F(this,Xs),queryKey:this.queryKey,meta:this.meta};return i(x),x})();return le(this,Js,!1),this.options.persister?this.options.persister(m,w,this):m(w)},u=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,Xs),state:this.state,fetchFn:o};return i(m),m})();(h=this.options.behavior)==null||h.onFetch(u,this),le(this,Ys,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=u.fetchOptions)==null?void 0:f.meta))&&wt(this,An,dr).call(this,{type:"fetch",meta:(p=u.fetchOptions)==null?void 0:p.meta});const c=m=>{var S,w,x,v;xh(m)&&m.silent||wt(this,An,dr).call(this,{type:"error",error:m}),xh(m)||((w=(S=F(this,dn).config).onError)==null||w.call(S,m,this),(v=(x=F(this,dn).config).onSettled)==null||v.call(x,this.state.data,m,this)),this.scheduleGc()};return le(this,Tt,B1({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var S,w,x,v;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(y){c(y);return}(w=(S=F(this,dn).config).onSuccess)==null||w.call(S,m,this),(v=(x=F(this,dn).config).onSettled)==null||v.call(x,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,S)=>{wt(this,An,dr).call(this,{type:"failed",failureCount:m,error:S})},onPause:()=>{wt(this,An,dr).call(this,{type:"pause"})},onContinue:()=>{wt(this,An,dr).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),F(this,Tt).start()}},io=new WeakMap,Ys=new WeakMap,dn=new WeakMap,Xs=new WeakMap,Tt=new WeakMap,ll=new WeakMap,Js=new WeakMap,An=new WeakSet,dr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...o2(s.data,this.options),fetchMeta:n.meta??null};case"success":return le(this,Ys,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return xh(i)&&i.revert&&F(this,Ys)?{...F(this,Ys),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Rt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),F(this,dn).notify({query:this,type:"updated",action:n})})},Jw);function o2(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:z1(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function a2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Bn,Zw,l2=(Zw=class extends od{constructor(e={}){super();_e(this,Bn);this.config=e,le(this,Bn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Em(s,n);let o=this.get(i);return o||(o=new i2({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){F(this,Bn).has(e.queryHash)||(F(this,Bn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,Bn).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,Bn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Rt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,Bn).get(e)}getAll(){return[...F(this,Bn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Sv(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Sv(e,r)):n}notify(e){Rt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Rt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Rt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Bn=new WeakMap,Zw),Hn,It,Zs,Wn,Fr,e0,u2=(e0=class extends H1{constructor(n){super();_e(this,Wn);_e(this,Hn);_e(this,It);_e(this,Zs);this.mutationId=n.mutationId,le(this,It,n.mutationCache),le(this,Hn,[]),this.state=n.state||c2(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){F(this,Hn).includes(n)||(F(this,Hn).push(n),this.clearGcTimeout(),F(this,It).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){le(this,Hn,F(this,Hn).filter(r=>r!==n)),this.scheduleGc(),F(this,It).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){F(this,Hn).length||(this.state.status==="pending"?this.scheduleGc():F(this,It).remove(this))}continue(){var n;return((n=F(this,Zs))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,l,u,c,h,f,p,m,S,w,x,v,y,T,D,V,L,C,_,b;const r=()=>{wt(this,Wn,Fr).call(this,{type:"continue"})};le(this,Zs,B1({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(I,k)=>{wt(this,Wn,Fr).call(this,{type:"failed",failureCount:I,error:k})},onPause:()=>{wt(this,Wn,Fr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,It).canRun(this)}));const s=this.state.status==="pending",i=!F(this,Zs).canStart();try{if(s)r();else{wt(this,Wn,Fr).call(this,{type:"pending",variables:n,isPaused:i}),await((l=(o=F(this,It).config).onMutate)==null?void 0:l.call(o,n,this));const k=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,n));k!==this.state.context&&wt(this,Wn,Fr).call(this,{type:"pending",context:k,variables:n,isPaused:i})}const I=await F(this,Zs).start();return await((f=(h=F(this,It).config).onSuccess)==null?void 0:f.call(h,I,n,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,I,n,this.state.context)),await((w=(S=F(this,It).config).onSettled)==null?void 0:w.call(S,I,null,this.state.variables,this.state.context,this)),await((v=(x=this.options).onSettled)==null?void 0:v.call(x,I,null,n,this.state.context)),wt(this,Wn,Fr).call(this,{type:"success",data:I}),I}catch(I){try{throw await((T=(y=F(this,It).config).onError)==null?void 0:T.call(y,I,n,this.state.context,this)),await((V=(D=this.options).onError)==null?void 0:V.call(D,I,n,this.state.context)),await((C=(L=F(this,It).config).onSettled)==null?void 0:C.call(L,void 0,I,this.state.variables,this.state.context,this)),await((b=(_=this.options).onSettled)==null?void 0:b.call(_,void 0,I,n,this.state.context)),I}finally{wt(this,Wn,Fr).call(this,{type:"error",error:I})}}finally{F(this,It).runNext(this)}}},Hn=new WeakMap,It=new WeakMap,Zs=new WeakMap,Wn=new WeakSet,Fr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Rt.batch(()=>{F(this,Hn).forEach(s=>{s.onMutationUpdate(n)}),F(this,It).notify({mutation:this,type:"updated",action:n})})},e0);function c2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pr,bn,ul,t0,d2=(t0=class extends od{constructor(e={}){super();_e(this,pr);_e(this,bn);_e(this,ul);this.config=e,le(this,pr,new Set),le(this,bn,new Map),le(this,ul,0)}build(e,n,r){const s=new u2({mutationCache:this,mutationId:++zl(this,ul)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){F(this,pr).add(e);const n=uu(e);if(typeof n=="string"){const r=F(this,bn).get(n);r?r.push(e):F(this,bn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(F(this,pr).delete(e)){const n=uu(e);if(typeof n=="string"){const r=F(this,bn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&F(this,bn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=uu(e);if(typeof n=="string"){const r=F(this,bn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=uu(e);if(typeof n=="string"){const s=(r=F(this,bn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Rt.batch(()=>{F(this,pr).forEach(e=>{this.notify({type:"removed",mutation:e})}),F(this,pr).clear(),F(this,bn).clear()})}getAll(){return Array.from(F(this,pr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Cv(n,r))}findAll(e={}){return this.getAll().filter(n=>Cv(e,n))}notify(e){Rt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Rt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Cn))))}},pr=new WeakMap,bn=new WeakMap,ul=new WeakMap,t0);function uu(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Iv(t){return{onFetch:(e,n)=>{var h,f,p,m,S;const r=e.options,s=(p=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((S=e.state.data)==null?void 0:S.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const c=async()=>{let w=!1;const x=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},v=F1(e.options,e.fetchOptions),y=async(T,D,V)=>{if(w)return Promise.reject();if(D==null&&T.pages.length)return Promise.resolve(T);const C=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:D,direction:V?"backward":"forward",meta:e.options.meta};return x(k),k})(),_=await v(C),{maxPages:b}=e.options,I=V?JR:XR;return{pages:I(T.pages,_,b),pageParams:I(T.pageParams,D,b)}};if(s&&i.length){const T=s==="backward",D=T?h2:Pv,V={pages:i,pageParams:o},L=D(r,V);l=await y(V,L,T)}else{const T=t??i.length;do{const D=u===0?o[0]??r.initialPageParam:Pv(r,l);if(u>0&&D==null)break;l=await y(l,D),u++}while(u<T)}return l};e.options.persister?e.fetchFn=()=>{var w,x;return(x=(w=e.options).persister)==null?void 0:x.call(w,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function Pv(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function h2(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Be,qr,Qr,oo,ao,Kr,lo,uo,n0,f2=(n0=class{constructor(t={}){_e(this,Be);_e(this,qr);_e(this,Qr);_e(this,oo);_e(this,ao);_e(this,Kr);_e(this,lo);_e(this,uo);le(this,Be,t.queryCache||new l2),le(this,qr,t.mutationCache||new d2),le(this,Qr,t.defaultOptions||{}),le(this,oo,new Map),le(this,ao,new Map),le(this,Kr,0)}mount(){zl(this,Kr)._++,F(this,Kr)===1&&(le(this,lo,U1.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Be).onFocus())})),le(this,uo,pc.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Be).onOnline())})))}unmount(){var t,e;zl(this,Kr)._--,F(this,Kr)===0&&((t=F(this,lo))==null||t.call(this),le(this,lo,void 0),(e=F(this,uo))==null||e.call(this),le(this,uo,void 0))}isFetching(t){return F(this,Be).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,qr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,Be).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=F(this,Be).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Mf(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return F(this,Be).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=F(this,Be).get(r.queryHash),i=s==null?void 0:s.state.data,o=WR(e,i);if(o!==void 0)return F(this,Be).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Rt.batch(()=>F(this,Be).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,Be).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,Be);Rt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,Be);return Rt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Rt.batch(()=>F(this,Be).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Cn).catch(Cn)}invalidateQueries(t,e={}){return Rt.batch(()=>(F(this,Be).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Rt.batch(()=>F(this,Be).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Cn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Cn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,Be).build(this,e);return n.isStaleByTime(Mf(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Cn).catch(Cn)}fetchInfiniteQuery(t){return t.behavior=Iv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Cn).catch(Cn)}ensureInfiniteQueryData(t){return t.behavior=Iv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return pc.isOnline()?F(this,qr).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,Be)}getMutationCache(){return F(this,qr)}getDefaultOptions(){return F(this,Qr)}setDefaultOptions(t){le(this,Qr,t)}setQueryDefaults(t,e){F(this,oo).set(Ja(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,oo).values()],n={};return e.forEach(r=>{Za(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){F(this,ao).set(Ja(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,ao).values()],n={};return e.forEach(r=>{Za(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,Qr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Em(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===xm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,Qr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,Be).clear(),F(this,qr).clear()}},Be=new WeakMap,qr=new WeakMap,Qr=new WeakMap,oo=new WeakMap,ao=new WeakMap,Kr=new WeakMap,lo=new WeakMap,uo=new WeakMap,n0),p2=R.createContext(void 0),m2=({client:t,children:e})=>(R.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),E.jsx(p2.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(this,arguments)}var Xr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xr||(Xr={}));const Rv="popstate";function g2(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return Ff("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:q1(s)}return v2(e,n,null,t)}function Qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function W1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function y2(){return Math.random().toString(36).substr(2,8)}function kv(t,e){return{usr:t.state,key:t.key,idx:e}}function Ff(t,e,n,r){return n===void 0&&(n=null),mc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ld(e):e,{state:n,key:e&&e.key||r||y2()})}function q1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ld(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function v2(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Xr.Pop,u=null,c=h();c==null&&(c=0,o.replaceState(mc({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=Xr.Pop;let x=h(),v=x==null?null:x-c;c=x,u&&u({action:l,location:w.location,delta:v})}function p(x,v){l=Xr.Push;let y=Ff(w.location,x,v);c=h()+1;let T=kv(y,c),D=w.createHref(y);try{o.pushState(T,"",D)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(D)}i&&u&&u({action:l,location:w.location,delta:1})}function m(x,v){l=Xr.Replace;let y=Ff(w.location,x,v);c=h();let T=kv(y,c),D=w.createHref(y);o.replaceState(T,"",D),i&&u&&u({action:l,location:w.location,delta:0})}function S(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:q1(x);return y=y.replace(/ $/,"%20"),Qt(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let w={get action(){return l},get location(){return t(s,o)},listen(x){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Rv,f),u=x,()=>{s.removeEventListener(Rv,f),u=null}},createHref(x){return e(s,x)},createURL:S,encodeLocation(x){let v=S(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:m,go(x){return o.go(x)}};return w}var Nv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Nv||(Nv={}));function w2(t,e,n){return n===void 0&&(n="/"),_2(t,e,n)}function _2(t,e,n,r){let s=typeof e=="string"?ld(e):e,i=G1(s.pathname||"/",n);if(i==null)return null;let o=Q1(t);E2(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=D2(i);l=R2(o[u],c)}return l}function Q1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(Qt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Yi([r,u.relativePath]),h=n.concat(u);i.children&&i.children.length>0&&(Qt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Q1(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:I2(c,i.index),routesMeta:h})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let u of K1(i.path))s(i,o,u)}),e}function K1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=K1(r.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function E2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:P2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const x2=/^:[\w-]+$/,T2=3,S2=2,C2=1,A2=10,b2=-2,Dv=t=>t==="*";function I2(t,e){let n=t.split("/"),r=n.length;return n.some(Dv)&&(r+=b2),e&&(r+=S2),n.filter(s=>!Dv(s)).reduce((s,i)=>s+(x2.test(i)?T2:i===""?C2:A2),r)}function P2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function R2(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=k2({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),p=u.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Yi([i,f.pathname]),pathnameBase:V2(Yi([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Yi([i,f.pathnameBase]))}return o}function k2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=N2(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:p,isOptional:m}=h;if(p==="*"){let w=l[f]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const S=l[f];return m&&!S?c[p]=void 0:c[p]=(S||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function N2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),W1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function D2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return W1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function G1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Yi=t=>t.join("/").replace(/\/\/+/g,"/"),V2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function O2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Y1=["post","put","patch","delete"];new Set(Y1);const L2=["get",...Y1];new Set(L2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(this,arguments)}const M2=R.createContext(null),j2=R.createContext(null),X1=R.createContext(null),ud=R.createContext(null),cd=R.createContext({outlet:null,matches:[],isDataRoute:!1}),J1=R.createContext(null);function Tm(){return R.useContext(ud)!=null}function Z1(){return Tm()||Qt(!1),R.useContext(ud).location}function F2(t,e){return U2(t,e)}function U2(t,e,n,r){Tm()||Qt(!1);let{navigator:s}=R.useContext(X1),{matches:i}=R.useContext(cd),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Z1(),h;if(e){var f;let x=typeof e=="string"?ld(e):e;u==="/"||(f=x.pathname)!=null&&f.startsWith(u)||Qt(!1),h=x}else h=c;let p=h.pathname||"/",m=p;if(u!=="/"){let x=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let S=w2(t,{pathname:m}),w=W2(S&&S.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Yi([u,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Yi([u,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&w?R.createElement(ud.Provider,{value:{location:gc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Xr.Pop}},w):w}function z2(){let t=G2(),e=O2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:s},n):null,null)}const $2=R.createElement(z2,null);class B2 extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(cd.Provider,{value:this.props.routeContext},R.createElement(J1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function H2(t){let{routeContext:e,match:n,children:r}=t,s=R.useContext(M2);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(cd.Provider,{value:e},r)}function W2(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||Qt(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:m}=n,S=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||S){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let m,S=!1,w=null,x=null;n&&(m=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||$2,u&&(c<0&&p===0?(Y2("route-fallback"),S=!0,x=null):c===p&&(S=!0,x=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,p+1)),y=()=>{let T;return m?T=w:S?T=x:f.route.Component?T=R.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=h,R.createElement(H2,{match:f,routeContext:{outlet:h,matches:v,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?R.createElement(B2,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var ex=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ex||{});function q2(t){let e=R.useContext(j2);return e||Qt(!1),e}function Q2(t){let e=R.useContext(cd);return e||Qt(!1),e}function K2(t){let e=Q2(),n=e.matches[e.matches.length-1];return n.route.id||Qt(!1),n.route.id}function G2(){var t;let e=R.useContext(J1),n=q2(ex.UseRouteError),r=K2();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}const Vv={};function Y2(t,e,n){Vv[t]||(Vv[t]=!0)}function X2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Uf(t){Qt(!1)}function J2(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Xr.Pop,navigator:i,static:o=!1,future:l}=t;Tm()&&Qt(!1);let u=e.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:u,navigator:i,static:o,future:gc({v7_relativeSplatPath:!1},l)}),[u,l,i,o]);typeof r=="string"&&(r=ld(r));let{pathname:h="/",search:f="",hash:p="",state:m=null,key:S="default"}=r,w=R.useMemo(()=>{let x=G1(h,u);return x==null?null:{location:{pathname:x,search:f,hash:p,state:m,key:S},navigationType:s}},[u,h,f,p,m,S,s]);return w==null?null:R.createElement(X1.Provider,{value:c},R.createElement(ud.Provider,{children:n,value:w}))}function Z2(t){let{children:e,location:n}=t;return F2(zf(e),n)}new Promise(()=>{});function zf(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(r,s)=>{if(!R.isValidElement(r))return;let i=[...e,s];if(r.type===R.Fragment){n.push.apply(n,zf(r.props.children,i));return}r.type!==Uf&&Qt(!1),!r.props.index||!r.props.children||Qt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=zf(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const ek="6";try{window.__reactRouterVersion=ek}catch{}const tk="startTransition",Ov=p0[tk];function nk(t){let{basename:e,children:n,future:r,window:s}=t,i=R.useRef();i.current==null&&(i.current=g2({window:s,v5Compat:!0}));let o=i.current,[l,u]=R.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=R.useCallback(f=>{c&&Ov?Ov(()=>u(f)):u(f)},[u,c]);return R.useLayoutEffect(()=>o.listen(h),[o,h]),R.useEffect(()=>X2(r),[r]),R.createElement(J2,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var Lv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Lv||(Lv={}));var Mv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Mv||(Mv={}));const rk=Zc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-elegant transition-smooth",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-gradient-primary text-primary-foreground hover:shadow-glow transition-smooth border-0",accent:"bg-accent text-accent-foreground hover:bg-accent/90 shadow-elegant transition-smooth"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ee=R.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?BA:"button";return E.jsx(o,{className:ot(rk({variant:e,size:n,className:t})),ref:i,...s})});Ee.displayName="Button";const Jt=R.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:ot("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Jt.displayName="Card";const No=R.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:ot("flex flex-col space-y-1.5 p-6",t),...e}));No.displayName="CardHeader";const Do=R.forwardRef(({className:t,...e},n)=>E.jsx("h3",{ref:n,className:ot("text-2xl font-semibold leading-none tracking-tight",t),...e}));Do.displayName="CardTitle";const sk=R.forwardRef(({className:t,...e},n)=>E.jsx("p",{ref:n,className:ot("text-sm text-muted-foreground",t),...e}));sk.displayName="CardDescription";const Zt=R.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:ot("p-6 pt-0",t),...e}));Zt.displayName="CardContent";const ik=R.forwardRef(({className:t,...e},n)=>E.jsx("div",{ref:n,className:ot("flex items-center p-6 pt-0",t),...e}));ik.displayName="CardFooter";const ok=Zc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ca({className:t,variant:e,...n}){return E.jsx("div",{className:ot(ok({variant:e}),t),...n})}/*! Capacitor: https://capacitorjs.com/ - MIT License */var _o;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(_o||(_o={}));class Xi extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const ak=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},lk=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},r=n.Plugins=n.Plugins||{},s=()=>e!==null?e.name:ak(t),i=()=>s()!=="web",o=f=>{const p=c.get(f);return!!(p!=null&&p.platforms.has(s())||l(f))},l=f=>{var p;return(p=n.PluginHeaders)===null||p===void 0?void 0:p.find(m=>m.name===f)},u=f=>t.console.error(f),c=new Map,h=(f,p={})=>{const m=c.get(f);if(m)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),m.proxy;const S=s(),w=l(f);let x;const v=async()=>(!x&&S in p?x=typeof p[S]=="function"?x=await p[S]():x=p[S]:e!==null&&!x&&"web"in p&&(x=typeof p.web=="function"?x=await p.web():x=p.web),x),y=(_,b)=>{var I,k;if(w){const N=w==null?void 0:w.methods.find(P=>b===P.name);if(N)return N.rtype==="promise"?P=>n.nativePromise(f,b.toString(),P):(P,q)=>n.nativeCallback(f,b.toString(),P,q);if(_)return(I=_[b])===null||I===void 0?void 0:I.bind(_)}else{if(_)return(k=_[b])===null||k===void 0?void 0:k.bind(_);throw new Xi(`"${f}" plugin is not implemented on ${S}`,_o.Unimplemented)}},T=_=>{let b;const I=(...k)=>{const N=v().then(P=>{const q=y(P,_);if(q){const ne=q(...k);return b=ne==null?void 0:ne.remove,ne}else throw new Xi(`"${f}.${_}()" is not implemented on ${S}`,_o.Unimplemented)});return _==="addListener"&&(N.remove=async()=>b()),N};return I.toString=()=>`${_.toString()}() { [capacitor code] }`,Object.defineProperty(I,"name",{value:_,writable:!1,configurable:!1}),I},D=T("addListener"),V=T("removeListener"),L=(_,b)=>{const I=D({eventName:_},b),k=async()=>{const P=await I;V({eventName:_,callbackId:P},b)},N=new Promise(P=>I.then(()=>P({remove:k})));return N.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await k()},N},C=new Proxy({},{get(_,b){switch(b){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return w?L:D;case"removeListener":return V;default:return T(b)}}});return r[f]=C,c.set(f,{name:f,proxy:C,platforms:new Set([...Object.keys(p),...w?[S]:[]])}),C};return n.convertFileSrc||(n.convertFileSrc=f=>f),n.getPlatform=s,n.handleError=u,n.isNativePlatform=i,n.isPluginAvailable=o,n.registerPlugin=h,n.Exception=Xi,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},uk=t=>t.Capacitor=lk(t),$f=uk(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Sm=$f.registerPlugin;class Cm{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const s=this.listeners[e];if(!s){if(r){let i=this.retainedEventArguments[e];i||(i=[]),i.push(n),this.retainedEventArguments[e]=i}return}s.forEach(i=>i(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new $f.Exception(e,_o.Unimplemented)}unavailable(e="not available"){return new $f.Exception(e,_o.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const s=r.indexOf(n);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const jv=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Fv=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class ck extends Cm{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[s,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Fv(s).trim(),i=Fv(i).trim(),n[s]=i}),n}async setCookie(e){try{const n=jv(e.key),r=jv(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${i}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Sm("CapacitorCookies",{web:()=>new ck});const dk=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(t)}),hk=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,i,o)=>(s[i]=t[e[o]],s),{})},fk=(t,e=!0)=>t?Object.entries(t).reduce((r,s)=>{const[i,o]=s;let l,u;return Array.isArray(o)?(u="",o.forEach(c=>{l=e?encodeURIComponent(c):c,u+=`${i}=${l}&`}),u.slice(0,-1)):(l=e?encodeURIComponent(o):o,u=`${i}=${l}`),`${r}&${u}`},"").substr(1):null,pk=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),s=hk(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,l]of Object.entries(t.data||{}))i.set(o,l);n.body=i.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((l,u)=>{i.append(u,l)});else for(const l of Object.keys(t.data))i.append(l,t.data[l]);n.body=i;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(s.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class mk extends Cm{async request(e){const n=pk(e,e.webFetchExtra),r=fk(e.params,e.shouldEncodeUrlParams),s=r?`${e.url}?${r}`:e.url,i=await fetch(s,n),o=i.headers.get("content-type")||"";let{responseType:l="text"}=i.ok?e:{};o.includes("application/json")&&(l="json");let u,c;switch(l){case"arraybuffer":case"blob":c=await i.blob(),u=await dk(c);break;case"json":u=await i.json();break;case"document":case"text":default:u=await i.text()}const h={};return i.headers.forEach((f,p)=>{h[p]=f}),{data:u,headers:h,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Sm("CapacitorHttp",{web:()=>new mk});var qs;(function(t){t.Prompt="PROMPT",t.Camera="CAMERA",t.Photos="PHOTOS"})(qs||(qs={}));var Aa;(function(t){t.Rear="REAR",t.Front="FRONT"})(Aa||(Aa={}));var Bf;(function(t){t.Uri="uri",t.Base64="base64",t.DataUrl="dataUrl"})(Bf||(Bf={}));class gk extends Cm{async getPhoto(e){return new Promise(async(n,r)=>{if(e.webUseInput||e.source===qs.Photos)this.fileInputExperience(e,n,r);else if(e.source===qs.Prompt){let s=document.querySelector("pwa-action-sheet");s||(s=document.createElement("pwa-action-sheet"),document.body.appendChild(s)),s.header=e.promptLabelHeader||"Photo",s.cancelable=!1,s.options=[{title:e.promptLabelPhoto||"From Photos"},{title:e.promptLabelPicture||"Take Picture"}],s.addEventListener("onSelection",async i=>{i.detail===0?this.fileInputExperience(e,n,r):this.cameraExperience(e,n,r)})}else this.cameraExperience(e,n,r)})}async pickImages(e){return new Promise(async(n,r)=>{this.multipleFileInputExperience(n,r)})}async cameraExperience(e,n,r){if(customElements.get("pwa-camera-modal")){const s=document.createElement("pwa-camera-modal");s.facingMode=e.direction===Aa.Front?"user":"environment",document.body.appendChild(s);try{await s.componentOnReady(),s.addEventListener("onPhoto",async i=>{const o=i.detail;o===null?r(new Xi("User cancelled photos app")):o instanceof Error?r(o):n(await this._getCameraPhoto(o,e)),s.dismiss(),document.body.removeChild(s)}),s.present()}catch{this.fileInputExperience(e,n,r)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(e,n,r)}fileInputExperience(e,n,r){let s=document.querySelector("#_capacitor-camera-input");const i=()=>{var o;(o=s.parentNode)===null||o===void 0||o.removeChild(s)};s||(s=document.createElement("input"),s.id="_capacitor-camera-input",s.type="file",s.hidden=!0,document.body.appendChild(s),s.addEventListener("change",o=>{const l=s.files[0];let u="jpeg";if(l.type==="image/png"?u="png":l.type==="image/gif"&&(u="gif"),e.resultType==="dataUrl"||e.resultType==="base64"){const c=new FileReader;c.addEventListener("load",()=>{if(e.resultType==="dataUrl")n({dataUrl:c.result,format:u});else if(e.resultType==="base64"){const h=c.result.split(",")[1];n({base64String:h,format:u})}i()}),c.readAsDataURL(l)}else n({webPath:URL.createObjectURL(l),format:u}),i()}),s.addEventListener("cancel",o=>{r(new Xi("User cancelled photos app")),i()})),s.accept="image/*",s.capture=!0,e.source===qs.Photos||e.source===qs.Prompt?s.removeAttribute("capture"):e.direction===Aa.Front?s.capture="user":e.direction===Aa.Rear&&(s.capture="environment"),s.click()}multipleFileInputExperience(e,n){let r=document.querySelector("#_capacitor-camera-input-multiple");const s=()=>{var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)};r||(r=document.createElement("input"),r.id="_capacitor-camera-input-multiple",r.type="file",r.hidden=!0,r.multiple=!0,document.body.appendChild(r),r.addEventListener("change",i=>{const o=[];for(let l=0;l<r.files.length;l++){const u=r.files[l];let c="jpeg";u.type==="image/png"?c="png":u.type==="image/gif"&&(c="gif"),o.push({webPath:URL.createObjectURL(u),format:c})}e({photos:o}),s()}),r.addEventListener("cancel",i=>{n(new Xi("User cancelled photos app")),s()})),r.accept="image/*",r.click()}_getCameraPhoto(e,n){return new Promise((r,s)=>{const i=new FileReader,o=e.type.split("/")[1];n.resultType==="uri"?r({webPath:URL.createObjectURL(e),format:o,saved:!1}):(i.readAsDataURL(e),i.onloadend=()=>{const l=i.result;n.resultType==="dataUrl"?r({dataUrl:l,format:o,saved:!1}):r({base64String:l.split(",")[1],format:o,saved:!1})},i.onerror=l=>{s(l)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}const yk=Sm("Camera",{web:()=>new gk}),ht=R.forwardRef(({className:t,type:e,...n},r)=>E.jsx("input",{type:e,className:ot("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ht.displayName="Input";var vk="Label",tx=R.forwardRef((t,e)=>E.jsx(Ot.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));tx.displayName=vk;var nx=tx;const wk=Zc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),kt=R.forwardRef(({className:t,...e},n)=>E.jsx(nx,{ref:n,className:ot(wk(),t),...e}));kt.displayName=nx.displayName;const _k=({book:t,onSubmit:e,onCancel:n})=>{const[r,s]=R.useState((t==null?void 0:t.title)||""),[i,o]=R.useState((t==null?void 0:t.authors)||[""]),[l,u]=R.useState((t==null?void 0:t.publisher)||""),[c,h]=R.useState((t==null?void 0:t.publishYear)||new Date().getFullYear()),[f,p]=R.useState((t==null?void 0:t.quantity)||1),[m,S]=R.useState((t==null?void 0:t.coverImage)||""),[w,x]=R.useState(!1),{toast:v}=Gc(),y=async()=>{try{x(!0);const C=await yk.getPhoto({quality:90,allowEditing:!1,resultType:Bf.DataUrl,source:qs.Camera});S(C.dataUrl||""),v({title:"",description:"    "})}catch(C){console.error("Error taking picture:",C),v({title:"",description:"     ",variant:"destructive"})}finally{x(!1)}},T=()=>{o([...i,""])},D=C=>{i.length>1&&o(i.filter((_,b)=>b!==C))},V=(C,_)=>{const b=[...i];b[C]=_,o(b)},L=C=>{if(C.preventDefault(),!r.trim()){v({title:"",description:"   ",variant:"destructive"});return}const _=i.filter(b=>b.trim());if(_.length===0){v({title:"",description:"    ",variant:"destructive"});return}e({title:r.trim(),authors:_,publisher:l.trim(),publishYear:c,quantity:f,coverImage:m}),v({title:"",description:t?"  ":"  "})};return E.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:E.jsxs(Jt,{className:"w-full max-w-md max-h-[90vh] overflow-y-auto",children:[E.jsx(No,{children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx(Do,{children:t?" ":"  "}),E.jsx(Ee,{variant:"ghost",size:"icon",onClick:n,children:E.jsx(Ga,{className:"h-4 w-4"})})]})}),E.jsx(Zt,{children:E.jsxs("form",{onSubmit:L,className:"space-y-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(kt,{children:" "}),m?E.jsxs("div",{className:"relative",children:[E.jsx("img",{src:m,alt:" ",className:"w-full h-48 object-cover rounded-md"}),E.jsx(Ee,{type:"button",variant:"secondary",size:"sm",className:"absolute top-2 right-2",onClick:()=>S(""),children:E.jsx(Ga,{className:"h-4 w-4"})})]}):E.jsx(Ee,{type:"button",variant:"outline",className:"w-full h-32 border-dashed",onClick:y,disabled:w,children:E.jsxs("div",{className:"text-center",children:[E.jsx(jb,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),E.jsx("p",{className:"text-sm text-muted-foreground",children:w?"   ...":"   "})]})})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(kt,{htmlFor:"title",children:"  *"}),E.jsx(ht,{id:"title",value:r,onChange:C=>s(C.target.value),placeholder:"    ",required:!0})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(kt,{children:" *"}),i.map((C,_)=>E.jsxs("div",{className:"flex gap-2",children:[E.jsx(ht,{value:C,onChange:b=>V(_,b.target.value),placeholder:" ",required:!0}),i.length>1&&E.jsx(Ee,{type:"button",variant:"outline",size:"icon",onClick:()=>D(_),children:E.jsx(YE,{className:"h-4 w-4"})})]},_)),E.jsxs(Ee,{type:"button",variant:"outline",size:"sm",onClick:T,className:"w-full",children:[E.jsx(uc,{className:"h-4 w-4 mr-2"})," "]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(kt,{htmlFor:"publisher",children:""}),E.jsx(ht,{id:"publisher",value:l,onChange:C=>u(C.target.value),placeholder:" "})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(kt,{htmlFor:"publishYear",children:" "}),E.jsx(ht,{id:"publishYear",type:"number",value:c,onChange:C=>h(parseInt(C.target.value)),min:"1000",max:new Date().getFullYear()})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(kt,{htmlFor:"quantity",children:" "}),E.jsx(ht,{id:"quantity",type:"number",value:f,onChange:C=>p(parseInt(C.target.value)),min:"1"})]}),E.jsxs("div",{className:"flex gap-2 pt-4",children:[E.jsx(Ee,{type:"submit",className:"flex-1",children:t?"":""}),E.jsx(Ee,{type:"button",variant:"outline",onClick:n,children:""})]})]})})]})})},Ek=({book:t,onEdit:e,onDelete:n})=>E.jsx(Jt,{className:"hover:shadow-elegant transition-smooth",children:E.jsx(Zt,{className:"p-4",children:E.jsxs("div",{className:"flex gap-4",children:[E.jsx("div",{className:"flex-shrink-0",children:t.coverImage?E.jsx("img",{src:t.coverImage,alt:t.title,className:"w-16 h-20 object-cover rounded-md border"}):E.jsx("div",{className:"w-16 h-20 bg-muted rounded-md border flex items-center justify-center",children:E.jsx("span",{className:"text-xs text-muted-foreground text-center",children:" "})})}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsxs("div",{className:"flex items-start justify-between mb-2",children:[E.jsx("h3",{className:"font-semibold text-foreground truncate ml-2",children:t.title}),E.jsxs(Ca,{variant:"secondary",className:"flex-shrink-0",children:[t.quantity," "]})]}),E.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(ed,{className:"h-3 w-3"}),E.jsx("span",{className:"truncate",children:t.authors.join(" ")})]}),t.publisher&&E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(KE,{className:"h-3 w-3"}),E.jsx("span",{className:"truncate",children:t.publisher})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(GE,{className:"h-3 w-3"}),E.jsx("span",{children:t.publishYear})]})]}),(e||n)&&E.jsxs("div",{className:"flex gap-2 mt-3",children:[e&&E.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>e(t),className:"flex-1",children:[E.jsx(Hb,{className:"h-3 w-3 mr-1"}),""]}),n&&E.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>n(t.id),className:"text-destructive hover:text-destructive",children:E.jsx(XE,{className:"h-3 w-3"})})]})]})]})})}),xk=({searchTerm:t,setSearchTerm:e})=>E.jsxs("div",{className:"relative",children:[E.jsx(Bb,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),E.jsx(ht,{type:"text",placeholder:"   (  )...",value:t,onChange:n=>e(n.target.value),className:"pr-10"})]}),Tk=({onLogin:t})=>{const[e,n]=R.useState(""),[r,s]=R.useState(""),[i,o]=R.useState(!1),{toast:l}=Gc(),u=h=>{h.preventDefault(),o(!0),t(e,r)||l({title:"",description:"      ",variant:"destructive"}),o(!1)},c=()=>{t("guest","guest")};return E.jsx("div",{className:"min-h-screen bg-gradient-hero flex items-center justify-center p-4",children:E.jsxs(Jt,{className:"w-full max-w-md",children:[E.jsxs(No,{className:"text-center",children:[E.jsx("div",{className:"flex justify-center mb-4",children:E.jsx(Ru,{className:"h-12 w-12 text-primary"})}),E.jsx(Do,{className:"text-2xl",children:" "}),E.jsx("p",{className:"text-muted-foreground",children:"   "})]}),E.jsxs(Zt,{className:"space-y-4",children:[E.jsxs("form",{onSubmit:u,className:"space-y-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(kt,{htmlFor:"username",children:" "}),E.jsxs("div",{className:"relative",children:[E.jsx(ed,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),E.jsx(ht,{id:"username",type:"text",value:e,onChange:h=>n(h.target.value),placeholder:"     ",className:"pr-10",required:!0})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(kt,{htmlFor:"password",children:" "}),E.jsxs("div",{className:"relative",children:[E.jsx(zb,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),E.jsx(ht,{id:"password",type:"password",value:r,onChange:h=>s(h.target.value),placeholder:"     ",className:"pr-10",required:!0})]})]}),E.jsx(Ee,{type:"submit",className:"w-full",disabled:i,children:i?"  ...":"   "})]}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-0 flex items-center",children:E.jsx("span",{className:"w-full border-t"})}),E.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:E.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:""})})]}),E.jsx(Ee,{variant:"outline",className:"w-full",onClick:c,children:"   "}),E.jsxs("div",{className:"text-center text-sm text-muted-foreground mt-4",children:[E.jsx("p",{children:":    "}),E.jsxs("p",{children:[" : ",E.jsx("a",{href:"mailto:ketabbase@gmail.com",className:"underline",children:"ketabbase@gmail.com"})]})]})]})]})})},Sk={high:"bg-red-100 text-red-800 border-red-200",medium:"bg-yellow-100 text-yellow-800 border-yellow-200",low:"bg-green-100 text-green-800 border-green-200"},Ck={high:"",medium:"",low:""},Ak=({needs:t,onDelete:e})=>t.length===0?E.jsx(Jt,{children:E.jsxs(Zt,{className:"p-8 text-center",children:[E.jsx(Ub,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),E.jsx("p",{className:"text-muted-foreground",children:"    "})]})}):E.jsx("div",{className:"space-y-4",children:t.map(n=>E.jsx(Jt,{className:"hover:shadow-elegant transition-smooth",children:E.jsxs(Zt,{className:"p-4",children:[E.jsxs("div",{className:"flex items-start justify-between mb-3",children:[E.jsx("h3",{className:"font-semibold text-foreground",children:n.title}),E.jsxs(Ca,{variant:"outline",className:Sk[n.priority],children:[" ",Ck[n.priority]]})]}),E.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground mb-3",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(ed,{className:"h-3 w-3"}),E.jsx("span",{children:n.authors.join(" ")})]}),n.publisher&&E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(KE,{className:"h-3 w-3"}),E.jsx("span",{children:n.publisher})]}),n.publishYear&&E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(GE,{className:"h-3 w-3"}),E.jsx("span",{children:n.publishYear})]})]}),n.notes&&E.jsx("div",{className:"bg-muted p-3 rounded-md mb-3",children:E.jsx("p",{className:"text-sm text-muted-foreground",children:n.notes})}),e&&E.jsx("div",{className:"flex justify-end",children:E.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>e(n.id),className:"text-destructive hover:text-destructive",children:E.jsx(XE,{className:"h-3 w-3"})})})]})},n.id))}),rx=R.forwardRef(({className:t,...e},n)=>E.jsx("textarea",{className:ot("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));rx.displayName="Textarea";const bk=({onSubmit:t,onCancel:e})=>{const[n,r]=R.useState(""),[s,i]=R.useState([""]),[o,l]=R.useState(""),[u,c]=R.useState(""),[h,f]=R.useState("medium"),[p,m]=R.useState(""),{toast:S}=Gc(),w=()=>{i([...s,""])},x=T=>{s.length>1&&i(s.filter((D,V)=>V!==T))},v=(T,D)=>{const V=[...s];V[T]=D,i(V)},y=T=>{if(T.preventDefault(),!n.trim()){S({title:"",description:"   ",variant:"destructive"});return}const D=s.filter(V=>V.trim());if(D.length===0){S({title:"",description:"    ",variant:"destructive"});return}t({title:n.trim(),authors:D,publisher:o.trim()||void 0,publishYear:u||void 0,priority:h,notes:p.trim()||void 0}),S({title:"",description:"   "})};return E.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:E.jsxs(Jt,{className:"w-full max-w-md max-h-[90vh] overflow-y-auto",children:[E.jsx(No,{children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx(Do,{children:"  "}),E.jsx(Ee,{variant:"ghost",size:"icon",onClick:e,children:E.jsx(Ga,{className:"h-4 w-4"})})]})}),E.jsx(Zt,{children:E.jsxs("form",{onSubmit:y,className:"space-y-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx(kt,{htmlFor:"title",children:"  *"}),E.jsx(ht,{id:"title",value:n,onChange:T=>r(T.target.value),placeholder:"   ",required:!0})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(kt,{children:" *"}),s.map((T,D)=>E.jsxs("div",{className:"flex gap-2",children:[E.jsx(ht,{value:T,onChange:V=>v(D,V.target.value),placeholder:" ",required:!0}),s.length>1&&E.jsx(Ee,{type:"button",variant:"outline",size:"icon",onClick:()=>x(D),children:E.jsx(YE,{className:"h-4 w-4"})})]},D)),E.jsxs(Ee,{type:"button",variant:"outline",size:"sm",onClick:w,className:"w-full",children:[E.jsx(uc,{className:"h-4 w-4 mr-2"})," "]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(kt,{htmlFor:"publisher",children:""}),E.jsx(ht,{id:"publisher",value:o,onChange:T=>l(T.target.value),placeholder:"  ()"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(kt,{htmlFor:"publishYear",children:" "}),E.jsx(ht,{id:"publishYear",type:"number",value:u,onChange:T=>c(T.target.value?parseInt(T.target.value):""),placeholder:"  ()",min:"1000",max:new Date().getFullYear()})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(kt,{children:""}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx(Ee,{type:"button",variant:h==="high"?"default":"outline",size:"sm",onClick:()=>f("high"),className:"flex-1",children:""}),E.jsx(Ee,{type:"button",variant:h==="medium"?"default":"outline",size:"sm",onClick:()=>f("medium"),className:"flex-1",children:""}),E.jsx(Ee,{type:"button",variant:h==="low"?"default":"outline",size:"sm",onClick:()=>f("low"),className:"flex-1",children:""})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx(kt,{htmlFor:"notes",children:""}),E.jsx(rx,{id:"notes",value:p,onChange:T=>m(T.target.value),placeholder:"  ()",rows:3})]}),E.jsxs("div",{className:"flex gap-2 pt-4",children:[E.jsx(Ee,{type:"submit",className:"flex-1",children:""}),E.jsx(Ee,{type:"button",variant:"outline",onClick:e,children:""})]})]})})]})})},Ik=({onSubmit:t})=>{const[e,n]=R.useState(""),[r,s]=R.useState(""),[i,o]=R.useState(""),[l,u]=R.useState(""),[c,h]=R.useState(""),f=p=>{if(p.preventDefault(),!e||!r||!l){h("      .");return}h(""),t({title:e,author:r,description:i,contact:l}),n(""),s(""),o(""),u("")};return E.jsxs(Jt,{className:"max-w-md mx-auto my-6",children:[E.jsx(No,{children:E.jsx(Do,{children:"  "})}),E.jsx(Zt,{children:E.jsxs("form",{onSubmit:f,className:"space-y-4",children:[E.jsx(ht,{placeholder:"  *",value:e,onChange:p=>n(p.target.value),required:!0}),E.jsx(ht,{placeholder:" *",value:r,onChange:p=>s(p.target.value),required:!0}),E.jsx(ht,{placeholder:"",value:i,onChange:p=>o(p.target.value)}),E.jsx(ht,{placeholder:"  *",value:l,onChange:p=>u(p.target.value),required:!0}),c&&E.jsx("div",{className:"text-red-500 text-sm",children:c}),E.jsx(Ee,{type:"submit",className:"w-full",children:" "})]})})]})},Pk=()=>{};var Uv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Rk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},ix={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let p=(l&15)<<2|c>>6,m=c&63;u||(m=64,o||(p=64)),r.push(n[h],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Rk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||c==null||f==null)throw new kk;const p=i<<2|l>>4;if(r.push(p),c!==64){const m=l<<4&240|c>>2;if(r.push(m),f!==64){const S=c<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nk=function(t){const e=sx(t);return ix.encodeByteArray(e,!0)},yc=function(t){return Nk(t).replace(/\./g,"")},Dk=function(t){try{return ix.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=()=>Vk().__FIREBASE_DEFAULTS__,Lk=()=>{if(typeof process>"u"||typeof Uv>"u")return;const t=Uv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Mk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Dk(t[1]);return e&&JSON.parse(e)},Am=()=>{try{return Pk()||Ok()||Lk()||Mk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jk=t=>{var e,n;return(n=(e=Am())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Fk=t=>{const e=jk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ox=()=>{var t;return(t=Am())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yc(JSON.stringify(n)),yc(JSON.stringify(o)),""].join(".")}const ba={};function Bk(){const t={prod:[],emulator:[]};for(const e of Object.keys(ba))ba[e]?t.emulator.push(e):t.prod.push(e);return t}function Hk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let zv=!1;function Wk(t,e){if(typeof window>"u"||typeof document>"u"||!bm(window.location.host)||ba[t]===e||ba[t]||zv)return;ba[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=Bk().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{zv=!0,o()},p}function h(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=Hk(r),m=n("text"),S=document.getElementById(m)||document.createElement("span"),w=n("learnmore"),x=document.getElementById(w)||document.createElement("a"),v=n("preprendIcon"),y=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const T=p.element;l(T),h(x,w);const D=c();u(y,v),T.append(y,S,x,D),document.body.appendChild(T)}i?(S.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qk(){var t;const e=(t=Am())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kk(){return!Qk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gk(){try{return typeof indexedDB=="object"}catch{return!1}}function Yk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="FirebaseError";class Vo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Xk,Object.setPrototypeOf(this,Vo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ax.prototype.create)}}class ax{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Jk(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Vo(s,l,r)}}function Jk(t,e){return t.replace(Zk,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Zk=/\{\$([^}]+)}/g;function vc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if($v(i)&&$v(o)){if(!vc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function $v(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t){return t&&t._delegate?t._delegate:t}class el{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Uk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nN(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tN(t){return t===$s?void 0:t}function nN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const sN={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},iN=ge.INFO,oN={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},aN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=oN[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lx{constructor(e){this.name=e,this._logLevel=iN,this._logHandler=aN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const lN=(t,e)=>e.some(n=>t instanceof n);let Bv,Hv;function uN(){return Bv||(Bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cN(){return Hv||(Hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ux=new WeakMap,Hf=new WeakMap,cx=new WeakMap,Th=new WeakMap,Im=new WeakMap;function dN(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(as(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ux.set(n,t)}).catch(()=>{}),Im.set(e,t),e}function hN(t){if(Hf.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Hf.set(t,e)}let Wf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fN(t){Wf=t(Wf)}function pN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Sh(this),e,...n);return cx.set(r,e.sort?e.sort():[e]),as(r)}:cN().includes(t)?function(...e){return t.apply(Sh(this),e),as(ux.get(this))}:function(...e){return as(t.apply(Sh(this),e))}}function mN(t){return typeof t=="function"?pN(t):(t instanceof IDBTransaction&&hN(t),lN(t,uN())?new Proxy(t,Wf):t)}function as(t){if(t instanceof IDBRequest)return dN(t);if(Th.has(t))return Th.get(t);const e=mN(t);return e!==t&&(Th.set(t,e),Im.set(e,t)),e}const Sh=t=>Im.get(t);function gN(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=as(o);return r&&o.addEventListener("upgradeneeded",u=>{r(as(o.result),u.oldVersion,u.newVersion,as(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const yN=["get","getKey","getAll","getAllKeys","count"],vN=["put","add","delete","clear"],Ch=new Map;function Wv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ch.get(e))return Ch.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=vN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||yN.includes(n)))return;const i=async function(o,...l){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&u.done]))[0]};return Ch.set(e,i),i}fN(t=>({...t,get:(e,n,r)=>Wv(e,n)||t.get(e,n,r),has:(e,n)=>!!Wv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_N(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _N(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qf="@firebase/app",qv="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new lx("@firebase/app"),EN="@firebase/app-compat",xN="@firebase/analytics-compat",TN="@firebase/analytics",SN="@firebase/app-check-compat",CN="@firebase/app-check",AN="@firebase/auth",bN="@firebase/auth-compat",IN="@firebase/database",PN="@firebase/data-connect",RN="@firebase/database-compat",kN="@firebase/functions",NN="@firebase/functions-compat",DN="@firebase/installations",VN="@firebase/installations-compat",ON="@firebase/messaging",LN="@firebase/messaging-compat",MN="@firebase/performance",jN="@firebase/performance-compat",FN="@firebase/remote-config",UN="@firebase/remote-config-compat",zN="@firebase/storage",$N="@firebase/storage-compat",BN="@firebase/firestore",HN="@firebase/ai",WN="@firebase/firestore-compat",qN="firebase",QN="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="[DEFAULT]",KN={[qf]:"fire-core",[EN]:"fire-core-compat",[TN]:"fire-analytics",[xN]:"fire-analytics-compat",[CN]:"fire-app-check",[SN]:"fire-app-check-compat",[AN]:"fire-auth",[bN]:"fire-auth-compat",[IN]:"fire-rtdb",[PN]:"fire-data-connect",[RN]:"fire-rtdb-compat",[kN]:"fire-fn",[NN]:"fire-fn-compat",[DN]:"fire-iid",[VN]:"fire-iid-compat",[ON]:"fire-fcm",[LN]:"fire-fcm-compat",[MN]:"fire-perf",[jN]:"fire-perf-compat",[FN]:"fire-rc",[UN]:"fire-rc-compat",[zN]:"fire-gcs",[$N]:"fire-gcs-compat",[BN]:"fire-fst",[WN]:"fire-fst-compat",[HN]:"fire-vertex","fire-js":"fire-js",[qN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Map,GN=new Map,Kf=new Map;function Qv(t,e){try{t.container.addComponent(e)}catch(n){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _c(t){const e=t.name;if(Kf.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;Kf.set(e,t);for(const n of wc.values())Qv(n,t);for(const n of GN.values())Qv(n,t);return!0}function YN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function XN(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new ax("app","Firebase",JN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new el("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=QN;function dx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Qf,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw ls.create("bad-app-name",{appName:String(s)});if(n||(n=ox()),!n)throw ls.create("no-options");const i=wc.get(s);if(i){if(vc(n,i.options)&&vc(r,i.config))return i;throw ls.create("duplicate-app",{appName:s})}const o=new rN(s);for(const u of Kf.values())o.addComponent(u);const l=new ZN(n,r,o);return wc.set(s,l),l}function tD(t=Qf){const e=wc.get(t);if(!e&&t===Qf&&ox())return dx();if(!e)throw ls.create("no-app",{appName:t});return e}function Ji(t,e,n){var r;let s=(r=KN[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(l.join(" "));return}_c(new el(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="firebase-heartbeat-database",rD=1,tl="firebase-heartbeat-store";let Ah=null;function hx(){return Ah||(Ah=gN(nD,rD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tl)}catch(n){console.warn(n)}}}}).catch(t=>{throw ls.create("idb-open",{originalErrorMessage:t.message})})),Ah}async function sD(t){try{const n=(await hx()).transaction(tl),r=await n.objectStore(tl).get(fx(t));return await n.done,r}catch(e){if(e instanceof Vo)Sr.warn(e.message);else{const n=ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sr.warn(n.message)}}}async function Kv(t,e){try{const r=(await hx()).transaction(tl,"readwrite");await r.objectStore(tl).put(e,fx(t)),await r.done}catch(n){if(n instanceof Vo)Sr.warn(n.message);else{const r=ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sr.warn(r.message)}}}function fx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=1024,oD=30;class aD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Gv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>oD){const o=cD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Sr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gv(),{heartbeatsToSend:r,unsentEntries:s}=lD(this._heartbeatsCache.heartbeats),i=yc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Sr.warn(n),""}}}function Gv(){return new Date().toISOString().substring(0,10)}function lD(t,e=iD){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Yv(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Yv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gk()?Yk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Kv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Kv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Yv(t){return yc(JSON.stringify({version:2,heartbeats:t})).length}function cD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t){_c(new el("platform-logger",e=>new wN(e),"PRIVATE")),_c(new el("heartbeat",e=>new aD(e),"PRIVATE")),Ji(qf,qv,t),Ji(qf,qv,"esm2017"),Ji("fire-js","")}dD("");var hD="firebase",fD="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(hD,fD,"app");var Xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,px;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,_){function b(){}b.prototype=_.prototype,C.D=_.prototype,C.prototype=new b,C.prototype.constructor=C,C.C=function(I,k,N){for(var P=Array(arguments.length-2),q=2;q<arguments.length;q++)P[q-2]=arguments[q];return _.prototype[k].apply(I,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,_,b){b||(b=0);var I=Array(16);if(typeof _=="string")for(var k=0;16>k;++k)I[k]=_.charCodeAt(b++)|_.charCodeAt(b++)<<8|_.charCodeAt(b++)<<16|_.charCodeAt(b++)<<24;else for(k=0;16>k;++k)I[k]=_[b++]|_[b++]<<8|_[b++]<<16|_[b++]<<24;_=C.g[0],b=C.g[1],k=C.g[2];var N=C.g[3],P=_+(N^b&(k^N))+I[0]+3614090360&4294967295;_=b+(P<<7&4294967295|P>>>25),P=N+(k^_&(b^k))+I[1]+3905402710&4294967295,N=_+(P<<12&4294967295|P>>>20),P=k+(b^N&(_^b))+I[2]+606105819&4294967295,k=N+(P<<17&4294967295|P>>>15),P=b+(_^k&(N^_))+I[3]+3250441966&4294967295,b=k+(P<<22&4294967295|P>>>10),P=_+(N^b&(k^N))+I[4]+4118548399&4294967295,_=b+(P<<7&4294967295|P>>>25),P=N+(k^_&(b^k))+I[5]+1200080426&4294967295,N=_+(P<<12&4294967295|P>>>20),P=k+(b^N&(_^b))+I[6]+2821735955&4294967295,k=N+(P<<17&4294967295|P>>>15),P=b+(_^k&(N^_))+I[7]+4249261313&4294967295,b=k+(P<<22&4294967295|P>>>10),P=_+(N^b&(k^N))+I[8]+1770035416&4294967295,_=b+(P<<7&4294967295|P>>>25),P=N+(k^_&(b^k))+I[9]+2336552879&4294967295,N=_+(P<<12&4294967295|P>>>20),P=k+(b^N&(_^b))+I[10]+4294925233&4294967295,k=N+(P<<17&4294967295|P>>>15),P=b+(_^k&(N^_))+I[11]+2304563134&4294967295,b=k+(P<<22&4294967295|P>>>10),P=_+(N^b&(k^N))+I[12]+1804603682&4294967295,_=b+(P<<7&4294967295|P>>>25),P=N+(k^_&(b^k))+I[13]+4254626195&4294967295,N=_+(P<<12&4294967295|P>>>20),P=k+(b^N&(_^b))+I[14]+2792965006&4294967295,k=N+(P<<17&4294967295|P>>>15),P=b+(_^k&(N^_))+I[15]+1236535329&4294967295,b=k+(P<<22&4294967295|P>>>10),P=_+(k^N&(b^k))+I[1]+4129170786&4294967295,_=b+(P<<5&4294967295|P>>>27),P=N+(b^k&(_^b))+I[6]+3225465664&4294967295,N=_+(P<<9&4294967295|P>>>23),P=k+(_^b&(N^_))+I[11]+643717713&4294967295,k=N+(P<<14&4294967295|P>>>18),P=b+(N^_&(k^N))+I[0]+3921069994&4294967295,b=k+(P<<20&4294967295|P>>>12),P=_+(k^N&(b^k))+I[5]+3593408605&4294967295,_=b+(P<<5&4294967295|P>>>27),P=N+(b^k&(_^b))+I[10]+38016083&4294967295,N=_+(P<<9&4294967295|P>>>23),P=k+(_^b&(N^_))+I[15]+3634488961&4294967295,k=N+(P<<14&4294967295|P>>>18),P=b+(N^_&(k^N))+I[4]+3889429448&4294967295,b=k+(P<<20&4294967295|P>>>12),P=_+(k^N&(b^k))+I[9]+568446438&4294967295,_=b+(P<<5&4294967295|P>>>27),P=N+(b^k&(_^b))+I[14]+3275163606&4294967295,N=_+(P<<9&4294967295|P>>>23),P=k+(_^b&(N^_))+I[3]+4107603335&4294967295,k=N+(P<<14&4294967295|P>>>18),P=b+(N^_&(k^N))+I[8]+1163531501&4294967295,b=k+(P<<20&4294967295|P>>>12),P=_+(k^N&(b^k))+I[13]+2850285829&4294967295,_=b+(P<<5&4294967295|P>>>27),P=N+(b^k&(_^b))+I[2]+4243563512&4294967295,N=_+(P<<9&4294967295|P>>>23),P=k+(_^b&(N^_))+I[7]+1735328473&4294967295,k=N+(P<<14&4294967295|P>>>18),P=b+(N^_&(k^N))+I[12]+2368359562&4294967295,b=k+(P<<20&4294967295|P>>>12),P=_+(b^k^N)+I[5]+4294588738&4294967295,_=b+(P<<4&4294967295|P>>>28),P=N+(_^b^k)+I[8]+2272392833&4294967295,N=_+(P<<11&4294967295|P>>>21),P=k+(N^_^b)+I[11]+1839030562&4294967295,k=N+(P<<16&4294967295|P>>>16),P=b+(k^N^_)+I[14]+4259657740&4294967295,b=k+(P<<23&4294967295|P>>>9),P=_+(b^k^N)+I[1]+2763975236&4294967295,_=b+(P<<4&4294967295|P>>>28),P=N+(_^b^k)+I[4]+1272893353&4294967295,N=_+(P<<11&4294967295|P>>>21),P=k+(N^_^b)+I[7]+4139469664&4294967295,k=N+(P<<16&4294967295|P>>>16),P=b+(k^N^_)+I[10]+3200236656&4294967295,b=k+(P<<23&4294967295|P>>>9),P=_+(b^k^N)+I[13]+681279174&4294967295,_=b+(P<<4&4294967295|P>>>28),P=N+(_^b^k)+I[0]+3936430074&4294967295,N=_+(P<<11&4294967295|P>>>21),P=k+(N^_^b)+I[3]+3572445317&4294967295,k=N+(P<<16&4294967295|P>>>16),P=b+(k^N^_)+I[6]+76029189&4294967295,b=k+(P<<23&4294967295|P>>>9),P=_+(b^k^N)+I[9]+3654602809&4294967295,_=b+(P<<4&4294967295|P>>>28),P=N+(_^b^k)+I[12]+3873151461&4294967295,N=_+(P<<11&4294967295|P>>>21),P=k+(N^_^b)+I[15]+530742520&4294967295,k=N+(P<<16&4294967295|P>>>16),P=b+(k^N^_)+I[2]+3299628645&4294967295,b=k+(P<<23&4294967295|P>>>9),P=_+(k^(b|~N))+I[0]+4096336452&4294967295,_=b+(P<<6&4294967295|P>>>26),P=N+(b^(_|~k))+I[7]+1126891415&4294967295,N=_+(P<<10&4294967295|P>>>22),P=k+(_^(N|~b))+I[14]+2878612391&4294967295,k=N+(P<<15&4294967295|P>>>17),P=b+(N^(k|~_))+I[5]+4237533241&4294967295,b=k+(P<<21&4294967295|P>>>11),P=_+(k^(b|~N))+I[12]+1700485571&4294967295,_=b+(P<<6&4294967295|P>>>26),P=N+(b^(_|~k))+I[3]+2399980690&4294967295,N=_+(P<<10&4294967295|P>>>22),P=k+(_^(N|~b))+I[10]+4293915773&4294967295,k=N+(P<<15&4294967295|P>>>17),P=b+(N^(k|~_))+I[1]+2240044497&4294967295,b=k+(P<<21&4294967295|P>>>11),P=_+(k^(b|~N))+I[8]+1873313359&4294967295,_=b+(P<<6&4294967295|P>>>26),P=N+(b^(_|~k))+I[15]+4264355552&4294967295,N=_+(P<<10&4294967295|P>>>22),P=k+(_^(N|~b))+I[6]+2734768916&4294967295,k=N+(P<<15&4294967295|P>>>17),P=b+(N^(k|~_))+I[13]+1309151649&4294967295,b=k+(P<<21&4294967295|P>>>11),P=_+(k^(b|~N))+I[4]+4149444226&4294967295,_=b+(P<<6&4294967295|P>>>26),P=N+(b^(_|~k))+I[11]+3174756917&4294967295,N=_+(P<<10&4294967295|P>>>22),P=k+(_^(N|~b))+I[2]+718787259&4294967295,k=N+(P<<15&4294967295|P>>>17),P=b+(N^(k|~_))+I[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+N&4294967295}r.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var b=_-this.blockSize,I=this.B,k=this.h,N=0;N<_;){if(k==0)for(;N<=b;)s(this,C,N),N+=this.blockSize;if(typeof C=="string"){for(;N<_;)if(I[k++]=C.charCodeAt(N++),k==this.blockSize){s(this,I),k=0;break}}else for(;N<_;)if(I[k++]=C[N++],k==this.blockSize){s(this,I),k=0;break}}this.h=k,this.o+=_},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var b=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=b&255,b/=256;for(this.u(C),C=Array(16),_=b=0;4>_;++_)for(var I=0;32>I;I+=8)C[b++]=this.g[_]>>>I&255;return C};function i(C,_){var b=l;return Object.prototype.hasOwnProperty.call(b,C)?b[C]:b[C]=_(C)}function o(C,_){this.h=_;for(var b=[],I=!0,k=C.length-1;0<=k;k--){var N=C[k]|0;I&&N==_||(b[k]=N,I=!1)}this.g=b}var l={};function u(C){return-128<=C&&128>C?i(C,function(_){return new o([_|0],0>_?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return x(c(-C));for(var _=[],b=1,I=0;C>=b;I++)_[I]=C/b|0,b*=4294967296;return new o(_,0)}function h(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return x(h(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=c(Math.pow(_,8)),I=f,k=0;k<C.length;k+=8){var N=Math.min(8,C.length-k),P=parseInt(C.substring(k,k+N),_);8>N?(N=c(Math.pow(_,N)),I=I.j(N).add(c(P))):(I=I.j(b),I=I.add(c(P)))}return I}var f=u(0),p=u(1),m=u(16777216);t=o.prototype,t.m=function(){if(w(this))return-x(this).m();for(var C=0,_=1,b=0;b<this.g.length;b++){var I=this.i(b);C+=(0<=I?I:4294967296+I)*_,_*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S(this))return"0";if(w(this))return"-"+x(this).toString(C);for(var _=c(Math.pow(C,6)),b=this,I="";;){var k=D(b,_).g;b=v(b,k.j(_));var N=((0<b.g.length?b.g[0]:b.h)>>>0).toString(C);if(b=k,S(b))return N+I;for(;6>N.length;)N="0"+N;I=N+I}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function S(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function w(C){return C.h==-1}t.l=function(C){return C=v(this,C),w(C)?-1:S(C)?0:1};function x(C){for(var _=C.g.length,b=[],I=0;I<_;I++)b[I]=~C.g[I];return new o(b,~C.h).add(p)}t.abs=function(){return w(this)?x(this):this},t.add=function(C){for(var _=Math.max(this.g.length,C.g.length),b=[],I=0,k=0;k<=_;k++){var N=I+(this.i(k)&65535)+(C.i(k)&65535),P=(N>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);I=P>>>16,N&=65535,P&=65535,b[k]=P<<16|N}return new o(b,b[b.length-1]&-2147483648?-1:0)};function v(C,_){return C.add(x(_))}t.j=function(C){if(S(this)||S(C))return f;if(w(this))return w(C)?x(this).j(x(C)):x(x(this).j(C));if(w(C))return x(this.j(x(C)));if(0>this.l(m)&&0>C.l(m))return c(this.m()*C.m());for(var _=this.g.length+C.g.length,b=[],I=0;I<2*_;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(var k=0;k<C.g.length;k++){var N=this.i(I)>>>16,P=this.i(I)&65535,q=C.i(k)>>>16,ne=C.i(k)&65535;b[2*I+2*k]+=P*ne,y(b,2*I+2*k),b[2*I+2*k+1]+=N*ne,y(b,2*I+2*k+1),b[2*I+2*k+1]+=P*q,y(b,2*I+2*k+1),b[2*I+2*k+2]+=N*q,y(b,2*I+2*k+2)}for(I=0;I<_;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=_;I<2*_;I++)b[I]=0;return new o(b,0)};function y(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function T(C,_){this.g=C,this.h=_}function D(C,_){if(S(_))throw Error("division by zero");if(S(C))return new T(f,f);if(w(C))return _=D(x(C),_),new T(x(_.g),x(_.h));if(w(_))return _=D(C,x(_)),new T(x(_.g),_.h);if(30<C.g.length){if(w(C)||w(_))throw Error("slowDivide_ only works with positive integers.");for(var b=p,I=_;0>=I.l(C);)b=V(b),I=V(I);var k=L(b,1),N=L(I,1);for(I=L(I,2),b=L(b,2);!S(I);){var P=N.add(I);0>=P.l(C)&&(k=k.add(b),N=P),I=L(I,1),b=L(b,1)}return _=v(C,k.j(_)),new T(k,_)}for(k=f;0<=C.l(_);){for(b=Math.max(1,Math.floor(C.m()/_.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),N=c(b),P=N.j(_);w(P)||0<P.l(C);)b-=I,N=c(b),P=N.j(_);S(N)&&(N=p),k=k.add(N),C=v(C,P)}return new T(k,C)}t.A=function(C){return D(this,C).h},t.and=function(C){for(var _=Math.max(this.g.length,C.g.length),b=[],I=0;I<_;I++)b[I]=this.i(I)&C.i(I);return new o(b,this.h&C.h)},t.or=function(C){for(var _=Math.max(this.g.length,C.g.length),b=[],I=0;I<_;I++)b[I]=this.i(I)|C.i(I);return new o(b,this.h|C.h)},t.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),b=[],I=0;I<_;I++)b[I]=this.i(I)^C.i(I);return new o(b,this.h^C.h)};function V(C){for(var _=C.g.length+1,b=[],I=0;I<_;I++)b[I]=C.i(I)<<1|C.i(I-1)>>>31;return new o(b,C.h)}function L(C,_){var b=_>>5;_%=32;for(var I=C.g.length-b,k=[],N=0;N<I;N++)k[N]=0<_?C.i(N+b)>>>_|C.i(N+b+1)<<32-_:C.i(N+b);return new o(k,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,px=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,us=o}).apply(typeof Xv<"u"?Xv:typeof self<"u"?self:typeof window<"u"?window:{});var cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mx,ha,gx,Nu,Gf,yx,vx,wx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,g){return a==Array.prototype||a==Object.prototype||(a[d]=g.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof cu=="object"&&cu];for(var d=0;d<a.length;++d){var g=a[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(a,d){if(d)e:{var g=r;a=a.split(".");for(var A=0;A<a.length-1;A++){var O=a[A];if(!(O in g))break e;g=g[O]}a=a[a.length-1],A=g[a],d=d(A),d!=A&&d!=null&&e(g,a,{configurable:!0,writable:!0,value:d})}}function i(a,d){a instanceof String&&(a+="");var g=0,A=!1,O={next:function(){if(!A&&g<a.length){var M=g++;return{value:d(M,a[M]),done:!1}}return A=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}s("Array.prototype.values",function(a){return a||function(){return i(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function c(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,g){return a.call.apply(a.bind,arguments)}function f(a,d,g){if(!a)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,A),a.apply(d,O)}}return function(){return a.apply(d,arguments)}}function p(a,d,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function m(a,d){var g=Array.prototype.slice.call(arguments,1);return function(){var A=g.slice();return A.push.apply(A,arguments),a.apply(this,A)}}function S(a,d){function g(){}g.prototype=d.prototype,a.aa=d.prototype,a.prototype=new g,a.prototype.constructor=a,a.Qb=function(A,O,M){for(var K=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)K[Ae-2]=arguments[Ae];return d.prototype[O].apply(A,K)}}function w(a){const d=a.length;if(0<d){const g=Array(d);for(let A=0;A<d;A++)g[A]=a[A];return g}return[]}function x(a,d){for(let g=1;g<arguments.length;g++){const A=arguments[g];if(u(A)){const O=a.length||0,M=A.length||0;a.length=O+M;for(let K=0;K<M;K++)a[O+K]=A[K]}else a.push(A)}}class v{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function y(a){return/^[\s\xa0]*$/.test(a)}function T(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function D(a){return D[" "](a),a}D[" "]=function(){};var V=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function L(a,d,g){for(const A in a)d.call(g,a[A],A,a)}function C(a,d){for(const g in a)d.call(void 0,a[g],g,a)}function _(a){const d={};for(const g in a)d[g]=a[g];return d}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,d){let g,A;for(let O=1;O<arguments.length;O++){A=arguments[O];for(g in A)a[g]=A[g];for(let M=0;M<b.length;M++)g=b[M],Object.prototype.hasOwnProperty.call(A,g)&&(a[g]=A[g])}}function k(a){var d=1;a=a.split(":");const g=[];for(;0<d&&a.length;)g.push(a.shift()),d--;return a.length&&g.push(a.join(":")),g}function N(a){l.setTimeout(()=>{throw a},0)}function P(){var a=U;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class q{constructor(){this.h=this.g=null}add(d,g){const A=ne.get();A.set(d,g),this.h?this.h.next=A:this.g=A,this.h=A}}var ne=new v(()=>new re,a=>a.reset());class re{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let $,j=!1,U=new q,W=()=>{const a=l.Promise.resolve(void 0);$=()=>{a.then(ee)}};var ee=()=>{for(var a;a=P();){try{a.h.call(a.g)}catch(g){N(g)}var d=ne;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}j=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const g=()=>{};l.addEventListener("test",g,d),l.removeEventListener("test",g,d)}catch{}return a}();function be(a,d){if(Z.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var g=this.type=a.type,A=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(V){e:{try{D(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else g=="mouseover"?d=a.fromElement:g=="mouseout"&&(d=a.toElement);this.relatedTarget=d,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:tt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&be.aa.h.call(this)}}S(be,Z);var tt={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),Ir=0;function Mn(a,d,g,A,O){this.listener=a,this.proxy=null,this.src=d,this.type=g,this.capture=!!A,this.ha=O,this.key=++Ir,this.da=this.fa=!1}function ln(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Kt(a){this.src=a,this.g={},this.h=0}Kt.prototype.add=function(a,d,g,A,O){var M=a.toString();a=this.g[M],a||(a=this.g[M]=[],this.h++);var K=un(a,d,A,O);return-1<K?(d=a[K],g||(d.fa=!1)):(d=new Mn(d,this.src,M,!!A,O),d.fa=g,a.push(d)),d};function jn(a,d){var g=d.type;if(g in a.g){var A=a.g[g],O=Array.prototype.indexOf.call(A,d,void 0),M;(M=0<=O)&&Array.prototype.splice.call(A,O,1),M&&(ln(d),a.g[g].length==0&&(delete a.g[g],a.h--))}}function un(a,d,g,A){for(var O=0;O<a.length;++O){var M=a[O];if(!M.da&&M.listener==d&&M.capture==!!g&&M.ha==A)return O}return-1}var Pr="closure_lm_"+(1e6*Math.random()|0),ks={};function Ns(a,d,g,A,O){if(Array.isArray(d)){for(var M=0;M<d.length;M++)Ns(a,d[M],g,A,O);return null}return g=Cl(g),a&&a[pe]?a.K(d,g,c(A)?!!A.capture:!1,O):Fo(a,d,g,!1,A,O)}function Fo(a,d,g,A,O,M){if(!d)throw Error("Invalid event type");var K=c(O)?!!O.capture:!!O,Ae=wn(a);if(Ae||(a[Pr]=Ae=new Kt(a)),g=Ae.add(d,g,A,K,M),g.proxy)return g;if(A=Ds(),g.proxy=A,A.src=a,A.listener=g,a.addEventListener)de||(O=K),O===void 0&&(O=!1),a.addEventListener(d.toString(),A,O);else if(a.attachEvent)a.attachEvent(Rr(d.toString()),A);else if(a.addListener&&a.removeListener)a.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ds(){function a(g){return d.call(a.src,a.listener,g)}const d=Sl;return a}function ir(a,d,g,A,O){if(Array.isArray(d))for(var M=0;M<d.length;M++)ir(a,d[M],g,A,O);else A=c(A)?!!A.capture:!!A,g=Cl(g),a&&a[pe]?(a=a.i,d=String(d).toString(),d in a.g&&(M=a.g[d],g=un(M,g,A,O),-1<g&&(ln(M[g]),Array.prototype.splice.call(M,g,1),M.length==0&&(delete a.g[d],a.h--)))):a&&(a=wn(a))&&(d=a.g[d.toString()],a=-1,d&&(a=un(d,g,A,O)),(g=-1<a?d[a]:null)&&mi(g))}function mi(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[pe])jn(d.i,a);else{var g=a.type,A=a.proxy;d.removeEventListener?d.removeEventListener(g,A,a.capture):d.detachEvent?d.detachEvent(Rr(g),A):d.addListener&&d.removeListener&&d.removeListener(A),(g=wn(d))?(jn(g,a),g.h==0&&(g.src=null,d[Pr]=null)):ln(a)}}}function Rr(a){return a in ks?ks[a]:ks[a]="on"+a}function Sl(a,d){if(a.da)a=!0;else{d=new be(d,this);var g=a.listener,A=a.ha||a.src;a.fa&&mi(a),a=g.call(A,d)}return a}function wn(a){return a=a[Pr],a instanceof Kt?a:null}var Uo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cl(a){return typeof a=="function"?a:(a[Uo]||(a[Uo]=function(d){return a.handleEvent(d)}),a[Uo])}function Te(){X.call(this),this.i=new Kt(this),this.M=this,this.F=null}S(Te,X),Te.prototype[pe]=!0,Te.prototype.removeEventListener=function(a,d,g,A){ir(this,a,d,g,A)};function ze(a,d){var g,A=a.F;if(A)for(g=[];A;A=A.F)g.push(A);if(a=a.M,A=d.type||d,typeof d=="string")d=new Z(d,a);else if(d instanceof Z)d.target=d.target||a;else{var O=d;d=new Z(A,a),I(d,O)}if(O=!0,g)for(var M=g.length-1;0<=M;M--){var K=d.g=g[M];O=gi(K,A,!0,d)&&O}if(K=d.g=a,O=gi(K,A,!0,d)&&O,O=gi(K,A,!1,d)&&O,g)for(M=0;M<g.length;M++)K=d.g=g[M],O=gi(K,A,!1,d)&&O}Te.prototype.N=function(){if(Te.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var g=a.g[d],A=0;A<g.length;A++)ln(g[A]);delete a.g[d],a.h--}}this.F=null},Te.prototype.K=function(a,d,g,A){return this.i.add(String(a),d,!1,g,A)},Te.prototype.L=function(a,d,g,A){return this.i.add(String(a),d,!0,g,A)};function gi(a,d,g,A){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,M=0;M<d.length;++M){var K=d[M];if(K&&!K.da&&K.capture==g){var Ae=K.listener,ut=K.ha||K.src;K.fa&&jn(a.i,K),O=Ae.call(ut,A)!==!1&&O}}return O&&!A.defaultPrevented}function Al(a,d,g){if(typeof a=="function")g&&(a=p(a,g));else if(a&&typeof a.handleEvent=="function")a=p(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function Vs(a){a.g=Al(()=>{a.g=null,a.i&&(a.i=!1,Vs(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class Id extends X{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Vs(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kr(a){X.call(this),this.h=a,this.g={}}S(kr,X);var yi=[];function or(a){L(a.g,function(d,g){this.g.hasOwnProperty(g)&&mi(d)},a),a.g={}}kr.prototype.N=function(){kr.aa.N.call(this),or(this)},kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vi=l.JSON.stringify,Nr=l.JSON.parse,Pd=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function zo(){}zo.prototype.h=null;function $o(a){return a.h||(a.h=a.i())}function Bo(){}var Os={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ls(){Z.call(this,"d")}S(Ls,Z);function cn(){Z.call(this,"c")}S(cn,Z);var ar={},ie=null;function ye(){return ie=ie||new Te}ar.La="serverreachability";function Ce(a){Z.call(this,ar.La,a)}S(Ce,Z);function at(a){const d=ye();ze(d,new Ce(d))}ar.STAT_EVENT="statevent";function Mt(a,d){Z.call(this,ar.STAT_EVENT,a),this.stat=d}S(Mt,Z);function Oe(a){const d=ye();ze(d,new Mt(d,a))}ar.Ma="timingevent";function Fn(a,d){Z.call(this,ar.Ma,a),this.size=d}S(Fn,Z);function lt(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function jt(){this.g=!0}jt.prototype.xa=function(){this.g=!1};function $T(a,d,g,A,O,M){a.info(function(){if(a.g)if(M)for(var K="",Ae=M.split("&"),ut=0;ut<Ae.length;ut++){var we=Ae[ut].split("=");if(1<we.length){var yt=we[0];we=we[1];var vt=yt.split("_");K=2<=vt.length&&vt[1]=="type"?K+(yt+"="+we+"&"):K+(yt+"=redacted&")}}else K=null;else K=M;return"XMLHTTP REQ ("+A+") [attempt "+O+"]: "+d+`
`+g+`
`+K})}function BT(a,d,g,A,O,M,K){a.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+O+"]: "+d+`
`+g+`
`+M+" "+K})}function wi(a,d,g,A){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+WT(a,g)+(A?" "+A:"")})}function HT(a,d){a.info(function(){return"TIMEOUT: "+d})}jt.prototype.info=function(){};function WT(a,d){if(!a.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(a=0;a<g.length;a++)if(Array.isArray(g[a])){var A=g[a];if(!(2>A.length)){var O=A[1];if(Array.isArray(O)&&!(1>O.length)){var M=O[0];if(M!="noop"&&M!="stop"&&M!="close")for(var K=1;K<O.length;K++)O[K]=""}}}}return vi(g)}catch{return d}}var bl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},og={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rd;function Il(){}S(Il,zo),Il.prototype.g=function(){return new XMLHttpRequest},Il.prototype.i=function(){return{}},Rd=new Il;function Dr(a,d,g,A){this.j=a,this.i=d,this.l=g,this.R=A||1,this.U=new kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ag}function ag(){this.i=null,this.g="",this.h=!1}var lg={},kd={};function Nd(a,d,g){a.L=1,a.v=Nl(lr(d)),a.m=g,a.P=!0,ug(a,null)}function ug(a,d){a.F=Date.now(),Pl(a),a.A=lr(a.v);var g=a.A,A=a.R;Array.isArray(A)||(A=[String(A)]),Tg(g.i,"t",A),a.C=0,g=a.j.J,a.h=new ag,a.g=zg(a.j,g?d:null,!a.m),0<a.O&&(a.M=new Id(p(a.Y,a,a.g),a.O)),d=a.U,g=a.g,A=a.ca;var O="readystatechange";Array.isArray(O)||(O&&(yi[0]=O.toString()),O=yi);for(var M=0;M<O.length;M++){var K=Ns(g,O[M],A||d.handleEvent,!1,d.h||d);if(!K)break;d.g[K.key]=K}d=a.H?_(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),at(),$T(a.i,a.u,a.A,a.l,a.R,a.m)}Dr.prototype.ca=function(a){a=a.target;const d=this.M;d&&ur(a)==3?d.j():this.Y(a)},Dr.prototype.Y=function(a){try{if(a==this.g)e:{const vt=ur(this.g);var d=this.g.Ba();const xi=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||Rg(this.g)))){this.J||vt!=4||d==7||(d==8||0>=xi?at(3):at(2)),Dd(this);var g=this.g.Z();this.X=g;t:if(cg(this)){var A=Rg(this.g);a="";var O=A.length,M=ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ms(this),Ho(this);var K="";break t}this.h.i=new l.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,a+=this.h.i.decode(A[d],{stream:!(M&&d==O-1)});A.length=0,this.h.g+=a,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=g==200,BT(this.i,this.u,this.A,this.l,this.R,vt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,ut=this.g;if((Ae=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ae)){var we=Ae;break t}}we=null}if(g=we)wi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vd(this,g);else{this.o=!1,this.s=3,Oe(12),Ms(this),Ho(this);break e}}if(this.P){g=!0;let _n;for(;!this.J&&this.C<K.length;)if(_n=qT(this,K),_n==kd){vt==4&&(this.s=4,Oe(14),g=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==lg){this.s=4,Oe(15),wi(this.i,this.l,K,"[Invalid Chunk]"),g=!1;break}else wi(this.i,this.l,_n,null),Vd(this,_n);if(cg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||K.length!=0||this.h.h||(this.s=1,Oe(16),g=!1),this.o=this.o&&g,!g)wi(this.i,this.l,K,"[Invalid Chunked Response]"),Ms(this),Ho(this);else if(0<K.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Ud(yt),yt.M=!0,Oe(11))}}else wi(this.i,this.l,K,null),Vd(this,K);vt==4&&Ms(this),this.o&&!this.J&&(vt==4?Mg(this.j,this):(this.o=!1,Pl(this)))}else uS(this.g),g==400&&0<K.indexOf("Unknown SID")?(this.s=3,Oe(12)):(this.s=0,Oe(13)),Ms(this),Ho(this)}}}catch{}finally{}};function cg(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function qT(a,d){var g=a.C,A=d.indexOf(`
`,g);return A==-1?kd:(g=Number(d.substring(g,A)),isNaN(g)?lg:(A+=1,A+g>d.length?kd:(d=d.slice(A,A+g),a.C=A+g,d)))}Dr.prototype.cancel=function(){this.J=!0,Ms(this)};function Pl(a){a.S=Date.now()+a.I,dg(a,a.I)}function dg(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=lt(p(a.ba,a),d)}function Dd(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Dr.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(HT(this.i,this.A),this.L!=2&&(at(),Oe(17)),Ms(this),this.s=2,Ho(this)):dg(this,this.S-a)};function Ho(a){a.j.G==0||a.J||Mg(a.j,a)}function Ms(a){Dd(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,or(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Vd(a,d){try{var g=a.j;if(g.G!=0&&(g.g==a||Od(g.h,a))){if(!a.K&&Od(g.h,a)&&g.G==3){try{var A=g.Da.g.parse(d)}catch{A=null}if(Array.isArray(A)&&A.length==3){var O=A;if(O[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<a.F)jl(g),Ll(g);else break e;Fd(g),Oe(18)}}else g.za=O[1],0<g.za-g.T&&37500>O[2]&&g.F&&g.v==0&&!g.C&&(g.C=lt(p(g.Za,g),6e3));if(1>=pg(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Fs(g,11)}else if((a.K||g.g==a)&&jl(g),!y(d))for(O=g.Da.g.parse(d),d=0;d<O.length;d++){let we=O[d];if(g.T=we[0],we=we[1],g.G==2)if(we[0]=="c"){g.K=we[1],g.ia=we[2];const yt=we[3];yt!=null&&(g.la=yt,g.j.info("VER="+g.la));const vt=we[4];vt!=null&&(g.Aa=vt,g.j.info("SVER="+g.Aa));const xi=we[5];xi!=null&&typeof xi=="number"&&0<xi&&(A=1.5*xi,g.L=A,g.j.info("backChannelRequestTimeoutMs_="+A)),A=g;const _n=a.g;if(_n){const Ul=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ul){var M=A.h;M.g||Ul.indexOf("spdy")==-1&&Ul.indexOf("quic")==-1&&Ul.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Ld(M,M.h),M.h=null))}if(A.D){const zd=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;zd&&(A.ya=zd,Pe(A.I,A.D,zd))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-a.F,g.j.info("Handshake RTT: "+g.R+"ms")),A=g;var K=a;if(A.qa=Ug(A,A.J?A.ia:null,A.W),K.K){mg(A.h,K);var Ae=K,ut=A.L;ut&&(Ae.I=ut),Ae.B&&(Dd(Ae),Pl(Ae)),A.g=K}else Og(A);0<g.i.length&&Ml(g)}else we[0]!="stop"&&we[0]!="close"||Fs(g,7);else g.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?Fs(g,7):jd(g):we[0]!="noop"&&g.l&&g.l.ta(we),g.v=0)}}at(4)}catch{}}var QT=class{constructor(a,d){this.g=a,this.map=d}};function hg(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fg(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function pg(a){return a.h?1:a.g?a.g.size:0}function Od(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Ld(a,d){a.g?a.g.add(d):a.h=d}function mg(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}hg.prototype.cancel=function(){if(this.i=gg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function gg(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const g of a.g.values())d=d.concat(g.D);return d}return w(a.i)}function KT(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],g=a.length,A=0;A<g;A++)d.push(a[A]);return d}d=[],g=0;for(A in a)d[g++]=a[A];return d}function GT(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var g=0;g<a;g++)d.push(g);return d}d=[],g=0;for(const A in a)d[g++]=A;return d}}}function yg(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var g=GT(a),A=KT(a),O=A.length,M=0;M<O;M++)d.call(void 0,A[M],g&&g[M],a)}var vg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YT(a,d){if(a){a=a.split("&");for(var g=0;g<a.length;g++){var A=a[g].indexOf("="),O=null;if(0<=A){var M=a[g].substring(0,A);O=a[g].substring(A+1)}else M=a[g];d(M,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function js(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof js){this.h=a.h,Rl(this,a.j),this.o=a.o,this.g=a.g,kl(this,a.s),this.l=a.l;var d=a.i,g=new Qo;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),wg(this,g),this.m=a.m}else a&&(d=String(a).match(vg))?(this.h=!1,Rl(this,d[1]||"",!0),this.o=Wo(d[2]||""),this.g=Wo(d[3]||"",!0),kl(this,d[4]),this.l=Wo(d[5]||"",!0),wg(this,d[6]||"",!0),this.m=Wo(d[7]||"")):(this.h=!1,this.i=new Qo(null,this.h))}js.prototype.toString=function(){var a=[],d=this.j;d&&a.push(qo(d,_g,!0),":");var g=this.g;return(g||d=="file")&&(a.push("//"),(d=this.o)&&a.push(qo(d,_g,!0),"@"),a.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&a.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&a.push("/"),a.push(qo(g,g.charAt(0)=="/"?ZT:JT,!0))),(g=this.i.toString())&&a.push("?",g),(g=this.m)&&a.push("#",qo(g,tS)),a.join("")};function lr(a){return new js(a)}function Rl(a,d,g){a.j=g?Wo(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function kl(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function wg(a,d,g){d instanceof Qo?(a.i=d,nS(a.i,a.h)):(g||(d=qo(d,eS)),a.i=new Qo(d,a.h))}function Pe(a,d,g){a.i.set(d,g)}function Nl(a){return Pe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Wo(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function qo(a,d,g){return typeof a=="string"?(a=encodeURI(a).replace(d,XT),g&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function XT(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var _g=/[#\/\?@]/g,JT=/[#\?:]/g,ZT=/[#\?]/g,eS=/[#\?@]/g,tS=/#/g;function Qo(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Vr(a){a.g||(a.g=new Map,a.h=0,a.i&&YT(a.i,function(d,g){a.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}t=Qo.prototype,t.add=function(a,d){Vr(this),this.i=null,a=_i(this,a);var g=this.g.get(a);return g||this.g.set(a,g=[]),g.push(d),this.h+=1,this};function Eg(a,d){Vr(a),d=_i(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function xg(a,d){return Vr(a),d=_i(a,d),a.g.has(d)}t.forEach=function(a,d){Vr(this),this.g.forEach(function(g,A){g.forEach(function(O){a.call(d,O,A,this)},this)},this)},t.na=function(){Vr(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let A=0;A<d.length;A++){const O=a[A];for(let M=0;M<O.length;M++)g.push(d[A])}return g},t.V=function(a){Vr(this);let d=[];if(typeof a=="string")xg(this,a)&&(d=d.concat(this.g.get(_i(this,a))));else{a=Array.from(this.g.values());for(let g=0;g<a.length;g++)d=d.concat(a[g])}return d},t.set=function(a,d){return Vr(this),this.i=null,a=_i(this,a),xg(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Tg(a,d,g){Eg(a,d),0<g.length&&(a.i=null,a.g.set(_i(a,d),w(g)),a.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var A=d[g];const M=encodeURIComponent(String(A)),K=this.V(A);for(A=0;A<K.length;A++){var O=M;K[A]!==""&&(O+="="+encodeURIComponent(String(K[A]))),a.push(O)}}return this.i=a.join("&")};function _i(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function nS(a,d){d&&!a.j&&(Vr(a),a.i=null,a.g.forEach(function(g,A){var O=A.toLowerCase();A!=O&&(Eg(this,A),Tg(this,O,g))},a)),a.j=d}function rS(a,d){const g=new jt;if(l.Image){const A=new Image;A.onload=m(Or,g,"TestLoadImage: loaded",!0,d,A),A.onerror=m(Or,g,"TestLoadImage: error",!1,d,A),A.onabort=m(Or,g,"TestLoadImage: abort",!1,d,A),A.ontimeout=m(Or,g,"TestLoadImage: timeout",!1,d,A),l.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=a}else d(!1)}function sS(a,d){const g=new jt,A=new AbortController,O=setTimeout(()=>{A.abort(),Or(g,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:A.signal}).then(M=>{clearTimeout(O),M.ok?Or(g,"TestPingServer: ok",!0,d):Or(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),Or(g,"TestPingServer: error",!1,d)})}function Or(a,d,g,A,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),A(g)}catch{}}function iS(){this.g=new Pd}function oS(a,d,g){const A=g||"";try{yg(a,function(O,M){let K=O;c(O)&&(K=vi(O)),d.push(A+M+"="+encodeURIComponent(K))})}catch(O){throw d.push(A+"type="+encodeURIComponent("_badmap")),O}}function Dl(a){this.l=a.Ub||null,this.j=a.eb||!1}S(Dl,zo),Dl.prototype.g=function(){return new Vl(this.l,this.j)},Dl.prototype.i=function(a){return function(){return a}}({});function Vl(a,d){Te.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Vl,Te),t=Vl.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Go(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ko(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Go(this)),this.g&&(this.readyState=3,Go(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sg(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sg(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Ko(this):Go(this),this.readyState==3&&Sg(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Ko(this))},t.Qa=function(a){this.g&&(this.response=a,Ko(this))},t.ga=function(){this.g&&Ko(this)};function Ko(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Go(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,a.push(g[0]+": "+g[1]),g=d.next();return a.join(`\r
`)};function Go(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Vl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Cg(a){let d="";return L(a,function(g,A){d+=A,d+=":",d+=g,d+=`\r
`}),d}function Md(a,d,g){e:{for(A in g){var A=!1;break e}A=!0}A||(g=Cg(g),typeof a=="string"?g!=null&&encodeURIComponent(String(g)):Pe(a,d,g))}function $e(a){Te.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S($e,Te);var aS=/^https?$/i,lS=["POST","PUT"];t=$e.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,g,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rd.g(),this.v=this.o?$o(this.o):$o(Rd),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(M){Ag(this,M);return}if(a=g||"",g=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var O in A)g.set(O,A[O]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const M of A.keys())g.set(M,A.get(M));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(g.keys()).find(M=>M.toLowerCase()=="content-type"),O=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(lS,d,void 0))||A||O||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,K]of g)this.g.setRequestHeader(M,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pg(this),this.u=!0,this.g.send(a),this.u=!1}catch(M){Ag(this,M)}};function Ag(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,bg(a),Ol(a)}function bg(a){a.A||(a.A=!0,ze(a,"complete"),ze(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ze(this,"complete"),ze(this,"abort"),Ol(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ol(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ig(this):this.bb())},t.bb=function(){Ig(this)};function Ig(a){if(a.h&&typeof o<"u"&&(!a.v[1]||ur(a)!=4||a.Z()!=2)){if(a.u&&ur(a)==4)Al(a.Ea,0,a);else if(ze(a,"readystatechange"),ur(a)==4){a.h=!1;try{const K=a.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var A;if(A=K===0){var O=String(a.D).match(vg)[1]||null;!O&&l.self&&l.self.location&&(O=l.self.location.protocol.slice(0,-1)),A=!aS.test(O?O.toLowerCase():"")}g=A}if(g)ze(a,"complete"),ze(a,"success");else{a.m=6;try{var M=2<ur(a)?a.g.statusText:""}catch{M=""}a.l=M+" ["+a.Z()+"]",bg(a)}}finally{Ol(a)}}}}function Ol(a,d){if(a.g){Pg(a);const g=a.g,A=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ze(a,"ready");try{g.onreadystatechange=A}catch{}}}function Pg(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function ur(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<ur(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),Nr(d)}};function Rg(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function uS(a){const d={};a=(a.g&&2<=ur(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<a.length;A++){if(y(a[A]))continue;var g=k(a[A]);const O=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const M=d[O]||[];d[O]=M,M.push(g)}C(d,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yo(a,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[a]||d}function kg(a){this.Aa=0,this.i=[],this.j=new jt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yo("baseRetryDelayMs",5e3,a),this.cb=Yo("retryDelaySeedMs",1e4,a),this.Wa=Yo("forwardChannelMaxRetries",2,a),this.wa=Yo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new hg(a&&a.concurrentRequestLimit),this.Da=new iS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=kg.prototype,t.la=8,t.G=1,t.connect=function(a,d,g,A){Oe(0),this.W=a,this.H=d||{},g&&A!==void 0&&(this.H.OSID=g,this.H.OAID=A),this.F=this.X,this.I=Ug(this,null,this.W),Ml(this)};function jd(a){if(Ng(a),a.G==3){var d=a.U++,g=lr(a.I);if(Pe(g,"SID",a.K),Pe(g,"RID",d),Pe(g,"TYPE","terminate"),Xo(a,g),d=new Dr(a,a.j,d),d.L=2,d.v=Nl(lr(g)),g=!1,l.navigator&&l.navigator.sendBeacon)try{g=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&l.Image&&(new Image().src=d.v,g=!0),g||(d.g=zg(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Pl(d)}Fg(a)}function Ll(a){a.g&&(Ud(a),a.g.cancel(),a.g=null)}function Ng(a){Ll(a),a.u&&(l.clearTimeout(a.u),a.u=null),jl(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Ml(a){if(!fg(a.h)&&!a.s){a.s=!0;var d=a.Ga;$||W(),j||($(),j=!0),U.add(d,a),a.B=0}}function cS(a,d){return pg(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=lt(p(a.Ga,a,d),jg(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const O=new Dr(this,this.j,a);let M=this.o;if(this.S&&(M?(M=_(M),I(M,this.S)):M=this.S),this.m!==null||this.O||(O.H=M,M=null),this.P)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var A=this.i[g];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(d+=A,4096<d){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=Vg(this,O,d),g=lr(this.I),Pe(g,"RID",a),Pe(g,"CVER",22),this.D&&Pe(g,"X-HTTP-Session-Id",this.D),Xo(this,g),M&&(this.O?d="headers="+encodeURIComponent(String(Cg(M)))+"&"+d:this.m&&Md(g,this.m,M)),Ld(this.h,O),this.Ua&&Pe(g,"TYPE","init"),this.P?(Pe(g,"$req",d),Pe(g,"SID","null"),O.T=!0,Nd(O,g,null)):Nd(O,g,d),this.G=2}}else this.G==3&&(a?Dg(this,a):this.i.length==0||fg(this.h)||Dg(this))};function Dg(a,d){var g;d?g=d.l:g=a.U++;const A=lr(a.I);Pe(A,"SID",a.K),Pe(A,"RID",g),Pe(A,"AID",a.T),Xo(a,A),a.m&&a.o&&Md(A,a.m,a.o),g=new Dr(a,a.j,g,a.B+1),a.m===null&&(g.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Vg(a,g,1e3),g.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Ld(a.h,g),Nd(g,A,d)}function Xo(a,d){a.H&&L(a.H,function(g,A){Pe(d,A,g)}),a.l&&yg({},function(g,A){Pe(d,A,g)})}function Vg(a,d,g){g=Math.min(a.i.length,g);var A=a.l?p(a.l.Na,a.l,a):null;e:{var O=a.i;let M=-1;for(;;){const K=["count="+g];M==-1?0<g?(M=O[0].g,K.push("ofs="+M)):M=0:K.push("ofs="+M);let Ae=!0;for(let ut=0;ut<g;ut++){let we=O[ut].g;const yt=O[ut].map;if(we-=M,0>we)M=Math.max(0,O[ut].g-100),Ae=!1;else try{oS(yt,K,"req"+we+"_")}catch{A&&A(yt)}}if(Ae){A=K.join("&");break e}}}return a=a.i.splice(0,g),d.D=a,A}function Og(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;$||W(),j||($(),j=!0),U.add(d,a),a.v=0}}function Fd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=lt(p(a.Fa,a),jg(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Lg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=lt(p(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Oe(10),Ll(this),Lg(this))};function Ud(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Lg(a){a.g=new Dr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=lr(a.qa);Pe(d,"RID","rpc"),Pe(d,"SID",a.K),Pe(d,"AID",a.T),Pe(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Pe(d,"TO",a.ja),Pe(d,"TYPE","xmlhttp"),Xo(a,d),a.m&&a.o&&Md(d,a.m,a.o),a.L&&(a.g.I=a.L);var g=a.g;a=a.ia,g.L=1,g.v=Nl(lr(d)),g.m=null,g.P=!0,ug(g,a)}t.Za=function(){this.C!=null&&(this.C=null,Ll(this),Fd(this),Oe(19))};function jl(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Mg(a,d){var g=null;if(a.g==d){jl(a),Ud(a),a.g=null;var A=2}else if(Od(a.h,d))g=d.D,mg(a.h,d),A=1;else return;if(a.G!=0){if(d.o)if(A==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var O=a.B;A=ye(),ze(A,new Fn(A,g)),Ml(a)}else Og(a);else if(O=d.s,O==3||O==0&&0<d.X||!(A==1&&cS(a,d)||A==2&&Fd(a)))switch(g&&0<g.length&&(d=a.h,d.i=d.i.concat(g)),O){case 1:Fs(a,5);break;case 4:Fs(a,10);break;case 3:Fs(a,6);break;default:Fs(a,2)}}}function jg(a,d){let g=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(g*=2),g*d}function Fs(a,d){if(a.j.info("Error code "+d),d==2){var g=p(a.fb,a),A=a.Xa;const O=!A;A=new js(A||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Rl(A,"https"),Nl(A),O?rS(A.toString(),g):sS(A.toString(),g)}else Oe(2);a.G=0,a.l&&a.l.sa(d),Fg(a),Ng(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))};function Fg(a){if(a.G=0,a.ka=[],a.l){const d=gg(a.h);(d.length!=0||a.i.length!=0)&&(x(a.ka,d),x(a.ka,a.i),a.h.i.length=0,w(a.i),a.i.length=0),a.l.ra()}}function Ug(a,d,g){var A=g instanceof js?lr(g):new js(g);if(A.g!="")d&&(A.g=d+"."+A.g),kl(A,A.s);else{var O=l.location;A=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var M=new js(null);A&&Rl(M,A),d&&(M.g=d),O&&kl(M,O),g&&(M.l=g),A=M}return g=a.D,d=a.ya,g&&d&&Pe(A,g,d),Pe(A,"VER",a.la),Xo(a,A),A}function zg(a,d,g){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new $e(new Dl({eb:g})):new $e(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $g(){}t=$g.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fl(){}Fl.prototype.g=function(a,d){return new Gt(a,d)};function Gt(a,d){Te.call(this),this.g=new kg(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!y(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!y(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Ei(this)}S(Gt,Te),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){jd(this.g)},Gt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var g={};g.__data__=a,a=g}else this.u&&(g={},g.__data__=vi(a),a=g);d.i.push(new QT(d.Ya++,a)),d.G==3&&Ml(d)},Gt.prototype.N=function(){this.g.l=null,delete this.j,jd(this.g),delete this.g,Gt.aa.N.call(this)};function Bg(a){Ls.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const g in d){a=g;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}S(Bg,Ls);function Hg(){cn.call(this),this.status=1}S(Hg,cn);function Ei(a){this.g=a}S(Ei,$g),Ei.prototype.ua=function(){ze(this.g,"a")},Ei.prototype.ta=function(a){ze(this.g,new Bg(a))},Ei.prototype.sa=function(a){ze(this.g,new Hg)},Ei.prototype.ra=function(){ze(this.g,"b")},Fl.prototype.createWebChannel=Fl.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,wx=function(){return new Fl},vx=function(){return ye()},yx=ar,Gf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bl.NO_ERROR=0,bl.TIMEOUT=8,bl.HTTP_ERROR=6,Nu=bl,og.COMPLETE="complete",gx=og,Bo.EventType=Os,Os.OPEN="a",Os.CLOSE="b",Os.ERROR="c",Os.MESSAGE="d",Te.prototype.listen=Te.prototype.K,ha=Bo,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,mx=$e}).apply(typeof cu<"u"?cu:typeof self<"u"?self:typeof window<"u"?window:{});const Jv="@firebase/firestore",Zv="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new lx("@firebase/firestore");function Ci(){return li.logLevel}function G(t,...e){if(li.logLevel<=ge.DEBUG){const n=e.map(Pm);li.debug(`Firestore (${Oo}): ${t}`,...n)}}function Cr(t,...e){if(li.logLevel<=ge.ERROR){const n=e.map(Pm);li.error(`Firestore (${Oo}): ${t}`,...n)}}function ws(t,...e){if(li.logLevel<=ge.WARN){const n=e.map(Pm);li.warn(`Firestore (${Oo}): ${t}`,...n)}}function Pm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,_x(t,r,n)}function _x(t,e,n){let r=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Cr(r),new Error(r)}function xe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||_x(e,s,r)}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Vo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class mD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gD{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new cs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new cs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string",31837,{l:r}),new Ex(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string",2055,{h:e}),new St(e)}}class yD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=St.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new yD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ew{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,XN(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xe(this.o===void 0,3512);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ew(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ew(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=_D(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ce(t,e){return t<e?-1:t>e?1:0}function Yf(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ce(r,s);{const i=xx(),o=ED(i.encode(tw(t,n)),i.encode(tw(e,n)));return o!==0?o:ce(r,s)}}n+=r>65535?2:1}return ce(t.length,e.length)}function tw(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function ED(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ce(t[n],e[n]);return ce(t.length,e.length)}function Eo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="__name__";class $n{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $n.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $n?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=$n.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ce(e.length,n.length)}static compareSegments(e,n){const r=$n.isNumericId(e),s=$n.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?$n.extractNumericId(e).compare($n.extractNumericId(n)):Yf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class Ne extends $n{construct(e,n,r){return new Ne(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const xD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends $n{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return xD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nw}static keyField(){return new ft([nw])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new J(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new J(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new J(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new J(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Ne.fromString(e))}static fromName(e){return new te(Ne.fromString(e).popFirst(5))}static empty(){return new te(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Ne(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t,e,n){if(!n)throw new J(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TD(t,e,n,r){if(e===!0&&r===!0)throw new J(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rw(t){if(!te.isDocumentKey(t))throw new J(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sw(t){if(te.isDocumentKey(t))throw new J(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sx(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function km(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se(12329,{type:typeof t})}function ui(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=km(t);throw new J(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t,e){const n={typeString:t};return e&&(n.value=e),n}function vl(t,e){if(!Sx(t))throw new J(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new J(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=-62135596800,ow=1e6;class De{static now(){return De.fromMillis(Date.now())}static fromDate(e){return De.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ow);return new De(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<iw)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ow}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:De._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vl(e,De._jsonSchema))return new De(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-iw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}De._jsonSchemaVersion="firestore/timestamp/1.0",De._jsonSchema={type:Ge("string",De._jsonSchemaVersion),seconds:Ge("number"),nanoseconds:Ge("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{static fromTimestamp(e){return new oe(e)}static min(){return new oe(new De(0,0))}static max(){return new oe(new De(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=-1;function SD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=oe.fromTimestamp(r===1e9?new De(n+1,0):new De(n,r));return new _s(s,te.empty(),e)}function CD(t){return new _s(t.readTime,t.key,nl)}class _s{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _s(oe.min(),te.empty(),nl)}static max(){return new _s(oe.max(),te.empty(),nl)}}function AD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ID{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==bD)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++l,l===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function PD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}dd.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=-1;function hd(t){return t==null}function Ec(t){return t===0&&1/t==-1/0}function RD(t){return typeof t=="number"&&Number.isInteger(t)&&!Ec(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="";function kD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=aw(e)),e=ND(t.get(n),e);return aw(e)}function ND(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Cx:n+="";break;default:n+=i}}return n}function aw(t){return t+Cx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ps(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ax(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||dt.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new du(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new du(this.root,e,this.comparator,!1)}getReverseIterator(){return new du(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new du(this.root,e,this.comparator,!0)}}class du{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??dt.RED,this.left=s??dt.EMPTY,this.right=i??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new dt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return dt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uw(this.data.getIterator())}getIteratorFrom(e){return new uw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new et(this.comparator);return n.data=e,n}}class uw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new tn([])}unionWith(e){let n=new et(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new bx("Invalid base64 string: "+i):i}}(e);return new gt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const DD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(t){if(xe(!!t,39018),typeof t=="string"){let e=0;const n=DD.exec(t);if(xe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xs(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="server_timestamp",Px="__type__",Rx="__previous_value__",kx="__local_write_time__";function Dm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Px])===null||n===void 0?void 0:n.stringValue)===Ix}function fd(t){const e=t.mapValue.fields[Rx];return Dm(e)?fd(e):e}function rl(t){const e=Es(t.mapValue.fields[kx].timestampValue);return new De(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,r,s,i,o,l,u,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=h}}const xc="(default)";class sl{constructor(e,n){this.projectId=e,this.database=n||xc}static empty(){return new sl("","")}get isDefaultDatabase(){return this.database===xc}isEqual(e){return e instanceof sl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="__type__",OD="__max__",hu={mapValue:{}},Dx="__vector__",Tc="value";function Ts(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dm(t)?4:MD(t)?9007199254740991:LD(t)?10:11:se(28295,{value:t})}function nr(t,e){if(t===e)return!0;const n=Ts(t);if(n!==Ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rl(t).isEqual(rl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Es(s.timestampValue),l=Es(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return xs(s.bytesValue).isEqual(xs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return We(s.geoPointValue.latitude)===We(i.geoPointValue.latitude)&&We(s.geoPointValue.longitude)===We(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return We(s.integerValue)===We(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=We(s.doubleValue),l=We(i.doubleValue);return o===l?Ec(o)===Ec(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Eo(t.arrayValue.values||[],e.arrayValue.values||[],nr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(lw(o)!==lw(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!nr(o[u],l[u])))return!1;return!0}(t,e);default:return se(52216,{left:t})}}function il(t,e){return(t.values||[]).find(n=>nr(n,e))!==void 0}function xo(t,e){if(t===e)return 0;const n=Ts(t),r=Ts(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=We(i.integerValue||i.doubleValue),u=We(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return cw(t.timestampValue,e.timestampValue);case 4:return cw(rl(t),rl(e));case 5:return Yf(t.stringValue,e.stringValue);case 6:return function(i,o){const l=xs(i),u=xs(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const h=ce(l[c],u[c]);if(h!==0)return h}return ce(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=ce(We(i.latitude),We(o.latitude));return l!==0?l:ce(We(i.longitude),We(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return dw(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,u,c,h;const f=i.fields||{},p=o.fields||{},m=(l=f[Tc])===null||l===void 0?void 0:l.arrayValue,S=(u=p[Tc])===null||u===void 0?void 0:u.arrayValue,w=ce(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((h=S==null?void 0:S.values)===null||h===void 0?void 0:h.length)||0);return w!==0?w:dw(m,S)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===hu.mapValue&&o===hu.mapValue)return 0;if(i===hu.mapValue)return 1;if(o===hu.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const p=Yf(u[f],h[f]);if(p!==0)return p;const m=xo(l[u[f]],c[h[f]]);if(m!==0)return m}return ce(u.length,h.length)}(t.mapValue,e.mapValue);default:throw se(23264,{le:n})}}function cw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const n=Es(t),r=Es(e),s=ce(n.seconds,r.seconds);return s!==0?s:ce(n.nanos,r.nanos)}function dw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=xo(n[s],r[s]);if(i)return i}return ce(n.length,r.length)}function To(t){return Xf(t)}function Xf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Es(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Xf(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Xf(n.fields[o])}`;return s+"}"}(t.mapValue):se(61005,{value:t})}function Du(t){switch(Ts(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fd(t);return e?16+Du(e):16;case 5:return 2*t.stringValue.length;case 6:return xs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Du(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ps(r.fields,(i,o)=>{s+=i.length+Du(o)}),s}(t.mapValue);default:throw se(13486,{value:t})}}function Jf(t){return!!t&&"integerValue"in t}function Vm(t){return!!t&&"arrayValue"in t}function hw(t){return!!t&&"nullValue"in t}function fw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vu(t){return!!t&&"mapValue"in t}function LD(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Nx])===null||n===void 0?void 0:n.stringValue)===Dx}function Ia(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ps(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ia(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ia(t.arrayValue.values[n]);return e}return Object.assign({},t)}function MD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===OD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ia(n)}setAll(e){let n=ft.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Ia(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Vu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Vu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ps(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new $t(Ia(this.value))}}function Vx(t){const e=[];return Ps(t.fields,(n,r)=>{const s=new ft([n]);if(Vu(r)){const i=Vx(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new At(e,0,oe.min(),oe.min(),oe.min(),$t.empty(),0)}static newFoundDocument(e,n,r,s){return new At(e,1,n,oe.min(),r,s,0)}static newNoDocument(e,n){return new At(e,2,n,oe.min(),oe.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new At(e,3,n,oe.min(),oe.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof At&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new At(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n){this.position=e,this.inclusive=n}}function pw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=xo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function mw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!nr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n="asc"){this.field=e,this.dir=n}}function jD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{}class Je extends Ox{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new UD(e,n,r):n==="array-contains"?new BD(e,r):n==="in"?new HD(e,r):n==="not-in"?new WD(e,r):n==="array-contains-any"?new qD(e,r):new Je(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zD(e,r):new $D(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xo(n,this.value)):n!==null&&Ts(this.value)===Ts(n)&&this.matchesComparison(xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rr extends Ox{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new rr(e,n)}matches(e){return Lx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Lx(t){return t.op==="and"}function Mx(t){return FD(t)&&Lx(t)}function FD(t){for(const e of t.filters)if(e instanceof rr)return!1;return!0}function Zf(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+To(t.value);if(Mx(t))return t.filters.map(e=>Zf(e)).join(",");{const e=t.filters.map(n=>Zf(n)).join(",");return`${t.op}(${e})`}}function jx(t,e){return t instanceof Je?function(r,s){return s instanceof Je&&r.op===s.op&&r.field.isEqual(s.field)&&nr(r.value,s.value)}(t,e):t instanceof rr?function(r,s){return s instanceof rr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&jx(o,s.filters[l]),!0):!1}(t,e):void se(19439)}function Fx(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`}(t):t instanceof rr?function(n){return n.op.toString()+" {"+n.getFilters().map(Fx).join(" ,")+"}"}(t):"Filter"}class UD extends Je{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class zD extends Je{constructor(e,n){super(e,"in",n),this.keys=Ux("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $D extends Je{constructor(e,n){super(e,"not-in",n),this.keys=Ux("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ux(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class BD extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vm(n)&&il(n.arrayValue,this.value)}}class HD extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&il(this.value.arrayValue,n)}}class WD extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!il(this.value.arrayValue,n)}}class qD extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>il(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Pe=null}}function gw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new QD(t,e,n,r,s,i,o)}function Om(t){const e=ae(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Zf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),hd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>To(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>To(r)).join(",")),e.Pe=n}return e.Pe}function Lm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mw(t.startAt,e.startAt)&&mw(t.endAt,e.endAt)}function ep(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function KD(t,e,n,r,s,i,o,l){return new pd(t,e,n,r,s,i,o,l)}function zx(t){return new pd(t)}function yw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function GD(t){return t.collectionGroup!==null}function Pa(t){const e=ae(t);if(e.Te===null){e.Te=[];const n=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new et(ft.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Te.push(new Cc(i,r))}),n.has(ft.keyField().canonicalString())||e.Te.push(new Cc(ft.keyField(),r))}return e.Te}function Xn(t){const e=ae(t);return e.Ie||(e.Ie=YD(e,Pa(t))),e.Ie}function YD(t,e){if(t.limitType==="F")return gw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Cc(s.field,i)});const n=t.endAt?new Sc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sc(t.startAt.position,t.startAt.inclusive):null;return gw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tp(t,e,n){return new pd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function md(t,e){return Lm(Xn(t),Xn(e))&&t.limitType===e.limitType}function $x(t){return`${Om(Xn(t))}|lt:${t.limitType}`}function Ai(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Fx(s)).join(", ")}]`),hd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>To(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>To(s)).join(",")),`Target(${r})`}(Xn(t))}; limitType=${t.limitType})`}function gd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Pa(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,u){const c=pw(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,Pa(r),s)||r.endAt&&!function(o,l,u){const c=pw(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,Pa(r),s))}(t,e)}function XD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Bx(t){return(e,n)=>{let r=!1;for(const s of Pa(t)){const i=JD(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function JD(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,o,l){const u=o.data.field(i),c=l.data.field(i);return u!==null&&c!==null?xo(u,c):se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ps(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Ax(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=new Ue(te.comparator);function Ar(){return ZD}const Hx=new Ue(te.comparator);function fa(...t){let e=Hx;for(const n of t)e=e.insert(n.key,n);return e}function Wx(t){let e=Hx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qs(){return Ra()}function qx(){return Ra()}function Ra(){return new fi(t=>t.toString(),(t,e)=>t.isEqual(e))}const e4=new Ue(te.comparator),t4=new et(te.comparator);function fe(...t){let e=t4;for(const n of t)e=e.add(n);return e}const n4=new et(ce);function r4(){return n4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ec(e)?"-0":e}}function Qx(t){return{integerValue:""+t}}function s4(t,e){return RD(e)?Qx(e):Mm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this._=void 0}}function i4(t,e,n){return t instanceof Ac?function(s,i){const o={fields:{[Px]:{stringValue:Ix},[kx]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Dm(i)&&(i=fd(i)),i&&(o.fields[Rx]=i),{mapValue:o}}(n,e):t instanceof ol?Gx(t,e):t instanceof al?Yx(t,e):function(s,i){const o=Kx(s,i),l=vw(o)+vw(s.Ee);return Jf(o)&&Jf(s.Ee)?Qx(l):Mm(s.serializer,l)}(t,e)}function o4(t,e,n){return t instanceof ol?Gx(t,e):t instanceof al?Yx(t,e):n}function Kx(t,e){return t instanceof bc?function(r){return Jf(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ac extends yd{}class ol extends yd{constructor(e){super(),this.elements=e}}function Gx(t,e){const n=Xx(e);for(const r of t.elements)n.some(s=>nr(s,r))||n.push(r);return{arrayValue:{values:n}}}class al extends yd{constructor(e){super(),this.elements=e}}function Yx(t,e){let n=Xx(e);for(const r of t.elements)n=n.filter(s=>!nr(s,r));return{arrayValue:{values:n}}}class bc extends yd{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function vw(t){return We(t.integerValue||t.doubleValue)}function Xx(t){return Vm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function a4(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ol&&s instanceof ol||r instanceof al&&s instanceof al?Eo(r.elements,s.elements,nr):r instanceof bc&&s instanceof bc?nr(r.Ee,s.Ee):r instanceof Ac&&s instanceof Ac}(t.transform,e.transform)}class l4{constructor(e,n){this.version=e,this.transformResults=n}}class Nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nn}static exists(e){return new Nn(void 0,e)}static updateTime(e){return new Nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ou(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vd{}function Jx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jm(t.key,Nn.none()):new wl(t.key,t.data,Nn.none());{const n=t.data,r=$t.empty();let s=new et(ft.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Rs(t.key,r,new tn(s.toArray()),Nn.none())}}function u4(t,e,n){t instanceof wl?function(s,i,o){const l=s.value.clone(),u=_w(s.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Rs?function(s,i,o){if(!Ou(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=_w(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(Zx(s)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ka(t,e,n,r){return t instanceof wl?function(i,o,l,u){if(!Ou(i.precondition,o))return l;const c=i.value.clone(),h=Ew(i.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Rs?function(i,o,l,u){if(!Ou(i.precondition,o))return l;const c=Ew(i.fieldTransforms,u,o),h=o.data;return h.setAll(Zx(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return Ou(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function c4(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Kx(r.transform,s||null);i!=null&&(n===null&&(n=$t.empty()),n.set(r.field,i))}return n||null}function ww(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Eo(r,s,(i,o)=>a4(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wl extends vd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Rs extends vd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Zx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _w(t,e,n){const r=new Map;xe(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,o4(o,l,n[s]))}return r}function Ew(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,i4(i,o,e))}return r}class jm extends vd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d4 extends vd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&u4(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ka(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ka(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qx();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const u=Jx(o,l);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,(n,r)=>ww(n,r))&&Eo(this.baseMutations,e.baseMutations,(n,r)=>ww(n,r))}}class Fm{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){xe(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return e4}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Fm(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,me;function m4(t){switch(t){case B.OK:return se(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return se(15467,{code:t})}}function eT(t){if(t===void 0)return Cr("GRPC error has no .code"),B.UNKNOWN;switch(t){case Qe.OK:return B.OK;case Qe.CANCELLED:return B.CANCELLED;case Qe.UNKNOWN:return B.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return B.INTERNAL;case Qe.UNAVAILABLE:return B.UNAVAILABLE;case Qe.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Qe.NOT_FOUND:return B.NOT_FOUND;case Qe.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Qe.ABORTED:return B.ABORTED;case Qe.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Qe.DATA_LOSS:return B.DATA_LOSS;default:return se(39323,{code:t})}}(me=Qe||(Qe={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=new us([4294967295,4294967295],0);function xw(t){const e=xx().encode(t),n=new px;return n.update(e),new Uint8Array(n.digest())}function Tw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new us([n,r],0),new us([s,i],0)]}class Um{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new pa(`Invalid padding: ${n}`);if(r<0)throw new pa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new pa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new pa(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=us.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(us.fromNumber(r)));return s.compare(g4)===1&&(s=new us([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=xw(e),[r,s]=Tw(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);if(!this.ye(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Um(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.fe===0)return;const n=xw(e),[r,s]=Tw(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class pa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,_l.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wd(oe.min(),s,new Ue(ce),Ar(),fe())}}class _l{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _l(r,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class tT{constructor(e,n){this.targetId=e,this.De=n}}class nT{constructor(e,n,r=gt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Sw{constructor(){this.ve=0,this.Ce=Cw(),this.Fe=gt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=fe(),n=fe(),r=fe();return this.Ce.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:se(38017,{changeType:i})}}),new _l(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=Cw()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,xe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class y4{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ar(),this.je=fu(),this.Je=fu(),this.He=new Ue(ce)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const i=s.target;if(ep(i))if(r===0){const o=new te(i.path);this.Xe(n,o,At.newNoDocument(o,oe.min()))}else xe(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const l=this._t(e),u=l?this.ut(l,e,o):1;if(u!==0){this.rt(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=xs(r).toUint8Array()}catch(u){if(u instanceof bx)return ws("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Um(o,s,i)}catch(u){return ws(u instanceof pa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.fe===0?null:l}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.We.lt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Xe(n,i,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((i,o)=>{const l=this.st(o);if(l){if(i.current&&ep(l.target)){const u=new te(l.target.path);this.Tt(u).has(o)||this.It(o,u)||this.Xe(o,u,At.newNoDocument(u,e))}i.Ne&&(n.set(o,i.Le()),i.ke())}});let r=fe();this.Je.forEach((i,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.st(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ze.forEach((i,o)=>o.setReadTime(e));const s=new wd(e,n,this.He,this.ze,r);return this.ze=Ar(),this.je=fu(),this.Je=fu(),this.He=new Ue(ce),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Sw,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new et(ce),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new et(ce),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Sw),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function fu(){return new Ue(te.comparator)}function Cw(){return new Ue(te.comparator)}const v4={asc:"ASCENDING",desc:"DESCENDING"},w4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_4={and:"AND",or:"OR"};class E4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function np(t,e){return t.useProto3Json||hd(e)?e:{value:e}}function Ic(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function x4(t,e){return Ic(t,e.toTimestamp())}function Jn(t){return xe(!!t,49232),oe.fromTimestamp(function(n){const r=Es(n);return new De(r.seconds,r.nanos)}(t))}function zm(t,e){return rp(t,e).canonicalString()}function rp(t,e){const n=function(s){return new Ne(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sT(t){const e=Ne.fromString(t);return xe(uT(e),10190,{key:e.toString()}),e}function sp(t,e){return zm(t.databaseId,e.path)}function bh(t,e){const n=sT(e);if(n.get(1)!==t.databaseId.projectId)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(oT(n))}function iT(t,e){return zm(t.databaseId,e)}function T4(t){const e=sT(t);return e.length===4?Ne.emptyPath():oT(e)}function ip(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oT(t){return xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Aw(t,e,n){return{name:sp(t,e),fields:n.value.mapValue.fields}}function S4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:se(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(xe(h===void 0||typeof h=="string",58123),gt.fromBase64String(h||"")):(xe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),gt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const h=c.code===void 0?B.UNKNOWN:eT(c.code);return new J(h,c.message||"")}(o);n=new nT(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=bh(t,r.document.name),i=Jn(r.document.updateTime),o=r.document.createTime?Jn(r.document.createTime):oe.min(),l=new $t({mapValue:{fields:r.document.fields}}),u=At.newFoundDocument(s,i,o,l),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Lu(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=bh(t,r.document),i=r.readTime?Jn(r.readTime):oe.min(),o=At.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Lu([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=bh(t,r.document),i=r.removedTargetIds||[];n=new Lu([],i,s,null)}else{if(!("filter"in e))return se(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new p4(s,i),l=r.targetId;n=new tT(l,o)}}return n}function C4(t,e){let n;if(e instanceof wl)n={update:Aw(t,e.key,e.value)};else if(e instanceof jm)n={delete:sp(t,e.key)};else if(e instanceof Rs)n={update:Aw(t,e.key,e.data),updateMask:V4(e.fieldMask)};else{if(!(e instanceof d4))return se(16599,{Rt:e.type});n={verify:sp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof Ac)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ol)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof al)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof bc)return{fieldPath:o.field.canonicalString(),increment:l.Ee};throw se(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:x4(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:se(27497)}(t,e.precondition)),n}function A4(t,e){return t&&t.length>0?(xe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Jn(s.updateTime):Jn(i);return o.isEqual(oe.min())&&(o=Jn(i)),new l4(o,s.transformResults||[])}(n,e))):[]}function b4(t,e){return{documents:[iT(t,e.path)]}}function I4(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iT(t,s);const i=function(c){if(c.length!==0)return lT(rr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:bi(p.field),direction:k4(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=np(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:s}}function P4(t){let e=T4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){xe(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=aT(f);return p instanceof rr&&Mx(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(S){return new Cc(Ii(S.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(f){let p;return p=typeof f=="object"?f.value:f,hd(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,m=f.values||[];return new Sc(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,m=f.values||[];return new Sc(m,p)}(n.endAt)),KD(e,s,o,i,l,"F",u,c)}function R4(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ii(n.unaryFilter.field);return Je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ii(n.unaryFilter.field);return Je.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ii(n.unaryFilter.field);return Je.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ii(n.unaryFilter.field);return Je.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(t):t.fieldFilter!==void 0?function(n){return Je.create(Ii(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return rr.create(n.compositeFilter.filters.map(r=>aT(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(n.compositeFilter.op))}(t):se(30097,{filter:t})}function k4(t){return v4[t]}function N4(t){return w4[t]}function D4(t){return _4[t]}function bi(t){return{fieldPath:t.canonicalString()}}function Ii(t){return ft.fromServerFormat(t.fieldPath)}function lT(t){return t instanceof Je?function(n){if(n.op==="=="){if(fw(n.value))return{unaryFilter:{field:bi(n.field),op:"IS_NAN"}};if(hw(n.value))return{unaryFilter:{field:bi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fw(n.value))return{unaryFilter:{field:bi(n.field),op:"IS_NOT_NAN"}};if(hw(n.value))return{unaryFilter:{field:bi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bi(n.field),op:N4(n.op),value:n.value}}}(t):t instanceof rr?function(n){const r=n.getFilters().map(s=>lT(s));return r.length===1?r[0]:{compositeFilter:{op:D4(n.op),filters:r}}}(t):se(54877,{filter:t})}function V4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,r,s,i=oe.min(),o=oe.min(),l=gt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.gt=e}}function L4(t){const e=P4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(){this.Dn=new j4}addToCollectionParentIndex(e,n){return this.Dn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(_s.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class j4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new et(Ne.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new et(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cT=41943040;class Ut{static withCacheSize(e){return new Ut(e,Ut.DEFAULT_COLLECTION_PERCENTILE,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ut.DEFAULT_COLLECTION_PERCENTILE=10,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ut.DEFAULT=new Ut(cT,Ut.DEFAULT_COLLECTION_PERCENTILE,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ut.DISABLED=new Ut(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new So(0)}static ur(){return new So(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="LruGarbageCollector",F4=1048576;function Pw([t,e],[n,r]){const s=ce(t,n);return s===0?ce(e,r):s}class U4{constructor(e){this.Tr=e,this.buffer=new et(Pw),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Pw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class z4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){G(Iw,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?G(Iw,"Ignoring IndexedDB error during garbage collection: ",n):await Lo(n)}await this.Rr(3e5)})}}class $4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(dd.ue);const r=new U4(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(bw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bw):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,i,o,l,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Ci()<=ge.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function B4(t,e){return new $4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(){this.changes=new fi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,At.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ka(r.mutation,s,tn.empty(),De.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const s=Qs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=fa();return i.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Qs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=Ar();const o=Ra(),l=function(){return Ra()}();return n.forEach((u,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Rs)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),ka(h.mutation,c,h.mutation.getFieldMask(),De.now())):o.set(c.key,tn.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return l.set(c,new W4(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Ra();let s=new Ue((o,l)=>o-l),i=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||tn.empty();h=l.applyToLocalView(c,h),r.set(u,h);const f=(s.get(l.batchId)||fe()).add(u);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,h=u.value,f=qx();h.forEach(p=>{if(!i.has(p)){const m=Jx(n.get(p),r.get(p));m!==null&&f.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(Qs());let l=nl,u=i;return o.next(c=>z.forEach(c,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,fe())).next(h=>({batchId:l,changes:Wx(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let s=fa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=fa();return this.indexManager.getCollectionParents(e,i).next(l=>z.forEach(l,u=>{const c=function(f,p){return new pd(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,At.newInvalidDocument(h)))});let l=fa();return o.forEach((u,c)=>{const h=i.get(u);h!==void 0&&ka(h.mutation,c,tn.empty(),De.now()),gd(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return z.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Jn(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:L4(s.bundledQuery),readTime:Jn(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.overlays=new Ue(te.comparator),this.kr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qs();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.wt(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.kr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=Qs(),i=n.length+1,o=new te(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ue((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=Qs(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const l=Qs(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>l.set(c,h)),!(l.size()>=s)););return z.resolve(l)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new f4(n,r));let i=this.kr.get(n);i===void 0&&(i=fe(),this.kr.set(n,i)),this.kr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(){this.qr=new et(nt.Qr),this.$r=new et(nt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new nt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new nt(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new te(new Ne([])),r=new nt(n,e),s=new nt(n,e+1),i=[];return this.$r.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new te(new Ne([])),r=new nt(n,e),s=new nt(n,e+1);let i=fe();return this.$r.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new nt(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return te.comparator(e.key,n.key)||ce(e.Hr,n.Hr)}static Ur(e,n){return ce(e.Hr,n.Hr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new et(nt.Qr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new h4(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Yr=this.Yr.add(new nt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Nm:this.er-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nt(n,0),s=new nt(n,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([r,s],o=>{const l=this.Zr(o.Hr);i.push(l)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new et(ce);return n.forEach(s=>{const i=new nt(s,0),o=new nt(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,o],l=>{r=r.add(l.Hr)})}),z.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;te.isDocumentKey(i)||(i=i.child(""));const o=new nt(new te(i),0);let l=new et(ce);return this.Yr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(l=l.add(u.Hr)),!0)},o),z.resolve(this.ei(l))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){xe(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return z.forEach(n.mutations,s=>{const i=new nt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new nt(n,0),s=this.Yr.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e){this.ni=e,this.docs=function(){return new Ue(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():At.newInvalidDocument(n))}getEntries(e,n){let r=Ar();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():At.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ar();const o=n.path,l=new te(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||AD(CD(h),r)<=0||(s.has(h.key)||gd(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){se(9500)}ri(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new J4(this)}getSize(e){return z.resolve(this.size)}}class J4 extends H4{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.persistence=e,this.ii=new fi(n=>Om(n),Lm),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.si=0,this.oi=new $m,this.targetCount=0,this._i=So.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),z.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new So(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.hr(n),z.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ii.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n){this.ai={},this.overlays={},this.ui=new dd(0),this.ci=!1,this.ci=!0,this.li=new G4,this.referenceDelegate=e(this),this.hi=new Z4(this),this.indexManager=new M4,this.remoteDocumentCache=function(s){return new X4(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new O4(n),this.Ti=new Q4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new K4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new Y4(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new eV(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return z.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class eV extends ID{constructor(e){super(),this.currentSequenceNumber=e}}class Bm{constructor(e){this.persistence=e,this.Ai=new $m,this.Ri=null}static Vi(e){return new Bm(e)}get mi(){if(this.Ri)return this.Ri;throw se(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.mi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.mi,r=>{const s=te.fromPath(r);return this.fi(e,s).next(i=>{i||n.removeEntry(s,oe.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return z.or([()=>z.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Pc{constructor(e,n){this.persistence=e,this.gi=new fi(r=>kD(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=B4(this,n)}static Vi(e,n){return new Pc(e,n)}Ii(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return z.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(i=>i?z.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ri(e,o=>this.Sr(e,o,n).next(l=>{l||(r++,i.removeEntry(o,oe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),z.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Du(e.data.value)),n}Sr(e,n,r){return z.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=fe(),s=fe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Hm(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return Kk()?8:PD(qk())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ps(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ys(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new tV;return this.ws(e,n,o).next(l=>{if(i.result=l,this.Rs)return this.Ss(e,n,o,l.size)})}).next(()=>i.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(Ci()<=ge.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Ai(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),z.resolve()):(Ci()<=ge.DEBUG&&G("QueryEngine","Query:",Ai(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(Ci()<=ge.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Ai(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(n))):z.resolve())}ps(e,n){if(yw(n))return z.resolve(null);let r=Xn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=tp(n,null,"F"),r=Xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=fe(...i);return this.gs.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.bs(n,l);return this.Ds(n,c,o,u.readTime)?this.ps(e,tp(n,null,"F")):this.vs(e,c,n,u)}))})))}ys(e,n,r,s){return yw(n)||s.isEqual(oe.min())?z.resolve(null):this.gs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ds(n,o,r,s)?z.resolve(null):(Ci()<=ge.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ai(n)),this.vs(e,o,n,SD(s,nl)).next(l=>l))})}bs(e,n){let r=new et(Bx(e));return n.forEach((s,i)=>{gd(e,i)&&(r=r.add(i))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ws(e,n,r){return Ci()<=ge.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Ai(n)),this.gs.getDocumentsMatchingQuery(e,n,_s.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="LocalStore",rV=3e8;class sV{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new Ue(ce),this.Ms=new fi(i=>Om(i),Lm),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new q4(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function iV(t,e,n,r){return new sV(t,e,n,r)}async function hT(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let u=fe();for(const c of s){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of i){l.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Bs:c,removedBatchIds:o,addedBatchIds:l}))})})}function oV(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(l,u,c,h){const f=c.batch,p=f.keys();let m=z.resolve();return p.forEach(S=>{m=m.next(()=>h.getEntry(u,S)).next(w=>{const x=c.docVersions.get(S);xe(x!==null,48541),w.version.compareTo(x)<0&&(f.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),h.addEntry(w)))})}),m.next(()=>l.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=fe();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function fT(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function aV(t,e){const n=ae(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const l=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;l.push(n.hi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.hi.addMatchingKeys(i,h.addedDocuments,f)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(gt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),s=s.insert(f,m),function(w,x,v){return w.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=rV?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,m,h)&&l.push(n.hi.updateTargetData(i,m))});let u=Ar(),c=fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(lV(i,o,e.documentUpdates).next(h=>{u=h.Ls,c=h.ks})),!r.isEqual(oe.min())){const h=n.hi.getLastRemoteSnapshotVersion(i).next(f=>n.hi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return z.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.Fs=s,i))}function lV(t,e,n){let r=fe(),s=fe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Ar();return n.forEach((l,u)=>{const c=i.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(oe.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):G(Wm,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Ls:o,ks:s}})}function uV(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Nm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function cV(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.hi.allocateTargetId(r).next(o=>(s=new Jr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function op(t,e,n){const r=ae(t),s=r.Fs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Mo(o))throw o;G(Wm,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function Rw(t,e,n){const r=ae(t);let s=oe.min(),i=fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const f=ae(u),p=f.Ms.get(h);return p!==void 0?z.resolve(f.Fs.get(p)):f.hi.getTargetData(c,h)}(r,o,Xn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,l.targetId).next(u=>{i=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:oe.min(),n?i:fe())).next(l=>(dV(r,XD(e),l),{documents:l,qs:i})))}function dV(t,e,n){let r=t.xs.get(e)||oe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.xs.set(e,r)}class kw{constructor(){this.activeTargetIds=r4()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hV{constructor(){this.Fo=new kw,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new kw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="ConnectivityMonitor";class Dw{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){G(Nw,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){G(Nw,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pu=null;function ap(){return pu===null?pu=function(){return 268435456+Math.round(2147483648*Math.random())}():pu++,"0x"+pu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="RestConnection",pV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mV{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===xc?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=ap(),l=this.Go(e,n.toUriEncodedString());G(Ih,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,s,i);const{host:c}=new URL(l),h=bm(c);return this.jo(e,l,u,r,h).then(f=>(G(Ih,`Received RPC '${e}' ${o}: `,f),f),f=>{throw ws(Ih,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",r),f})}Jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Go(e,n){const r=pV[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class yV extends mV{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,i){const o=ap();return new Promise((l,u)=>{const c=new mx;c.setWithCredentials(!0),c.listenOnce(gx.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Nu.NO_ERROR:const f=c.getResponseJson();G(xt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case Nu.TIMEOUT:G(xt,`RPC '${e}' ${o} timed out`),u(new J(B.DEADLINE_EXCEEDED,"Request time out"));break;case Nu.HTTP_ERROR:const p=c.getStatus();if(G(xt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const S=m==null?void 0:m.error;if(S&&S.status&&S.message){const w=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(y)>=0?y:B.UNKNOWN}(S.status);u(new J(w,S.message))}else u(new J(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new J(B.UNAVAILABLE,"Connection failed."));break;default:se(9055,{c_:e,streamId:o,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{G(xt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);G(xt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",h,r,15)})}P_(e,n,r){const s=ap(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=wx(),l=vx(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=i.join("");G(xt,`Creating RPC '${e}' stream ${s}: ${h}`,u);const f=o.createWebChannel(h,u);this.T_(f);let p=!1,m=!1;const S=new gV({Ho:x=>{m?G(xt,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(p||(G(xt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),G(xt,`RPC '${e}' stream ${s} sending:`,x),f.send(x))},Yo:()=>f.close()}),w=(x,v,y)=>{x.listen(v,T=>{try{y(T)}catch(D){setTimeout(()=>{throw D},0)}})};return w(f,ha.EventType.OPEN,()=>{m||(G(xt,`RPC '${e}' stream ${s} transport opened.`),S.s_())}),w(f,ha.EventType.CLOSE,()=>{m||(m=!0,G(xt,`RPC '${e}' stream ${s} transport closed`),S.__(),this.I_(f))}),w(f,ha.EventType.ERROR,x=>{m||(m=!0,ws(xt,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),S.__(new J(B.UNAVAILABLE,"The operation could not be completed")))}),w(f,ha.EventType.MESSAGE,x=>{var v;if(!m){const y=x.data[0];xe(!!y,16349);const T=y,D=(T==null?void 0:T.error)||((v=T[0])===null||v===void 0?void 0:v.error);if(D){G(xt,`RPC '${e}' stream ${s} received error:`,D);const V=D.status;let L=function(b){const I=Qe[b];if(I!==void 0)return eT(I)}(V),C=D.message;L===void 0&&(L=B.INTERNAL,C="Unknown error status: "+V+" with message "+D.message),m=!0,S.__(new J(L,C)),f.close()}else G(xt,`RPC '${e}' stream ${s} received:`,y),S.a_(y)}}),w(l,yx.STAT_EVENT,x=>{x.stat===Gf.PROXY?G(xt,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===Gf.NOPROXY&&G(xt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.o_()},0),S}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Ph(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t){return new E4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="PersistentStream";class mT{constructor(e,n,r,s,i,o,l,u){this.Fi=e,this.w_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new pT(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Cr(n.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new J(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return G(Vw,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(G(Vw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vV extends mT{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=S4(this.serializer,e),r=function(i){if(!("targetChange"in i))return oe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?Jn(o.readTime):oe.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=ip(this.serializer),n.addTarget=function(i,o){let l;const u=o.target;if(l=ep(u)?{documents:b4(i,u)}:{query:I4(i,u).Vt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=rT(i,o.resumeToken);const c=np(i,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(oe.min())>0){l.readTime=Ic(i,o.snapshotVersion.toTimestamp());const c=np(i,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=R4(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=ip(this.serializer),n.removeTarget=e,this.k_(n)}}class wV extends mT{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=A4(e.writeResults,e.commitTime),r=Jn(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=ip(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>C4(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{}class EV extends _V{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,rp(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(B.UNKNOWN,i.toString())})}Jo(e,n,r,s,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Jo(e,rp(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(B.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class xV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Cr(n),this._a=!1):G("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="RemoteStore";class TV{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{pi(this)&&(G(ci,"Restarting streams for network reachability change."),await async function(u){const c=ae(u);c.Ia.add(4),await El(c),c.Aa.set("Unknown"),c.Ia.delete(4),await Ed(c)}(this))})}),this.Aa=new xV(r,s)}}async function Ed(t){if(pi(t))for(const e of t.da)await e(!0)}async function El(t){for(const e of t.da)await e(!1)}function gT(t,e){const n=ae(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Gm(n)?Km(n):jo(n).x_()&&Qm(n,e))}function qm(t,e){const n=ae(t),r=jo(n);n.Ta.delete(e),r.x_()&&yT(n,e),n.Ta.size===0&&(r.x_()?r.B_():pi(n)&&n.Aa.set("Unknown"))}function Qm(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jo(t).H_(e)}function yT(t,e){t.Ra.$e(e),jo(t).Y_(e)}function Km(t){t.Ra=new y4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),jo(t).start(),t.Aa.aa()}function Gm(t){return pi(t)&&!jo(t).M_()&&t.Ta.size>0}function pi(t){return ae(t).Ia.size===0}function vT(t){t.Ra=void 0}async function SV(t){t.Aa.set("Online")}async function CV(t){t.Ta.forEach((e,n)=>{Qm(t,e)})}async function AV(t,e){vT(t),Gm(t)?(t.Aa.la(e),Km(t)):t.Aa.set("Unknown")}async function bV(t,e,n){if(t.Aa.set("Online"),e instanceof nT&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ta.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ta.delete(l),s.Ra.removeTarget(l))}(t,e)}catch(r){G(ci,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rc(t,r)}else if(e instanceof Lu?t.Ra.Ye(e):e instanceof tT?t.Ra.it(e):t.Ra.et(e),!n.isEqual(oe.min()))try{const r=await fT(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Ra.Pt(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.Ta.get(c);h&&i.Ta.set(c,h.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const h=i.Ta.get(u);if(!h)return;i.Ta.set(u,h.withResumeToken(gt.EMPTY_BYTE_STRING,h.snapshotVersion)),yT(i,u);const f=new Jr(h.target,u,c,h.sequenceNumber);Qm(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){G(ci,"Failed to raise snapshot:",r),await Rc(t,r)}}async function Rc(t,e,n){if(!Mo(e))throw e;t.Ia.add(1),await El(t),t.Aa.set("Offline"),n||(n=()=>fT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(ci,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Ed(t)})}function wT(t,e){return e().catch(n=>Rc(t,n,e))}async function xd(t){const e=ae(t),n=Ss(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Nm;for(;IV(e);)try{const s=await uV(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,PV(e,s)}catch(s){await Rc(e,s)}_T(e)&&ET(e)}function IV(t){return pi(t)&&t.Pa.length<10}function PV(t,e){t.Pa.push(e);const n=Ss(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function _T(t){return pi(t)&&!Ss(t).M_()&&t.Pa.length>0}function ET(t){Ss(t).start()}async function RV(t){Ss(t).na()}async function kV(t){const e=Ss(t);for(const n of t.Pa)e.X_(n.mutations)}async function NV(t,e,n){const r=t.Pa.shift(),s=Fm.from(r,e,n);await wT(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await xd(t)}async function DV(t,e){e&&Ss(t).Z_&&await async function(r,s){if(function(o){return m4(o)&&o!==B.ABORTED}(s.code)){const i=r.Pa.shift();Ss(r).N_(),await wT(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await xd(r)}}(t,e),_T(t)&&ET(t)}async function Ow(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),G(ci,"RemoteStore received new credentials");const r=pi(n);n.Ia.add(3),await El(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Ed(n)}async function VV(t,e){const n=ae(t);e?(n.Ia.delete(2),await Ed(n)):e||(n.Ia.add(2),await El(n),n.Aa.set("Unknown"))}function jo(t){return t.Va||(t.Va=function(n,r,s){const i=ae(n);return i.ia(),new vV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:SV.bind(null,t),e_:CV.bind(null,t),n_:AV.bind(null,t),J_:bV.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Gm(t)?Km(t):t.Aa.set("Unknown")):(await t.Va.stop(),vT(t))})),t.Va}function Ss(t){return t.ma||(t.ma=function(n,r,s){const i=ae(n);return i.ia(),new wV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:RV.bind(null,t),n_:DV.bind(null,t),ea:kV.bind(null,t),ta:NV.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await xd(t)):(await t.ma.stop(),t.Pa.length>0&&(G(ci,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Ym(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(t,e){if(Cr("AsyncQueue",`${e}: ${t}`),Mo(t))return new J(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{static emptySet(e){return new Zi(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=fa(),this.sortedSet=new Ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Zi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.fa=new Ue(te.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):se(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Co{constructor(e,n,r,s,i,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Co(e,n,Zi.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class LV{constructor(){this.queries=Mw(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=ae(n),i=s.queries;s.queries=Mw(),i.forEach((o,l)=>{for(const u of l.wa)u.onError(r)})})(this,new J(B.ABORTED,"Firestore shutting down"))}}function Mw(){return new fi(t=>$x(t),md)}async function MV(t,e){const n=ae(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.ba()&&(r=2):(i=new OV,r=e.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(s,!0);break;case 1:i.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=Xm(o,`Initialization of query '${Ai(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.wa.push(e),e.va(n.onlineState),i.ya&&e.Ca(i.ya)&&Jm(n)}async function jV(t,e){const n=ae(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.wa.indexOf(e);o>=0&&(i.wa.splice(o,1),i.wa.length===0?s=e.ba()?0:1:!i.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function FV(t,e){const n=ae(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.wa)l.Ca(s)&&(r=!0);o.ya=s}}r&&Jm(n)}function UV(t,e,n){const r=ae(t),s=r.queries.get(e);if(s)for(const i of s.wa)i.onError(n);r.queries.delete(e)}function Jm(t){t.Da.forEach(e=>{e.next()})}var lp,jw;(jw=lp||(lp={})).Fa="default",jw.Cache="cache";class zV{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Co(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this.key=e}}class TT{constructor(e){this.key=e}}class $V{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=fe(),this.mutatedKeys=fe(),this.Xa=Bx(e),this.eu=new Zi(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new Lw,s=n?n.eu:this.eu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),m=gd(this.query,f)?f:null,S=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;p&&m?p.data.isEqual(m.data)?S!==w&&(r.track({type:3,doc:m}),x=!0):this.iu(p,m)||(r.track({type:2,doc:m}),x=!0,(u&&this.Xa(m,u)>0||c&&this.Xa(m,c)<0)&&(l=!0)):!p&&m?(r.track({type:0,doc:m}),x=!0):p&&!m&&(r.track({type:1,doc:p}),x=!0,(u||c)&&(l=!0)),x&&(m?(o=o.add(m),i=w?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{eu:o,ru:r,Ds:l,mutatedKeys:i}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((h,f)=>function(m,S){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{At:x})}};return w(m)-w(S)}(h.type,f.type)||this.Xa(h.doc,f.doc)),this.su(r),s=s!=null&&s;const l=n&&!s?this.ou():[],u=this.Za.size===0&&this.current&&!s?1:0,c=u!==this.Ya;return this.Ya=u,o.length!==0||c?{snapshot:new Co(this.query,e.eu,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Lw,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=fe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new TT(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new xT(r))}),n}uu(e){this.Ha=e.qs,this.Za=fe();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Co.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Zm="SyncEngine";class BV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class HV{constructor(e){this.key=e,this.lu=!1}}class WV{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new fi(l=>$x(l),md),this.Tu=new Map,this.Iu=new Set,this.du=new Ue(te.comparator),this.Eu=new Map,this.Au=new $m,this.Ru={},this.Vu=new Map,this.mu=So.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function qV(t,e,n=!0){const r=PT(t);let s;const i=r.Pu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await ST(r,e,n,!0),s}async function QV(t,e){const n=PT(t);await ST(n,e,!0,!1)}async function ST(t,e,n,r){const s=await cV(t.localStore,Xn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await KV(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&gT(t.remoteStore,s),l}async function KV(t,e,n,r,s){t.gu=(f,p,m)=>async function(w,x,v,y){let T=x.view.nu(v);T.Ds&&(T=await Rw(w.localStore,x.query,!1).then(({documents:C})=>x.view.nu(C,T)));const D=y&&y.targetChanges.get(x.targetId),V=y&&y.targetMismatches.get(x.targetId)!=null,L=x.view.applyChanges(T,w.isPrimaryClient,D,V);return Uw(w,x.targetId,L._u),L.snapshot}(t,f,p,m);const i=await Rw(t.localStore,e,!0),o=new $V(e,i.qs),l=o.nu(i.documents),u=_l.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(l,t.isPrimaryClient,u);Uw(t,n,c._u);const h=new BV(e,n,o);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function GV(t,e,n){const r=ae(t),s=r.Pu.get(e),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(o=>!md(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await op(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&qm(r.remoteStore,s.targetId),up(r,s.targetId)}).catch(Lo)):(up(r,s.targetId),await op(r.localStore,s.targetId,!0))}async function YV(t,e){const n=ae(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qm(n.remoteStore,r.targetId))}async function XV(t,e,n){const r=sO(t);try{const s=await function(o,l){const u=ae(o),c=De.now(),h=l.reduce((m,S)=>m.add(S.key),fe());let f,p;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let S=Ar(),w=fe();return u.Os.getEntries(m,h).next(x=>{S=x,S.forEach((v,y)=>{y.isValidDocument()||(w=w.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,S)).next(x=>{f=x;const v=[];for(const y of l){const T=c4(y,f.get(y.key).overlayedDocument);T!=null&&v.push(new Rs(y.key,T,Vx(T.value.mapValue),Nn.exists(!0)))}return u.mutationQueue.addMutationBatch(m,c,v,l)}).next(x=>{p=x;const v=x.applyToLocalDocumentSet(f,w);return u.documentOverlayCache.saveOverlays(m,x.batchId,v)})}).then(()=>({batchId:p.batchId,changes:Wx(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,u){let c=o.Ru[o.currentUser.toKey()];c||(c=new Ue(ce)),c=c.insert(l,u),o.Ru[o.currentUser.toKey()]=c}(r,s.batchId,n),await xl(r,s.changes),await xd(r.remoteStore)}catch(s){const i=Xm(s,"Failed to persist write");n.reject(i)}}async function CT(t,e){const n=ae(t);try{const r=await aV(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.lu=!0:s.modifiedDocuments.size>0?xe(o.lu,14607):s.removedDocuments.size>0&&(xe(o.lu,42227),o.lu=!1))}),await xl(n,r,e)}catch(r){await Lo(r)}}function Fw(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const u=ae(o);u.onlineState=l;let c=!1;u.queries.forEach((h,f)=>{for(const p of f.wa)p.va(l)&&(c=!0)}),c&&Jm(u)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JV(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new Ue(te.comparator);o=o.insert(i,At.newNoDocument(i,oe.min()));const l=fe().add(i),u=new wd(oe.min(),new Map,new Ue(ce),o,l);await CT(r,u),r.du=r.du.remove(i),r.Eu.delete(e),eg(r)}else await op(r.localStore,e,!1).then(()=>up(r,e,n)).catch(Lo)}async function ZV(t,e){const n=ae(t),r=e.batch.batchId;try{const s=await oV(n.localStore,e);bT(n,r,null),AT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xl(n,s)}catch(s){await Lo(s)}}async function eO(t,e,n){const r=ae(t);try{const s=await function(o,l){const u=ae(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,l).next(f=>(xe(f!==null,37113),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);bT(r,e,n),AT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xl(r,s)}catch(s){await Lo(s)}}function AT(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function bT(t,e,n){const r=ae(t);let s=r.Ru[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function up(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||IT(t,r)})}function IT(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(qm(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),eg(t))}function Uw(t,e,n){for(const r of n)r instanceof xT?(t.Au.addReference(r.key,e),tO(t,r)):r instanceof TT?(G(Zm,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||IT(t,r.key)):se(19791,{yu:r})}function tO(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(G(Zm,"New document in limbo: "+n),t.Iu.add(r),eg(t))}function eg(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new te(Ne.fromString(e)),r=t.mu.next();t.Eu.set(r,new HV(n)),t.du=t.du.insert(n,r),gT(t.remoteStore,new Jr(Xn(zx(n.path)),r,"TargetPurposeLimboResolution",dd.ue))}}async function xl(t,e,n){const r=ae(t),s=[],i=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((l,u)=>{o.push(r.gu(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){s.push(c);const f=Hm.Es(u.targetId,c);i.push(f)}}))}),await Promise.all(o),r.hu.J_(s),await async function(u,c){const h=ae(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(c,p=>z.forEach(p.Is,m=>h.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>z.forEach(p.ds,m=>h.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!Mo(f))throw f;G(Wm,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const m=h.Fs.get(p),S=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(S);h.Fs=h.Fs.insert(p,w)}}}(r.localStore,i))}async function nO(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){G(Zm,"User change. New user:",e.toKey());const r=await hT(n.localStore,e);n.currentUser=e,function(i,o){i.Vu.forEach(l=>{l.forEach(u=>{u.reject(new J(B.CANCELLED,o))})}),i.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xl(n,r.Bs)}}function rO(t,e){const n=ae(t),r=n.Eu.get(e);if(r&&r.lu)return fe().add(r.key);{let s=fe();const i=n.Tu.get(e);if(!i)return s;for(const o of i){const l=n.Pu.get(o);s=s.unionWith(l.view.tu)}return s}}function PT(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JV.bind(null,e),e.hu.J_=FV.bind(null,e.eventManager),e.hu.pu=UV.bind(null,e.eventManager),e}function sO(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eO.bind(null,e),e}class kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_d(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return iV(this.persistence,new nV,e.initialUser,this.serializer)}Du(e){return new dT(Bm.Vi,this.serializer)}bu(e){return new hV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kc.provider={build:()=>new kc};class iO extends kc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){xe(this.persistence.referenceDelegate instanceof Pc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new z4(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Ut.withCacheSize(this.cacheSizeBytes):Ut.DEFAULT;return new dT(r=>Pc.Vi(r,n),this.serializer)}}class cp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Fw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nO.bind(null,this.syncEngine),await VV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new LV}()}createDatastore(e){const n=_d(e.databaseInfo.databaseId),r=function(i){return new yV(i)}(e.databaseInfo);return function(i,o,l,u){return new EV(i,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new TV(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Fw(this.syncEngine,n,0),function(){return Dw.C()?new Dw:new fV}())}createSyncEngine(e,n){return function(s,i,o,l,u,c,h){const f=new WV(s,i,o,l,u,c);return h&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ae(s);G(ci,"RemoteStore shutting down."),i.Ia.add(5),await El(i),i.Ea.shutdown(),i.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}cp.provider={build:()=>new cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="FirestoreClient";class aO{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=St.UNAUTHENTICATED,this.clientId=Rm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G(Cs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(Cs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Xm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rh(t,e){t.asyncQueue.verifyOperationInProgress(),G(Cs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await hT(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{ws("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{G("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{ws("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function zw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lO(t);G(Cs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ow(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Ow(e.remoteStore,s)),t._onlineComponents=e}async function lO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(Cs,"Using user provided OfflineComponentProvider");try{await Rh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ws("Error using user provided cache. Falling back to memory cache: "+n),await Rh(t,new kc)}}else G(Cs,"Using default OfflineComponentProvider"),await Rh(t,new iO(void 0));return t._offlineComponents}async function RT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(Cs,"Using user provided OnlineComponentProvider"),await zw(t,t._uninitializedComponentsProvider._online)):(G(Cs,"Using default OnlineComponentProvider"),await zw(t,new cp))),t._onlineComponents}function uO(t){return RT(t).then(e=>e.syncEngine)}async function cO(t){const e=await RT(t),n=e.eventManager;return n.onListen=qV.bind(null,e.syncEngine),n.onUnlisten=GV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=QV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YV.bind(null,e.syncEngine),n}function dO(t,e,n={}){const r=new cs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,c){const h=new oO({next:p=>{h.Ou(),o.enqueueAndForget(()=>jV(i,f)),p.fromCache&&u.source==="server"?c.reject(new J(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new zV(l,h,{includeMetadataChanges:!0,ka:!0});return MV(i,f)}(await cO(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="firestore.googleapis.com",Bw=!0;class Hw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NT,this.ssl=Bw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Bw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<F4)throw new J(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Td{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pD;switch(r.type){case"firstParty":return new vD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=$w.get(n);r&&(G("ComponentProvider","Removing Datastore"),$w.delete(n),r.terminate())}(this),Promise.resolve()}}function hO(t,e,n,r={}){var s;t=ui(t,Td);const i=bm(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;i&&(zk(`https://${u}`),Wk("Firestore",!0)),o.host!==NT&&o.host!==u&&ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:u,ssl:i,emulatorOptions:r});if(!vc(c,l)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=St.MOCK_USER;else{h=$k(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new J(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new St(p)}t._authCredentials=new mD(new Ex(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Sd(this.firestore,e,this._query)}}class st{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new st(this.firestore,e,this._key)}toJSON(){return{type:st._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(vl(n,st._jsonSchema))return new st(e,r||null,new te(Ne.fromString(n.referencePath)))}}st._jsonSchemaVersion="firestore/documentReference/1.0",st._jsonSchema={type:Ge("string",st._jsonSchemaVersion),referencePath:Ge("string")};class ds extends Sd{constructor(e,n,r){super(e,n,zx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new st(this.firestore,null,new te(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function Si(t,e,...n){if(t=vs(t),Tx("collection","path",e),t instanceof Td){const r=Ne.fromString(e,...n);return sw(r),new ds(t,null,r)}{if(!(t instanceof st||t instanceof ds))throw new J(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return sw(r),new ds(t.firestore,null,r)}}function Pi(t,e,...n){if(t=vs(t),arguments.length===1&&(e=Rm.newId()),Tx("doc","path",e),t instanceof Td){const r=Ne.fromString(e,...n);return rw(r),new st(t,null,new te(r))}{if(!(t instanceof st||t instanceof ds))throw new J(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return rw(r),new st(t.firestore,t instanceof ds?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="AsyncQueue";class qw{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new pT(this,"async_queue_retry"),this.oc=()=>{const r=Ph();r&&G(Ww,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Ph();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Ph();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new cs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Mo(e))throw e;G(Ww,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Cr("INTERNAL UNHANDLED ERROR: ",Qw(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=Ym.createAndSchedule(this,e,n,r,i=>this.lc(i));return this.ec.push(s),s}ac(){this.tc&&se(47125,{hc:Qw(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function Qw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Tl extends Td{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new qw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qw(e),this._firestoreClient=void 0,await e}}}function fO(t,e){const n=typeof t=="object"?t:tD(),r=typeof t=="string"?t:xc,s=YN(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Fk("firestore");i&&hO(s,...i)}return s}function DT(t){if(t._terminated)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pO(t),t._firestoreClient}function pO(t){var e,n,r;const s=t._freezeSettings(),i=function(l,u,c,h){return new VD(l,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,kT(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new aO(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pn(gt.fromBase64String(e))}catch(n){throw new J(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pn(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vl(e,pn._jsonSchema))return pn.fromBase64String(e.bytes)}}pn._jsonSchemaVersion="firestore/bytes/1.0",pn._jsonSchema={type:Ge("string",pn._jsonSchemaVersion),bytes:Ge("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zn._jsonSchemaVersion}}static fromJSON(e){if(vl(e,Zn._jsonSchema))return new Zn(e.latitude,e.longitude)}}Zn._jsonSchemaVersion="firestore/geoPoint/1.0",Zn._jsonSchema={type:Ge("string",Zn._jsonSchemaVersion),latitude:Ge("number"),longitude:Ge("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:er._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vl(e,er._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new er(e.vectorValues);throw new J(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}er._jsonSchemaVersion="firestore/vectorValue/1.0",er._jsonSchema={type:Ge("string",er._jsonSchemaVersion),vectorValues:Ge("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=/^__.*__$/;class gO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new wl(e,this.data,n,this.fieldTransforms)}}class VT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function OT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ec:t})}}class ng{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new ng(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Nc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(OT(this.Ec)&&mO.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class yO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_d(e)}Dc(e,n,r,s=!1){return new ng({Ec:e,methodName:n,bc:r,path:ft.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function LT(t){const e=t._freezeSettings(),n=_d(t._databaseId);return new yO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vO(t,e,n,r,s,i={}){const o=t.Dc(i.merge||i.mergeFields?2:0,e,n,s);rg("Data must be an object, but it was:",o,r);const l=MT(r,o);let u,c;if(i.merge)u=new tn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=dp(e,f,n);if(!o.contains(p))throw new J(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);FT(h,p)||h.push(p)}u=new tn(h),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new gO(new $t(l),u,c)}class Ad extends tg{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ad}}function wO(t,e,n,r){const s=t.Dc(1,e,n);rg("Data must be an object, but it was:",s,r);const i=[],o=$t.empty();Ps(r,(u,c)=>{const h=sg(e,u,n);c=vs(c);const f=s.gc(h);if(c instanceof Ad)i.push(h);else{const p=bd(c,f);p!=null&&(i.push(h),o.set(h,p))}});const l=new tn(i);return new VT(o,l,s.fieldTransforms)}function _O(t,e,n,r,s,i){const o=t.Dc(1,e,n),l=[dp(e,r,n)],u=[s];if(i.length%2!=0)throw new J(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)l.push(dp(e,i[p])),u.push(i[p+1]);const c=[],h=$t.empty();for(let p=l.length-1;p>=0;--p)if(!FT(c,l[p])){const m=l[p];let S=u[p];S=vs(S);const w=o.gc(m);if(S instanceof Ad)c.push(m);else{const x=bd(S,w);x!=null&&(c.push(m),h.set(m,x))}}const f=new tn(c);return new VT(h,f,o.fieldTransforms)}function bd(t,e){if(jT(t=vs(t)))return rg("Unsupported field value:",e,t),MT(t,e);if(t instanceof tg)return function(r,s){if(!OT(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let u=bd(l,s.yc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=vs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return s4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=De.fromDate(r);return{timestampValue:Ic(s.serializer,i)}}if(r instanceof De){const i=new De(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ic(s.serializer,i)}}if(r instanceof Zn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pn)return{bytesValue:rT(s.serializer,r._byteString)};if(r instanceof st){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:zm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof er)return function(o,l){return{mapValue:{fields:{[Nx]:{stringValue:Dx},[Tc]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.wc("VectorValues must only contain numeric values.");return Mm(l.serializer,c)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${km(r)}`)}(t,e)}function MT(t,e){const n={};return Ax(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ps(t,(r,s)=>{const i=bd(s,e.Vc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function jT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof De||t instanceof Zn||t instanceof pn||t instanceof st||t instanceof tg||t instanceof er)}function rg(t,e,n){if(!jT(n)||!Sx(n)){const r=km(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function dp(t,e,n){if((e=vs(e))instanceof Cd)return e._internalPath;if(typeof e=="string")return sg(t,e);throw Nc("Field path arguments must be of type string or ",t,!1,void 0,n)}const EO=new RegExp("[~\\*/\\[\\]]");function sg(t,e,n){if(e.search(EO)>=0)throw Nc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cd(...e.split("."))._internalPath}catch{throw Nc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new J(B.INVALID_ARGUMENT,l+t+u)}function FT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xO extends UT{data(){return super.data()}}function zT(t,e){return typeof e=="string"?sg(t,e):e instanceof Cd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SO{convertValue(e,n="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ps(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Tc].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>We(o.doubleValue));return new er(i)}convertGeoPoint(e){return new Zn(We(e.latitude),We(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=fd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rl(e));default:return null}}convertTimestamp(e){const n=Es(e);return new De(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ne.fromString(e);xe(uT(r),9688,{name:e});const s=new sl(r.get(1),r.get(3)),i=new te(r.popFirst(5));return s.isEqual(n)||Cr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class mu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eo extends UT{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(zT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=eo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",eo._jsonSchema={type:Ge("string",eo._jsonSchemaVersion),bundleSource:Ge("string","DocumentSnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class Mu extends eo{data(e={}){return super.data(e)}}class to{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new mu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Mu(this._firestore,this._userDataWriter,r.key,r,new mu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const u=new Mu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new mu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const u=new Mu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new mu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:AO(l.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=to._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:t})}}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:Ge("string",to._jsonSchemaVersion),bundleSource:Ge("string","QuerySnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class bO extends SO{constructor(e){super(),this.firestore=e}convertBytes(e){return new pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,n)}}function kh(t){t=ui(t,Sd);const e=ui(t.firestore,Tl),n=DT(e),r=new bO(e);return TO(t._query),dO(n,t._query).then(s=>new to(e,r,t,s))}function Nh(t,e,n,...r){t=ui(t,st);const s=ui(t.firestore,Tl),i=LT(s);let o;return o=typeof(e=vs(e))=="string"||e instanceof Cd?_O(i,"updateDoc",t._key,e,n,r):wO(i,"updateDoc",t._key,e),ig(s,[o.toMutation(t._key,Nn.exists(!0))])}function Kw(t){return ig(ui(t.firestore,Tl),[new jm(t._key,Nn.none())])}function Dh(t,e){const n=ui(t.firestore,Tl),r=Pi(t),s=CO(t.converter,e);return ig(n,[vO(LT(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Nn.exists(!1))]).then(()=>r)}function ig(t,e){return function(r,s){const i=new cs;return r.asyncQueue.enqueueAndForget(async()=>XV(await uO(r),s,i)),i.promise}(DT(t),e)}(function(e,n=!0){(function(s){Oo=s})(eD),_c(new el("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Tl(new gD(r.getProvider("auth-internal")),new wD(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new J(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sl(c.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Ji(Jv,Zv,e),Ji(Jv,Zv,"esm2017")})();const IO={apiKey:"AIzaSyC24norp6rZjXJoxVj3s4ZGZhJNtXN4Mpc",authDomain:"hamyareketabdar.firebaseapp.com",projectId:"hamyareketabdar",storageBucket:"hamyareketabdar.firebasestorage.app",messagingSenderId:"574623248660",appId:"1:574623248660:web:ef0e71a183b860aae2d201"},PO=dx(IO),Tn=fO(PO),RO=()=>{const[t,e]=R.useState(null),[n,r]=R.useState([]),[s,i]=R.useState([]),[o,l]=R.useState([]),[u,c]=R.useState(""),[h,f]=R.useState(!1),[p,m]=R.useState(!1),[S,w]=R.useState(null),[x,v]=R.useState("books"),y=async()=>{const $=await kh(Si(Tn,"books"));r($.docs.map(W=>{var ee;return{id:W.id,...W.data(),createdAt:(ee=W.data().createdAt)!=null&&ee.toDate?W.data().createdAt.toDate():new Date(W.data().createdAt)}}));const j=await kh(Si(Tn,"needs"));i(j.docs.map(W=>{var ee;return{id:W.id,...W.data(),createdAt:(ee=W.data().createdAt)!=null&&ee.toDate?W.data().createdAt.toDate():new Date(W.data().createdAt)}}));const U=await kh(Si(Tn,"donationRequests"));l(U.docs.map(W=>{var ee;return{id:W.id,...W.data(),createdAt:(ee=W.data().createdAt)!=null&&ee.toDate?W.data().createdAt.toDate():new Date(W.data().createdAt)}}))};R.useEffect(()=>{y()},[]);const T=($,j)=>$==="ketab"&&j==="1234"?(e({username:$,role:"librarian"}),!0):$==="guest"&&j==="guest"?(e({username:$,role:"guest"}),!0):!1,D=()=>{e(null)},V=n.filter($=>$.title.toLowerCase().includes(u.toLowerCase())||$.authors.some(j=>j.toLowerCase().includes(u.toLowerCase()))||$.publisher.toLowerCase().includes(u.toLowerCase())),L=s.filter($=>$.title.toLowerCase().includes(u.toLowerCase())||$.authors.some(j=>j.toLowerCase().includes(u.toLowerCase()))||$.publisher&&$.publisher.toLowerCase().includes(u.toLowerCase())),C=async $=>{await Dh(Si(Tn,"books"),{...$,createdAt:new Date}),y(),f(!1)},_=async $=>{S&&(await Nh(Pi(Tn,"books",S.id),{...$}),w(null),f(!1),y())},b=async $=>{await Kw(Pi(Tn,"books",$)),y()},I=$=>{w($),f(!0)},k=async $=>{await Dh(Si(Tn,"needs"),{...$,createdAt:new Date}),y(),m(!1)},N=async $=>{await Kw(Pi(Tn,"needs",$)),y()},P=async({title:$,author:j,description:U,contact:W})=>{await Dh(Si(Tn,"donationRequests"),{title:$,author:j,description:U,contact:W,status:"pending",createdAt:new Date}),y(),wh.success("            .")},q=async $=>{await Nh(Pi(Tn,"donationRequests",$),{status:"approved"}),y(),wh.success("  .")},ne=async $=>{await Nh(Pi(Tn,"donationRequests",$),{status:"rejected"}),y(),wh.error("  .")},re=n.reduce(($,j)=>$+j.quantity,0);return t?E.jsxs("div",{className:"min-h-screen bg-gradient-hero",children:[E.jsx("header",{className:"bg-card/90 backdrop-blur-md border-b border-border/50 sticky top-0 z-50",children:E.jsx("div",{className:"container mx-auto px-4 py-4",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(Ru,{className:"h-8 w-8 text-primary"}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-xl font-bold text-foreground",children:" "}),E.jsx("p",{className:"text-sm text-muted-foreground",children:"   "})]})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[E.jsx(ed,{className:"h-4 w-4"}),E.jsxs("span",{children:[t.username," (",t.role==="librarian"?"":"",")"]})]}),E.jsx(Ee,{variant:"outline",size:"sm",onClick:y,className:"ml-2",children:""}),E.jsx(Ee,{variant:"outline",size:"sm",onClick:D,children:E.jsx($b,{className:"h-4 w-4"})})]})]})})}),E.jsxs("main",{className:"container mx-auto px-4 py-6 space-y-6",children:[E.jsxs("div",{className:"flex gap-2",children:[E.jsx(Ee,{variant:x==="books"?"default":"outline",onClick:()=>v("books"),children:" "}),E.jsx(Ee,{variant:x==="needs"?"default":"outline",onClick:()=>v("needs"),children:" "}),E.jsx(Ee,{variant:x==="donations"?"default":"outline",onClick:()=>v("donations"),children:" "})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx(Jt,{children:E.jsxs(Zt,{className:"p-4 text-center",children:[E.jsx("div",{className:"text-2xl font-bold text-primary",children:x==="books"?n.length:s.length}),E.jsx("div",{className:"text-sm text-muted-foreground",children:x==="books"?" ":"  "})]})}),E.jsx(Jt,{children:E.jsxs(Zt,{className:"p-4 text-center",children:[E.jsx("div",{className:"text-2xl font-bold text-accent",children:x==="books"?re:s.filter($=>$.priority==="high").length}),E.jsx("div",{className:"text-sm text-muted-foreground",children:x==="books"?" ":" "})]})})]}),t.role==="librarian"&&E.jsx("div",{className:"flex gap-2",children:x==="books"?E.jsxs(Ee,{onClick:()=>{w(null),f(!0)},className:"gap-2",children:[E.jsx(uc,{className:"h-4 w-4"})," "]}):E.jsxs(Ee,{onClick:()=>m(!0),className:"gap-2",children:[E.jsx(uc,{className:"h-4 w-4"})," "]})}),E.jsx(xk,{searchTerm:u,setSearchTerm:c}),E.jsx("div",{className:"space-y-4",children:x==="books"?V.length===0?E.jsx(Jt,{children:E.jsxs(Zt,{className:"p-8 text-center",children:[E.jsx(Ru,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),E.jsx("p",{className:"text-muted-foreground",children:u?"     ":"   "})]})}):V.map($=>E.jsx(Ek,{book:$,onEdit:t.role==="librarian"?I:void 0,onDelete:t.role==="librarian"?b:void 0},$.id)):x==="needs"?E.jsx(Ak,{needs:L,onDelete:t.role==="librarian"?N:void 0}):E.jsxs("div",{children:[t.role==="guest"&&E.jsx(Ik,{onSubmit:P}),E.jsx("div",{className:"space-y-4 mt-6",children:(t.role==="librarian"?o:o.filter($=>$.status==="approved")).length===0?E.jsx(Jt,{children:E.jsxs(Zt,{className:"p-8 text-center",children:[E.jsx(Ru,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),E.jsx("p",{className:"text-muted-foreground",children:u?"     ":"    "})]})}):(t.role==="librarian"?o:o.filter($=>$.status==="approved")).map($=>E.jsxs(Jt,{children:[E.jsxs(No,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[E.jsx(Do,{className:"text-sm font-medium",children:$.title}),E.jsx("div",{className:"flex items-center text-xs text-muted-foreground",children:$.status==="pending"?E.jsx(Ca,{className:"bg-yellow-500 text-xs",children:"  "}):$.status==="approved"?E.jsx(Ca,{className:"bg-green-500 text-xs",children:" "}):E.jsx(Ca,{className:"bg-red-500 text-xs",children:" "})})]}),E.jsxs(Zt,{children:[E.jsxs("div",{className:"mb-2 text-sm",children:[": ",$.author]}),$.description&&E.jsxs("div",{className:"mb-2 text-sm",children:[": ",$.description]}),E.jsxs("div",{className:"mb-2 text-xs text-muted-foreground",children:[" : ",$.contact]}),E.jsxs("div",{className:"mb-2 text-xs text-muted-foreground",children:[" : ",$.createdAt.toLocaleDateString("fa-IR")]}),t.role==="librarian"&&$.status==="pending"&&E.jsxs("div",{className:"flex gap-2 mt-4",children:[E.jsxs(Ee,{size:"sm",variant:"default",onClick:()=>q($.id),children:[E.jsx(Fb,{className:"h-4 w-4"})," "]}),E.jsxs(Ee,{size:"sm",variant:"destructive",onClick:()=>ne($.id),children:[E.jsx(Ga,{className:"h-4 w-4"})," "]})]})]})]},$.id))})]})})]}),h&&t.role==="librarian"&&E.jsx(_k,{book:S,onSubmit:S?_:C,onCancel:()=>{f(!1),w(null)}}),p&&t.role==="librarian"&&E.jsx(bk,{onSubmit:k,onCancel:()=>m(!1)})]}):E.jsx(Tk,{onLogin:T})},kO=()=>{const t=Z1();return R.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),E.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),E.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},NO=new f2,DO=()=>E.jsx(m2,{client:NO,children:E.jsxs(BR,{children:[E.jsx(AI,{}),E.jsx(sP,{}),E.jsx(nk,{children:E.jsxs(Z2,{children:[E.jsx(Uf,{path:"/",element:E.jsx(RO,{})}),E.jsx(Uf,{path:"*",element:E.jsx(kO,{})})]})})]})});vE(document.getElementById("root")).render(E.jsx(DO,{}));
